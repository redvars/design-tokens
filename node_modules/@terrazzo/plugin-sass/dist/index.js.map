{"version":3,"file":"index.js","names":["parseNumber","parseNumber_default","named_default","parseNamed","parseNamed_default","hex","parseHex","parseHex_default","num$1","per","num_per","num_per_none","hue$1","c","rgb_num_old","rgb_per_old","parseRgbLegacy","parseRgbLegacy_default","prepare","parse_default","_prepare_default","converter","converters$1","converter_default","modes","parsers","colorProfiles","identity","useMode","k$3","getMode","useParser","IdentStartCodePoint","IdentCodePoint","Tok","_i","is_num","is_ident","huenits","num","digits","ident","identlike","tokenize","parseColorSyntax","consumeCoords","c$1","parseModernSyntax","parse","parseRgb","r$1","parseRgb_default","parseTransparent","parseTransparent_default","lerp","get_classes","interpolatorPiecewise","interpolatorLinear","fixupAlpha","definition_default$12","linearize$2","convertA98ToXyz65","convertA98ToXyz65_default","gamma$2","convertXyz65ToA98","convertXyz65ToA98_default","fn$3","abs$1","convertRgbToLrgb","convertRgbToLrgb_default","convertRgbToXyz65","convertRgbToXyz65_default","fn$2","convertLrgbToRgb","convertLrgbToRgb_default","convertXyz65ToRgb","convertXyz65ToRgb_default","definition_default","normalizeHue","hue$2","normalizeHue_default","convertHslToRgb","convertRgbToHsl","M$1","hueToDeg","hue_default","hsl_old","parseHslLegacy","parseHslLegacy_default","parseHsl","parseHsl_default","hue","fn$4","fixupHueShorter","differenceHueSaturation","differenceHueNaive","differenceHueChroma","averageAngle","definition_default$1","convertHsvToRgb","f$2","convertRgbToHsv","definition_default$19","convertHwbToRgb","convertRgbToHwb","ParseHwb","definition_default$2","k","e","D50","D65","fn$1","convertLabToXyz50","convertLabToXyz50_default","convertXyz50ToRgb","convertXyz50ToRgb_default","convertLabToRgb","convertLabToRgb_default","convertRgbToXyz50","convertRgbToXyz50_default","f$1","convertXyz50ToLab","convertXyz50ToLab_default","convertRgbToLab","convertRgbToLab_default","parseLab","definition_default$3","k$1","e$1","fn","convertLab65ToXyz65","convertLab65ToXyz65_default","convertLab65ToRgb","convertLab65ToRgb_default","f","convertXyz65ToLab65","convertXyz65ToLab65_default","convertRgbToLab65","convertRgbToLab65_default","definition_default$4","convertLabToLch","convertLabToLch_default","convertLchToLab","convertLchToLab_default","parseLch","definition_default$5","definition_default$23","definition_default$6","convertOklabToLrgb","convertOklabToLrgb_default","convertLrgbToOklab","convertLrgbToOklab_default","convertRgbToOklab","convertRgbToOklab_default","convertOklabToRgb","convertOklabToRgb_default","parseOklab","parseOklab_default","definition_default$7","parseOklch","parseOklch_default","definition_default$8","convertP3ToXyz65","convertP3ToXyz65_default","convertXyz65ToP3","convertXyz65ToP3_default","definition_default$9","gamma$1","convertXyz50ToProphoto","convertXyz50ToProphoto_default","linearize$1","convertProphotoToXyz50","convertProphotoToXyz50_default","definition_default$10","α$1","β$1","gamma","convertXyz65ToRec2020","convertXyz65ToRec2020_default","α","β","linearize","convertRec2020ToXyz65","convertRec2020ToXyz65_default","definition_default$11","definition_default$13","convertXyz65ToXyz50","convertXyz65ToXyz50_default","convertXyz50ToXyz65","definition_default$14","M","degToRad","radToDeg","DE","BE","BCAD","convertRgbToCubehelix","convertRgbToCubehelix_default","convertCubehelixToRgb","definition_default$15","kE","kCH","θ","cosθ","sinθ","factor","convertDlchToLab65","e$3","convertDlchToLab65_default","convertLab65ToDlch","convertLab65ToDlch_default","convertDlabToLab65","convertLab65ToDlab","definition_default$16","definition_default$17","convertHsiToRgb","convertRgbToHsi","definition_default$18","YW","M1","M2","C1","C2","C3","transferPqDecode","transferPqEncode","toRel","convertItpToXyz65","p$2","convertItpToXyz65_default","toAbs","convertXyz65ToItp","convertXyz65ToItp_default","definition_default$20","p$1","d0$1","jabPqEncode","vn$2","abs","convertXyz65ToJab","convertXyz65ToJab_default","p","d0","jabPqDecode","rel","convertJabToXyz65","convertJabToXyz65_default","convertRgbToJab","convertRgbToJab_default","convertJabToRgb","convertJabToRgb_default","definition_default$21","convertJabToJch","convertJabToJch_default","convertJchToJab","convertJchToJab_default","definition_default$22","convertLuvToLchuv","convertLuvToLchuv_default","convertLchuvToLuv","convertLchuvToLuv_default","u_fn$1","v_fn$1","un$1","vn$1","l_fn","convertXyz50ToLuv","convertXyz50ToLuv_default","u_fn","v_fn","un","vn","convertLuvToXyz50","convertLuvToXyz50_default","convertRgbToLchuv","convertLchuvToRgb","definition_default$24","definition_default$25","toe","toe_inv","compute_max_saturation","find_cusp","find_gamut_intersection","C1$1","get_ST_max","get_Cs","convertOklabToOkhsl","convertOkhslToOklab","modeOkhsl_default","convertOklabToOkhsv","convertOkhsvToOklab","modeOkhsv_default","bias","bias_cbrt","transfer$1","convertRgbToXyb","convertRgbToXyb_default","transfer","convertXybToRgb","definition_default$26","convertRgbToYiq","convertRgbToYiq_default","convertYiqToRgb","definition_default$27","r","round","round_default","rgb$1","converters","DEPTH_ROUNDING","parseNumber","named","parseNumber","num","hue","num","parse","prepare","converters","converters","definition","k","converter","c","r","c","definition","parseRgb","parseHex","parseRgbLegacy","parseNamed","parseTransparent","linearize","r","a98","gamma","fn","abs","c","r","convertRgbToLrgb","rgb","r","fn","abs","c","r","convertLrgbToRgb","definition","rgb","convertXyz65ToA98","convertRgbToXyz65","convertXyz65ToRgb","convertA98ToXyz65","hue","normalizeHue","r","M","hue","hueToDeg","hue","normalizeHue","fn","normalizeHue","val","sum","definition","parseHsl","parseHslLegacy","c","normalizeHue","f","r","M","definition","hsv","definition","parseHwb","c","k","e","fn","convertLrgbToRgb","convertXyz50ToRgb","convertLabToXyz50","lab","convertRgbToLrgb","rgb","r","f","convertXyz50ToLab","convertRgbToXyz50","rgb","definition","convertLabToXyz50","convertLabToRgb","convertXyz50ToLab","convertRgbToLab","parseLab","c","k","e","e","k","convertXyz65ToRgb","convertLab65ToXyz65","lab","e","k","convertXyz65ToLab65","convertRgbToXyz65","rgb","definition","lab","convertLab65ToXyz65","convertLab65ToRgb","convertXyz65ToLab65","convertRgbToLab65","c","normalizeHue","c","c","definition","convertLchToLab","convertLabToRgb","c","convertLabToLch","convertRgbToLab","parseLch","definition","lch","convertLchToLab","c","convertLab65ToRgb","convertLabToLch","convertRgbToLab65","definition","rgb","convertLrgbToRgb","convertRgbToLrgb","M","r","M","convertLrgbToOklab","convertRgbToLrgb","rgb","convertLrgbToRgb","convertOklabToLrgb","c","definition","lab","convertOklabToLrgb","convertOklabToRgb","convertLrgbToOklab","convertRgbToOklab","parseOklab","c","c","definition","lch","convertLchToLab","c","convertOklabToRgb","convertLabToLch","convertRgbToOklab","parseOklch","convertRgbToLrgb","rgb","r","convertLrgbToRgb","definition","rgb","convertXyz65ToP3","convertRgbToXyz65","convertXyz65ToRgb","convertP3ToXyz65","gamma","abs","linearize","abs","r","prophoto","definition","rgb","convertXyz50ToProphoto","convertRgbToXyz50","convertProphotoToXyz50","convertXyz50ToRgb","α","β","abs","abs","r","rec2020","definition","rgb","convertXyz65ToRec2020","convertRgbToXyz65","convertRec2020ToXyz65","convertXyz65ToRgb","definition","convertXyz50ToRgb","convertXyz50ToLab","convertRgbToXyz50","convertLabToXyz50","xyz65","xyz50","definition","convertXyz65ToRgb","convertXyz65ToXyz50","convertRgbToXyz65","convertXyz50ToXyz65","a98","modeA98","hsl","modeHsl","hsv","modeHsv","hwb","modeHwb","lab","modeLab","lab65","modeLab65","lch","modeLch","lch65","modeLch65","lrgb","modeLrgb","oklab","modeOklab","oklch","modeOklch","p3","modeP3","prophoto","modeProphoto","rec2020","modeRec2020","rgb","modeRgb","xyz50","modeXyz50","xyz65","modeXyz65","r","definition","convertRgbToCubehelix","convertCubehelixToRgb","c","e","f","e","f","normalizeHue","convertDlchToLab65","convertLabToLch","c","convertLchToLab","convertLab65ToDlch","definition","convertLab65ToRgb","convertRgbToLab65","definition","convertDlchToLab65","convertLchToLab","c","convertLab65ToRgb","convertLab65ToDlch","convertLabToLch","convertRgbToLab65","normalizeHue","f","r","M","definition","c","c","p","c","p","definition","convertItpToXyz65","convertXyz65ToRgb","convertXyz65ToItp","convertRgbToXyz65","p","d0","vn","n","n","convertXyz65ToJab","convertRgbToXyz65","rgb","convertXyz65ToRgb","convertJabToXyz65","definition","convertRgbToJab","convertXyz65ToJab","convertJabToRgb","convertJabToXyz65","c","normalizeHue","c","definition","convertJchToJab","convertJabToRgb","c","convertJabToJch","convertRgbToJab","c","normalizeHue","c","u_fn","v_fn","un","vn","convertLuvToLchuv","convertXyz50ToLuv","convertRgbToXyz50","rgb","convertXyz50ToRgb","convertLuvToXyz50","convertLchuvToLuv","lchuv","definition","definition","convertLuvToXyz50","convertXyz50ToRgb","luv","convertXyz50ToLuv","convertRgbToXyz50","rgb","f","rgb","convertOklabToLrgb","C1","r","b","k","lab","c","normalizeHue","hsl","modeHsl","convertRgbToOklab","c","convertOklabToRgb","lab","c","k","convertOklabToLrgb","normalizeHue","hsv","k","convertOklabToLrgb","modeHsv","convertRgbToOklab","c","convertOklabToRgb","transfer","convertRgbToLrgb","r","convertLrgbToRgb","definition","convertXybToRgb","convertRgbToXyb","r","convertYiqToRgb","convertRgbToYiq","modeA98","modeCubehelix","modeDlab","modeDlch","modeHsi","modeHsl","modeHsv","modeHwb","modeItp","modeJab","modeJch","modeLab","modeLab65","modeLch","modeLch65","modeLchuv","modeLrgb","modeLuv","modeOkhsl","modeOkhsv","modeOklab","modeOklch","modeP3","modeProphoto","modeRec2020","modeRgb","modeXyb","modeXyz50","modeXyz65","modeYiq","modeA98","modeHsl","modeHwb","modeLab","modeLab65","modeLch","modeLrgb","modeOklab","modeOklch","modeOkhsv","modeP3","modeProphoto","modeRec2020","modeRgb","modeXyz50","modeXyz65","round","p","c","fn","output: string[]","wcmatch","p"],"sources":["../../plugin-css/dist/index.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseNumber.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/colors/named.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseNamed.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseHex.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/util/regex.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseRgbLegacy.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/_prepare.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/converter.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/modes.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/parse.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseTransparent.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/interpolate/lerp.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/interpolate/piecewise.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/interpolate/linear.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/fixup/alpha.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/a98/convertA98ToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/a98/convertXyz65ToA98.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lrgb/convertRgbToLrgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertRgbToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lrgb/convertLrgbToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertXyz65ToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/a98/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/util/normalizeHue.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/convertHslToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/convertRgbToHsl.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/util/hue.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/parseHslLegacy.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/parseHsl.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/fixup/hue.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/difference.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/average.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsv/convertHsvToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsv/convertRgbToHsv.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsv/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/convertHwbToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/convertRgbToHwb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/parseHwb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertLabToXyz50.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/convertXyz50ToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertLabToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/convertRgbToXyz50.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertXyz50ToLab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertRgbToLab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/parseLab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertLab65ToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertLab65ToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertXyz65ToLab65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertRgbToLab65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/convertLabToLch.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/convertLchToLab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/parseLch.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch65/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lrgb/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertOklabToLrgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertLrgbToOklab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertRgbToOklab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertOklabToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/parseOklab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklch/parseOklch.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklch/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/p3/convertP3ToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/p3/convertXyz65ToP3.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/p3/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/prophoto/convertXyz50ToProphoto.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/prophoto/convertProphotoToXyz50.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/prophoto/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rec2020/convertXyz65ToRec2020.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rec2020/convertRec2020ToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rec2020/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertXyz65ToXyz50.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertXyz50ToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/bootstrap/css.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/convertRgbToCubehelix.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/convertCubehelixToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/convertDlchToLab65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/convertLab65ToDlch.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlab/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsi/convertHsiToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsi/convertRgbToHsi.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsi/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hdr/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hdr/transfer.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/itp/convertItpToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/itp/convertXyz65ToItp.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/itp/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertXyz65ToJab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertJabToXyz65.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertRgbToJab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertJabToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jch/convertJabToJch.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jch/convertJchToJab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jch/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lchuv/convertLuvToLchuv.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lchuv/convertLchuvToLuv.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/luv/convertXyz50ToLuv.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/luv/convertLuvToXyz50.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lchuv/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/luv/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/helpers.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/convertOklabToOkhsl.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/convertOkhslToOklab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/modeOkhsl.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsv/convertOklabToOkhsv.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsv/convertOkhsvToOklab.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsv/modeOkhsv.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/constants.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/convertRgbToXyb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/convertXybToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/yiq/convertRgbToYiq.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/yiq/convertYiqToRgb.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/yiq/definition.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/round.js","../../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/index.js","../../token-tools/dist/css.js","../../../node_modules/.pnpm/wildcard-match@5.1.4/node_modules/wildcard-match/build/index.es.mjs","../src/lib.ts","../src/build.ts","../src/index.ts"],"sourcesContent":["//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseNumber.js\nconst parseNumber = (color, len) => {\n\tif (typeof color !== \"number\") return;\n\tif (len === 3) return {\n\t\tmode: \"rgb\",\n\t\tr: (color >> 8 & 15 | color >> 4 & 240) / 255,\n\t\tg: (color >> 4 & 15 | color & 240) / 255,\n\t\tb: (color & 15 | color << 4 & 240) / 255\n\t};\n\tif (len === 4) return {\n\t\tmode: \"rgb\",\n\t\tr: (color >> 12 & 15 | color >> 8 & 240) / 255,\n\t\tg: (color >> 8 & 15 | color >> 4 & 240) / 255,\n\t\tb: (color >> 4 & 15 | color & 240) / 255,\n\t\talpha: (color & 15 | color << 4 & 240) / 255\n\t};\n\tif (len === 6) return {\n\t\tmode: \"rgb\",\n\t\tr: (color >> 16 & 255) / 255,\n\t\tg: (color >> 8 & 255) / 255,\n\t\tb: (color & 255) / 255\n\t};\n\tif (len === 8) return {\n\t\tmode: \"rgb\",\n\t\tr: (color >> 24 & 255) / 255,\n\t\tg: (color >> 16 & 255) / 255,\n\t\tb: (color >> 8 & 255) / 255,\n\t\talpha: (color & 255) / 255\n\t};\n};\nvar parseNumber_default = parseNumber;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/colors/named.js\nconst named = {\n\taliceblue: 15792383,\n\tantiquewhite: 16444375,\n\taqua: 65535,\n\taquamarine: 8388564,\n\tazure: 15794175,\n\tbeige: 16119260,\n\tbisque: 16770244,\n\tblack: 0,\n\tblanchedalmond: 16772045,\n\tblue: 255,\n\tblueviolet: 9055202,\n\tbrown: 10824234,\n\tburlywood: 14596231,\n\tcadetblue: 6266528,\n\tchartreuse: 8388352,\n\tchocolate: 13789470,\n\tcoral: 16744272,\n\tcornflowerblue: 6591981,\n\tcornsilk: 16775388,\n\tcrimson: 14423100,\n\tcyan: 65535,\n\tdarkblue: 139,\n\tdarkcyan: 35723,\n\tdarkgoldenrod: 12092939,\n\tdarkgray: 11119017,\n\tdarkgreen: 25600,\n\tdarkgrey: 11119017,\n\tdarkkhaki: 12433259,\n\tdarkmagenta: 9109643,\n\tdarkolivegreen: 5597999,\n\tdarkorange: 16747520,\n\tdarkorchid: 10040012,\n\tdarkred: 9109504,\n\tdarksalmon: 15308410,\n\tdarkseagreen: 9419919,\n\tdarkslateblue: 4734347,\n\tdarkslategray: 3100495,\n\tdarkslategrey: 3100495,\n\tdarkturquoise: 52945,\n\tdarkviolet: 9699539,\n\tdeeppink: 16716947,\n\tdeepskyblue: 49151,\n\tdimgray: 6908265,\n\tdimgrey: 6908265,\n\tdodgerblue: 2003199,\n\tfirebrick: 11674146,\n\tfloralwhite: 16775920,\n\tforestgreen: 2263842,\n\tfuchsia: 16711935,\n\tgainsboro: 14474460,\n\tghostwhite: 16316671,\n\tgold: 16766720,\n\tgoldenrod: 14329120,\n\tgray: 8421504,\n\tgreen: 32768,\n\tgreenyellow: 11403055,\n\tgrey: 8421504,\n\thoneydew: 15794160,\n\thotpink: 16738740,\n\tindianred: 13458524,\n\tindigo: 4915330,\n\tivory: 16777200,\n\tkhaki: 15787660,\n\tlavender: 15132410,\n\tlavenderblush: 16773365,\n\tlawngreen: 8190976,\n\tlemonchiffon: 16775885,\n\tlightblue: 11393254,\n\tlightcoral: 15761536,\n\tlightcyan: 14745599,\n\tlightgoldenrodyellow: 16448210,\n\tlightgray: 13882323,\n\tlightgreen: 9498256,\n\tlightgrey: 13882323,\n\tlightpink: 16758465,\n\tlightsalmon: 16752762,\n\tlightseagreen: 2142890,\n\tlightskyblue: 8900346,\n\tlightslategray: 7833753,\n\tlightslategrey: 7833753,\n\tlightsteelblue: 11584734,\n\tlightyellow: 16777184,\n\tlime: 65280,\n\tlimegreen: 3329330,\n\tlinen: 16445670,\n\tmagenta: 16711935,\n\tmaroon: 8388608,\n\tmediumaquamarine: 6737322,\n\tmediumblue: 205,\n\tmediumorchid: 12211667,\n\tmediumpurple: 9662683,\n\tmediumseagreen: 3978097,\n\tmediumslateblue: 8087790,\n\tmediumspringgreen: 64154,\n\tmediumturquoise: 4772300,\n\tmediumvioletred: 13047173,\n\tmidnightblue: 1644912,\n\tmintcream: 16121850,\n\tmistyrose: 16770273,\n\tmoccasin: 16770229,\n\tnavajowhite: 16768685,\n\tnavy: 128,\n\toldlace: 16643558,\n\tolive: 8421376,\n\tolivedrab: 7048739,\n\torange: 16753920,\n\torangered: 16729344,\n\torchid: 14315734,\n\tpalegoldenrod: 15657130,\n\tpalegreen: 10025880,\n\tpaleturquoise: 11529966,\n\tpalevioletred: 14381203,\n\tpapayawhip: 16773077,\n\tpeachpuff: 16767673,\n\tperu: 13468991,\n\tpink: 16761035,\n\tplum: 14524637,\n\tpowderblue: 11591910,\n\tpurple: 8388736,\n\trebeccapurple: 6697881,\n\tred: 16711680,\n\trosybrown: 12357519,\n\troyalblue: 4286945,\n\tsaddlebrown: 9127187,\n\tsalmon: 16416882,\n\tsandybrown: 16032864,\n\tseagreen: 3050327,\n\tseashell: 16774638,\n\tsienna: 10506797,\n\tsilver: 12632256,\n\tskyblue: 8900331,\n\tslateblue: 6970061,\n\tslategray: 7372944,\n\tslategrey: 7372944,\n\tsnow: 16775930,\n\tspringgreen: 65407,\n\tsteelblue: 4620980,\n\ttan: 13808780,\n\tteal: 32896,\n\tthistle: 14204888,\n\ttomato: 16737095,\n\tturquoise: 4251856,\n\tviolet: 15631086,\n\twheat: 16113331,\n\twhite: 16777215,\n\twhitesmoke: 16119285,\n\tyellow: 16776960,\n\tyellowgreen: 10145074\n};\nvar named_default = named;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseNamed.js\nconst parseNamed = (color) => {\n\treturn parseNumber_default(named_default[color.toLowerCase()], 6);\n};\nvar parseNamed_default = parseNamed;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseHex.js\nconst hex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\nconst parseHex = (color) => {\n\tlet match;\n\treturn (match = color.match(hex)) ? parseNumber_default(parseInt(match[1], 16), match[1].length) : void 0;\n};\nvar parseHex_default = parseHex;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/util/regex.js\nconst num$1 = \"([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\";\nconst num_none = `(?:${num$1}|none)`;\nconst per = `${num$1}%`;\nconst per_none = `(?:${num$1}%|none)`;\nconst num_per = `(?:${num$1}%|${num$1})`;\nconst num_per_none = `(?:${num$1}%|${num$1}|none)`;\nconst hue$1 = `(?:${num$1}(deg|grad|rad|turn)|${num$1})`;\nconst hue_none = `(?:${num$1}(deg|grad|rad|turn)|${num$1}|none)`;\nconst c = `\\\\s*,\\\\s*`;\nconst rx_num_per_none = /* @__PURE__ */ new RegExp(\"^\" + num_per_none + \"$\");\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseRgbLegacy.js\nconst rgb_num_old = /* @__PURE__ */ new RegExp(`^rgba?\\\\(\\\\s*${num$1}${c}${num$1}${c}${num$1}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`);\nconst rgb_per_old = /* @__PURE__ */ new RegExp(`^rgba?\\\\(\\\\s*${per}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`);\nconst parseRgbLegacy = (color) => {\n\tlet res = { mode: \"rgb\" };\n\tlet match;\n\tif (match = color.match(rgb_num_old)) {\n\t\tif (match[1] !== void 0) res.r = match[1] / 255;\n\t\tif (match[2] !== void 0) res.g = match[2] / 255;\n\t\tif (match[3] !== void 0) res.b = match[3] / 255;\n\t} else if (match = color.match(rgb_per_old)) {\n\t\tif (match[1] !== void 0) res.r = match[1] / 100;\n\t\tif (match[2] !== void 0) res.g = match[2] / 100;\n\t\tif (match[3] !== void 0) res.b = match[3] / 100;\n\t} else return;\n\tif (match[4] !== void 0) res.alpha = Math.max(0, Math.min(1, match[4] / 100));\n\telse if (match[5] !== void 0) res.alpha = Math.max(0, Math.min(1, +match[5]));\n\treturn res;\n};\nvar parseRgbLegacy_default = parseRgbLegacy;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/_prepare.js\nconst prepare = (color, mode) => color === void 0 ? void 0 : typeof color !== \"object\" ? parse_default(color) : color.mode !== void 0 ? color : mode ? {\n\t...color,\n\tmode\n} : void 0;\nvar _prepare_default = prepare;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/converter.js\nconst converter = (target_mode = \"rgb\") => (color) => (color = _prepare_default(color, target_mode)) !== void 0 ? color.mode === target_mode ? color : converters$1[color.mode][target_mode] ? converters$1[color.mode][target_mode](color) : target_mode === \"rgb\" ? converters$1[color.mode].rgb(color) : converters$1.rgb[target_mode](converters$1[color.mode].rgb(color)) : void 0;\nvar converter_default = converter;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/modes.js\nconst converters$1 = {};\nconst modes = {};\nconst parsers = [];\nconst colorProfiles = {};\nconst identity = (v) => v;\nconst useMode = (definition$28) => {\n\tconverters$1[definition$28.mode] = {\n\t\t...converters$1[definition$28.mode],\n\t\t...definition$28.toMode\n\t};\n\tObject.keys(definition$28.fromMode || {}).forEach((k$3) => {\n\t\tif (!converters$1[k$3]) converters$1[k$3] = {};\n\t\tconverters$1[k$3][definition$28.mode] = definition$28.fromMode[k$3];\n\t});\n\tif (!definition$28.ranges) definition$28.ranges = {};\n\tif (!definition$28.difference) definition$28.difference = {};\n\tdefinition$28.channels.forEach((channel) => {\n\t\tif (definition$28.ranges[channel] === void 0) definition$28.ranges[channel] = [0, 1];\n\t\tif (!definition$28.interpolate[channel]) throw new Error(`Missing interpolator for: ${channel}`);\n\t\tif (typeof definition$28.interpolate[channel] === \"function\") definition$28.interpolate[channel] = { use: definition$28.interpolate[channel] };\n\t\tif (!definition$28.interpolate[channel].fixup) definition$28.interpolate[channel].fixup = identity;\n\t});\n\tmodes[definition$28.mode] = definition$28;\n\t(definition$28.parse || []).forEach((parser) => {\n\t\tuseParser(parser, definition$28.mode);\n\t});\n\treturn converter_default(definition$28.mode);\n};\nconst getMode = (mode) => modes[mode];\nconst useParser = (parser, mode) => {\n\tif (typeof parser === \"string\") {\n\t\tif (!mode) throw new Error(`'mode' required when 'parser' is a string`);\n\t\tcolorProfiles[parser] = mode;\n\t} else if (typeof parser === \"function\") {\n\t\tif (parsers.indexOf(parser) < 0) parsers.push(parser);\n\t}\n};\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/parse.js\nconst IdentStartCodePoint = /[^\\x00-\\x7F]|[a-zA-Z_]/;\nconst IdentCodePoint = /[^\\x00-\\x7F]|[-\\w]/;\nconst Tok = {\n\tFunction: \"function\",\n\tIdent: \"ident\",\n\tNumber: \"number\",\n\tPercentage: \"percentage\",\n\tParenClose: \")\",\n\tNone: \"none\",\n\tHue: \"hue\",\n\tAlpha: \"alpha\"\n};\nlet _i = 0;\nfunction is_num(chars) {\n\tlet ch = chars[_i];\n\tlet ch1 = chars[_i + 1];\n\tif (ch === \"-\" || ch === \"+\") return /\\d/.test(ch1) || ch1 === \".\" && /\\d/.test(chars[_i + 2]);\n\tif (ch === \".\") return /\\d/.test(ch1);\n\treturn /\\d/.test(ch);\n}\nfunction is_ident(chars) {\n\tif (_i >= chars.length) return false;\n\tlet ch = chars[_i];\n\tif (IdentStartCodePoint.test(ch)) return true;\n\tif (ch === \"-\") {\n\t\tif (chars.length - _i < 2) return false;\n\t\tlet ch1 = chars[_i + 1];\n\t\tif (ch1 === \"-\" || IdentStartCodePoint.test(ch1)) return true;\n\t\treturn false;\n\t}\n\treturn false;\n}\nconst huenits = {\n\tdeg: 1,\n\trad: 180 / Math.PI,\n\tgrad: 9 / 10,\n\tturn: 360\n};\nfunction num(chars) {\n\tlet value = \"\";\n\tif (chars[_i] === \"-\" || chars[_i] === \"+\") value += chars[_i++];\n\tvalue += digits(chars);\n\tif (chars[_i] === \".\" && /\\d/.test(chars[_i + 1])) value += chars[_i++] + digits(chars);\n\tif (chars[_i] === \"e\" || chars[_i] === \"E\") {\n\t\tif ((chars[_i + 1] === \"-\" || chars[_i + 1] === \"+\") && /\\d/.test(chars[_i + 2])) value += chars[_i++] + chars[_i++] + digits(chars);\n\t\telse if (/\\d/.test(chars[_i + 1])) value += chars[_i++] + digits(chars);\n\t}\n\tif (is_ident(chars)) {\n\t\tlet id = ident(chars);\n\t\tif (id === \"deg\" || id === \"rad\" || id === \"turn\" || id === \"grad\") return {\n\t\t\ttype: Tok.Hue,\n\t\t\tvalue: value * huenits[id]\n\t\t};\n\t\treturn;\n\t}\n\tif (chars[_i] === \"%\") {\n\t\t_i++;\n\t\treturn {\n\t\t\ttype: Tok.Percentage,\n\t\t\tvalue: +value\n\t\t};\n\t}\n\treturn {\n\t\ttype: Tok.Number,\n\t\tvalue: +value\n\t};\n}\nfunction digits(chars) {\n\tlet v = \"\";\n\twhile (/\\d/.test(chars[_i])) v += chars[_i++];\n\treturn v;\n}\nfunction ident(chars) {\n\tlet v = \"\";\n\twhile (_i < chars.length && IdentCodePoint.test(chars[_i])) v += chars[_i++];\n\treturn v;\n}\nfunction identlike(chars) {\n\tlet v = ident(chars);\n\tif (chars[_i] === \"(\") {\n\t\t_i++;\n\t\treturn {\n\t\t\ttype: Tok.Function,\n\t\t\tvalue: v\n\t\t};\n\t}\n\tif (v === \"none\") return {\n\t\ttype: Tok.None,\n\t\tvalue: void 0\n\t};\n\treturn {\n\t\ttype: Tok.Ident,\n\t\tvalue: v\n\t};\n}\nfunction tokenize(str = \"\") {\n\tlet chars = str.trim();\n\tlet tokens = [];\n\tlet ch;\n\t_i = 0;\n\twhile (_i < chars.length) {\n\t\tch = chars[_i++];\n\t\tif (ch === \"\\n\" || ch === \"\t\" || ch === \" \") {\n\t\t\twhile (_i < chars.length && (chars[_i] === \"\\n\" || chars[_i] === \"\t\" || chars[_i] === \" \")) _i++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch === \",\") return;\n\t\tif (ch === \")\") {\n\t\t\ttokens.push({ type: Tok.ParenClose });\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch === \"+\") {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (ch === \"-\") {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\ttokens.push({\n\t\t\t\t\ttype: Tok.Ident,\n\t\t\t\t\tvalue: ident(chars)\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (ch === \".\") {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (ch === \"/\") {\n\t\t\twhile (_i < chars.length && (chars[_i] === \"\\n\" || chars[_i] === \"\t\" || chars[_i] === \" \")) _i++;\n\t\t\tlet alpha;\n\t\t\tif (is_num(chars)) {\n\t\t\t\talpha = num(chars);\n\t\t\t\tif (alpha.type !== Tok.Hue) {\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\ttype: Tok.Alpha,\n\t\t\t\t\t\tvalue: alpha\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\tif (ident(chars) === \"none\") {\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\ttype: Tok.Alpha,\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\ttype: Tok.None,\n\t\t\t\t\t\t\tvalue: void 0\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (/\\d/.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(num(chars));\n\t\t\tcontinue;\n\t\t}\n\t\tif (IdentStartCodePoint.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(identlike(chars));\n\t\t\tcontinue;\n\t\t}\n\t\treturn;\n\t}\n\treturn tokens;\n}\nfunction parseColorSyntax(tokens) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function || token.value !== \"color\") return;\n\ttoken = tokens[tokens._i++];\n\tif (token.type !== Tok.Ident) return;\n\tconst mode = colorProfiles[token.value];\n\tif (!mode) return;\n\tconst res = { mode };\n\tconst coords = consumeCoords(tokens, false);\n\tif (!coords) return;\n\tconst channels = getMode(mode).channels;\n\tfor (let ii = 0, c$1, ch; ii < channels.length; ii++) {\n\t\tc$1 = coords[ii];\n\t\tch = channels[ii];\n\t\tif (c$1.type !== Tok.None) {\n\t\t\tres[ch] = c$1.type === Tok.Number ? c$1.value : c$1.value / 100;\n\t\t\tif (ch === \"alpha\") res[ch] = Math.max(0, Math.min(1, res[ch]));\n\t\t}\n\t}\n\treturn res;\n}\nfunction consumeCoords(tokens, includeHue) {\n\tconst coords = [];\n\tlet token;\n\twhile (tokens._i < tokens.length) {\n\t\ttoken = tokens[tokens._i++];\n\t\tif (token.type === Tok.None || token.type === Tok.Number || token.type === Tok.Alpha || token.type === Tok.Percentage || includeHue && token.type === Tok.Hue) {\n\t\t\tcoords.push(token);\n\t\t\tcontinue;\n\t\t}\n\t\tif (token.type === Tok.ParenClose) {\n\t\t\tif (tokens._i < tokens.length) return;\n\t\t\tcontinue;\n\t\t}\n\t\treturn;\n\t}\n\tif (coords.length < 3 || coords.length > 4) return;\n\tif (coords.length === 4) {\n\t\tif (coords[3].type !== Tok.Alpha) return;\n\t\tcoords[3] = coords[3].value;\n\t}\n\tif (coords.length === 3) coords.push({\n\t\ttype: Tok.None,\n\t\tvalue: void 0\n\t});\n\treturn coords.every((c$1) => c$1.type !== Tok.Alpha) ? coords : void 0;\n}\nfunction parseModernSyntax(tokens, includeHue) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function) return;\n\tlet coords = consumeCoords(tokens, includeHue);\n\tif (!coords) return;\n\tcoords.unshift(token.value);\n\treturn coords;\n}\nconst parse = (color) => {\n\tif (typeof color !== \"string\") return;\n\tconst tokens = tokenize(color);\n\tconst parsed = tokens ? parseModernSyntax(tokens, true) : void 0;\n\tlet result = void 0;\n\tlet i = 0;\n\tlet len = parsers.length;\n\twhile (i < len) if ((result = parsers[i++](color, parsed)) !== void 0) return result;\n\treturn tokens ? parseColorSyntax(tokens) : void 0;\n};\nvar parse_default = parse;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseRgb.js\nfunction parseRgb(color, parsed) {\n\tif (!parsed || parsed[0] !== \"rgb\" && parsed[0] !== \"rgba\") return;\n\tconst res = { mode: \"rgb\" };\n\tconst [, r$1, g, b, alpha] = parsed;\n\tif (r$1.type === Tok.Hue || g.type === Tok.Hue || b.type === Tok.Hue) return;\n\tif (r$1.type !== Tok.None) res.r = r$1.type === Tok.Number ? r$1.value / 255 : r$1.value / 100;\n\tif (g.type !== Tok.None) res.g = g.type === Tok.Number ? g.value / 255 : g.value / 100;\n\tif (b.type !== Tok.None) res.b = b.type === Tok.Number ? b.value / 255 : b.value / 100;\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseRgb_default = parseRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/parseTransparent.js\nconst parseTransparent = (c$1) => c$1 === \"transparent\" ? {\n\tmode: \"rgb\",\n\tr: 0,\n\tg: 0,\n\tb: 0,\n\talpha: 0\n} : void 0;\nvar parseTransparent_default = parseTransparent;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/interpolate/lerp.js\nconst lerp = (a, b, t) => a + t * (b - a);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/interpolate/piecewise.js\nconst get_classes = (arr) => {\n\tlet classes = [];\n\tfor (let i = 0; i < arr.length - 1; i++) {\n\t\tlet a = arr[i];\n\t\tlet b = arr[i + 1];\n\t\tif (a === void 0 && b === void 0) classes.push(void 0);\n\t\telse if (a !== void 0 && b !== void 0) classes.push([a, b]);\n\t\telse classes.push(a !== void 0 ? [a, a] : [b, b]);\n\t}\n\treturn classes;\n};\nconst interpolatorPiecewise = (interpolator) => (arr) => {\n\tlet classes = get_classes(arr);\n\treturn (t) => {\n\t\tlet cls = t * classes.length;\n\t\tlet idx = t >= 1 ? classes.length - 1 : Math.max(Math.floor(cls), 0);\n\t\tlet pair = classes[idx];\n\t\treturn pair === void 0 ? void 0 : interpolator(pair[0], pair[1], cls - idx);\n\t};\n};\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/interpolate/linear.js\nconst interpolatorLinear = interpolatorPiecewise(lerp);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/fixup/alpha.js\nconst fixupAlpha = (arr) => {\n\tlet some_defined = false;\n\tlet res = arr.map((v) => {\n\t\tif (v !== void 0) {\n\t\t\tsome_defined = true;\n\t\t\treturn v;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn some_defined ? res : arr;\n};\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rgb/definition.js\nconst definition$27 = {\n\tmode: \"rgb\",\n\tchannels: [\n\t\t\"r\",\n\t\t\"g\",\n\t\t\"b\",\n\t\t\"alpha\"\n\t],\n\tparse: [\n\t\tparseRgb_default,\n\t\tparseHex_default,\n\t\tparseRgbLegacy_default,\n\t\tparseNamed_default,\n\t\tparseTransparent_default,\n\t\t\"srgb\"\n\t],\n\tserialize: \"srgb\",\n\tinterpolate: {\n\t\tr: interpolatorLinear,\n\t\tg: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tgamut: true,\n\twhite: {\n\t\tr: 1,\n\t\tg: 1,\n\t\tb: 1\n\t},\n\tblack: {\n\t\tr: 0,\n\t\tg: 0,\n\t\tb: 0\n\t}\n};\nvar definition_default$12 = definition$27;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/a98/convertA98ToXyz65.js\nconst linearize$2 = (v = 0) => Math.pow(Math.abs(v), 563 / 256) * Math.sign(v);\nconst convertA98ToXyz65 = (a98$2) => {\n\tlet r$1 = linearize$2(a98$2.r);\n\tlet g = linearize$2(a98$2.g);\n\tlet b = linearize$2(a98$2.b);\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: .5766690429101305 * r$1 + .1855582379065463 * g + .1882286462349947 * b,\n\t\ty: .297344975250536 * r$1 + .6273635662554661 * g + .0752914584939979 * b,\n\t\tz: .0270313613864123 * r$1 + .0706888525358272 * g + .9913375368376386 * b\n\t};\n\tif (a98$2.alpha !== void 0) res.alpha = a98$2.alpha;\n\treturn res;\n};\nvar convertA98ToXyz65_default = convertA98ToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/a98/convertXyz65ToA98.js\nconst gamma$2 = (v) => Math.pow(Math.abs(v), 256 / 563) * Math.sign(v);\nconst convertXyz65ToA98 = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = {\n\t\tmode: \"a98\",\n\t\tr: gamma$2(x * 2.0415879038107465 - y * .5650069742788597 - .3447313507783297 * z),\n\t\tg: gamma$2(x * -.9692436362808798 + y * 1.8759675015077206 + .0415550574071756 * z),\n\t\tb: gamma$2(x * .0134442806320312 - y * .1183623922310184 + 1.0151749943912058 * z)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToA98_default = convertXyz65ToA98;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lrgb/convertRgbToLrgb.js\nconst fn$3 = (c$1 = 0) => {\n\tconst abs$1 = Math.abs(c$1);\n\tif (abs$1 <= .04045) return c$1 / 12.92;\n\treturn (Math.sign(c$1) || 1) * Math.pow((abs$1 + .055) / 1.055, 2.4);\n};\nconst convertRgbToLrgb = ({ r: r$1, g, b, alpha }) => {\n\tlet res = {\n\t\tmode: \"lrgb\",\n\t\tr: fn$3(r$1),\n\t\tg: fn$3(g),\n\t\tb: fn$3(b)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertRgbToLrgb_default = convertRgbToLrgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertRgbToXyz65.js\nconst convertRgbToXyz65 = (rgb$4) => {\n\tlet { r: r$1, g, b, alpha } = convertRgbToLrgb_default(rgb$4);\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: .4123907992659593 * r$1 + .357584339383878 * g + .1804807884018343 * b,\n\t\ty: .2126390058715102 * r$1 + .715168678767756 * g + .0721923153607337 * b,\n\t\tz: .0193308187155918 * r$1 + .119194779794626 * g + .9505321522496607 * b\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertRgbToXyz65_default = convertRgbToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lrgb/convertLrgbToRgb.js\nconst fn$2 = (c$1 = 0) => {\n\tconst abs$1 = Math.abs(c$1);\n\tif (abs$1 > .0031308) return (Math.sign(c$1) || 1) * (1.055 * Math.pow(abs$1, 1 / 2.4) - .055);\n\treturn c$1 * 12.92;\n};\nconst convertLrgbToRgb = ({ r: r$1, g, b, alpha }, mode = \"rgb\") => {\n\tlet res = {\n\t\tmode,\n\t\tr: fn$2(r$1),\n\t\tg: fn$2(g),\n\t\tb: fn$2(b)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLrgbToRgb_default = convertLrgbToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertXyz65ToRgb.js\nconst convertXyz65ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = convertLrgbToRgb_default({\n\t\tr: x * 3.2409699419045226 - y * 1.537383177570094 - .4986107602930034 * z,\n\t\tg: x * -.9692436362808796 + y * 1.8759675015077204 + .0415550574071756 * z,\n\t\tb: x * .0556300796969936 - y * .2039769588889765 + 1.0569715142428784 * z\n\t});\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToRgb_default = convertXyz65ToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/a98/definition.js\nconst definition$26 = {\n\t...definition_default$12,\n\tmode: \"a98\",\n\tparse: [\"a98-rgb\"],\n\tserialize: \"a98-rgb\",\n\tfromMode: {\n\t\trgb: (color) => convertXyz65ToA98_default(convertRgbToXyz65_default(color)),\n\t\txyz65: convertXyz65ToA98_default\n\t},\n\ttoMode: {\n\t\trgb: (color) => convertXyz65ToRgb_default(convertA98ToXyz65_default(color)),\n\t\txyz65: convertA98ToXyz65_default\n\t}\n};\nvar definition_default = definition$26;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/util/normalizeHue.js\nconst normalizeHue = (hue$2) => (hue$2 = hue$2 % 360) < 0 ? hue$2 + 360 : hue$2;\nvar normalizeHue_default = normalizeHue;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/convertHslToRgb.js\nfunction convertHslToRgb({ h, s, l, alpha }) {\n\th = normalizeHue_default(h !== void 0 ? h : 0);\n\tif (s === void 0) s = 0;\n\tif (l === void 0) l = 0;\n\tlet m1 = l + s * (l < .5 ? l : 1 - l);\n\tlet m2 = m1 - (m1 - l) * 2 * Math.abs(h / 60 % 2 - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = {\n\t\t\t\tr: m1,\n\t\t\t\tg: m2,\n\t\t\t\tb: 2 * l - m1\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = {\n\t\t\t\tr: m2,\n\t\t\t\tg: m1,\n\t\t\t\tb: 2 * l - m1\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = {\n\t\t\t\tr: 2 * l - m1,\n\t\t\t\tg: m1,\n\t\t\t\tb: m2\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = {\n\t\t\t\tr: 2 * l - m1,\n\t\t\t\tg: m2,\n\t\t\t\tb: m1\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = {\n\t\t\t\tr: m2,\n\t\t\t\tg: 2 * l - m1,\n\t\t\t\tb: m1\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = {\n\t\t\t\tr: m1,\n\t\t\t\tg: 2 * l - m1,\n\t\t\t\tb: m2\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault: res = {\n\t\t\tr: 2 * l - m1,\n\t\t\tg: 2 * l - m1,\n\t\t\tb: 2 * l - m1\n\t\t};\n\t}\n\tres.mode = \"rgb\";\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/convertRgbToHsl.js\nfunction convertRgbToHsl({ r: r$1, g, b, alpha }) {\n\tif (r$1 === void 0) r$1 = 0;\n\tif (g === void 0) g = 0;\n\tif (b === void 0) b = 0;\n\tlet M$1 = Math.max(r$1, g, b), m = Math.min(r$1, g, b);\n\tlet res = {\n\t\tmode: \"hsl\",\n\t\ts: M$1 === m ? 0 : (M$1 - m) / (1 - Math.abs(M$1 + m - 1)),\n\t\tl: .5 * (M$1 + m)\n\t};\n\tif (M$1 - m !== 0) res.h = (M$1 === r$1 ? (g - b) / (M$1 - m) + (g < b) * 6 : M$1 === g ? (b - r$1) / (M$1 - m) + 2 : (r$1 - g) / (M$1 - m) + 4) * 60;\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/util/hue.js\nconst hueToDeg = (val, unit) => {\n\tswitch (unit) {\n\t\tcase \"deg\": return +val;\n\t\tcase \"rad\": return val / Math.PI * 180;\n\t\tcase \"grad\": return val / 10 * 9;\n\t\tcase \"turn\": return val * 360;\n\t}\n};\nvar hue_default = hueToDeg;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/parseHslLegacy.js\nconst hsl_old = /* @__PURE__ */ new RegExp(`^hsla?\\\\(\\\\s*${hue$1}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`);\nconst parseHslLegacy = (color) => {\n\tlet match = color.match(hsl_old);\n\tif (!match) return;\n\tlet res = { mode: \"hsl\" };\n\tif (match[3] !== void 0) res.h = +match[3];\n\telse if (match[1] !== void 0 && match[2] !== void 0) res.h = hue_default(match[1], match[2]);\n\tif (match[4] !== void 0) res.s = Math.min(Math.max(0, match[4] / 100), 1);\n\tif (match[5] !== void 0) res.l = Math.min(Math.max(0, match[5] / 100), 1);\n\tif (match[6] !== void 0) res.alpha = Math.max(0, Math.min(1, match[6] / 100));\n\telse if (match[7] !== void 0) res.alpha = Math.max(0, Math.min(1, +match[7]));\n\treturn res;\n};\nvar parseHslLegacy_default = parseHslLegacy;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/parseHsl.js\nfunction parseHsl(color, parsed) {\n\tif (!parsed || parsed[0] !== \"hsl\" && parsed[0] !== \"hsla\") return;\n\tconst res = { mode: \"hsl\" };\n\tconst [, h, s, l, alpha] = parsed;\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) return;\n\t\tres.h = h.value;\n\t}\n\tif (s.type !== Tok.None) {\n\t\tif (s.type === Tok.Hue) return;\n\t\tres.s = s.value / 100;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) return;\n\t\tres.l = l.value / 100;\n\t}\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseHsl_default = parseHsl;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/fixup/hue.js\nconst hue = (hues, fn$4) => {\n\treturn hues.map((hue$2, idx, arr) => {\n\t\tif (hue$2 === void 0) return hue$2;\n\t\tlet normalized = normalizeHue_default(hue$2);\n\t\tif (idx === 0 || hues[idx - 1] === void 0) return normalized;\n\t\treturn fn$4(normalized - normalizeHue_default(arr[idx - 1]));\n\t}).reduce((acc, curr) => {\n\t\tif (!acc.length || curr === void 0 || acc[acc.length - 1] === void 0) {\n\t\t\tacc.push(curr);\n\t\t\treturn acc;\n\t\t}\n\t\tacc.push(curr + acc[acc.length - 1]);\n\t\treturn acc;\n\t}, []);\n};\nconst fixupHueShorter = (arr) => hue(arr, (d) => Math.abs(d) <= 180 ? d : d - 360 * Math.sign(d));\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/difference.js\nconst differenceHueSaturation = (std, smp) => {\n\tif (std.h === void 0 || smp.h === void 0 || !std.s || !smp.s) return 0;\n\tlet std_h = normalizeHue_default(std.h);\n\tlet smp_h = normalizeHue_default(smp.h);\n\tlet dH = Math.sin((smp_h - std_h + 360) / 2 * Math.PI / 180);\n\treturn 2 * Math.sqrt(std.s * smp.s) * dH;\n};\nconst differenceHueNaive = (std, smp) => {\n\tif (std.h === void 0 || smp.h === void 0) return 0;\n\tlet std_h = normalizeHue_default(std.h);\n\tlet smp_h = normalizeHue_default(smp.h);\n\tif (Math.abs(smp_h - std_h) > 180) return std_h - (smp_h - 360 * Math.sign(smp_h - std_h));\n\treturn smp_h - std_h;\n};\nconst differenceHueChroma = (std, smp) => {\n\tif (std.h === void 0 || smp.h === void 0 || !std.c || !smp.c) return 0;\n\tlet std_h = normalizeHue_default(std.h);\n\tlet smp_h = normalizeHue_default(smp.h);\n\tlet dH = Math.sin((smp_h - std_h + 360) / 2 * Math.PI / 180);\n\treturn 2 * Math.sqrt(std.c * smp.c) * dH;\n};\nconst differenceEuclidean = (mode = \"rgb\", weights = [\n\t1,\n\t1,\n\t1,\n\t0\n]) => {\n\tlet def = getMode(mode);\n\tlet channels = def.channels;\n\tlet diffs = def.difference;\n\tlet conv = converter_default(mode);\n\treturn (std, smp) => {\n\t\tlet ConvStd = conv(std);\n\t\tlet ConvSmp = conv(smp);\n\t\treturn Math.sqrt(channels.reduce((sum, k$3, idx) => {\n\t\t\tlet delta = diffs[k$3] ? diffs[k$3](ConvStd, ConvSmp) : ConvStd[k$3] - ConvSmp[k$3];\n\t\t\treturn sum + (weights[idx] || 0) * Math.pow(isNaN(delta) ? 0 : delta, 2);\n\t\t}, 0));\n\t};\n};\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/average.js\nconst averageAngle = (val) => {\n\tlet sum = val.reduce((sum$1, val$1) => {\n\t\tif (val$1 !== void 0) {\n\t\t\tlet rad = val$1 * Math.PI / 180;\n\t\t\tsum$1.sin += Math.sin(rad);\n\t\t\tsum$1.cos += Math.cos(rad);\n\t\t}\n\t\treturn sum$1;\n\t}, {\n\t\tsin: 0,\n\t\tcos: 0\n\t});\n\tlet angle = Math.atan2(sum.sin, sum.cos) * 180 / Math.PI;\n\treturn angle < 0 ? 360 + angle : angle;\n};\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsl/definition.js\nconst definition$25 = {\n\tmode: \"hsl\",\n\ttoMode: { rgb: convertHslToRgb },\n\tfromMode: { rgb: convertRgbToHsl },\n\tchannels: [\n\t\t\"h\",\n\t\t\"s\",\n\t\t\"l\",\n\t\t\"alpha\"\n\t],\n\tranges: { h: [0, 360] },\n\tgamut: \"rgb\",\n\tparse: [parseHsl_default, parseHslLegacy_default],\n\tserialize: (c$1) => `hsl(${c$1.h !== void 0 ? c$1.h : \"none\"} ${c$1.s !== void 0 ? c$1.s * 100 + \"%\" : \"none\"} ${c$1.l !== void 0 ? c$1.l * 100 + \"%\" : \"none\"}${c$1.alpha < 1 ? ` / ${c$1.alpha}` : \"\"})`,\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueSaturation },\n\taverage: { h: averageAngle }\n};\nvar definition_default$1 = definition$25;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsv/convertHsvToRgb.js\nfunction convertHsvToRgb({ h, s, v, alpha }) {\n\th = normalizeHue_default(h !== void 0 ? h : 0);\n\tif (s === void 0) s = 0;\n\tif (v === void 0) v = 0;\n\tlet f$2 = Math.abs(h / 60 % 2 - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = {\n\t\t\t\tr: v,\n\t\t\t\tg: v * (1 - s * f$2),\n\t\t\t\tb: v * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = {\n\t\t\t\tr: v * (1 - s * f$2),\n\t\t\t\tg: v,\n\t\t\t\tb: v * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = {\n\t\t\t\tr: v * (1 - s),\n\t\t\t\tg: v,\n\t\t\t\tb: v * (1 - s * f$2)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = {\n\t\t\t\tr: v * (1 - s),\n\t\t\t\tg: v * (1 - s * f$2),\n\t\t\t\tb: v\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = {\n\t\t\t\tr: v * (1 - s * f$2),\n\t\t\t\tg: v * (1 - s),\n\t\t\t\tb: v\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = {\n\t\t\t\tr: v,\n\t\t\t\tg: v * (1 - s),\n\t\t\t\tb: v * (1 - s * f$2)\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault: res = {\n\t\t\tr: v * (1 - s),\n\t\t\tg: v * (1 - s),\n\t\t\tb: v * (1 - s)\n\t\t};\n\t}\n\tres.mode = \"rgb\";\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsv/convertRgbToHsv.js\nfunction convertRgbToHsv({ r: r$1, g, b, alpha }) {\n\tif (r$1 === void 0) r$1 = 0;\n\tif (g === void 0) g = 0;\n\tif (b === void 0) b = 0;\n\tlet M$1 = Math.max(r$1, g, b), m = Math.min(r$1, g, b);\n\tlet res = {\n\t\tmode: \"hsv\",\n\t\ts: M$1 === 0 ? 0 : 1 - m / M$1,\n\t\tv: M$1\n\t};\n\tif (M$1 - m !== 0) res.h = (M$1 === r$1 ? (g - b) / (M$1 - m) + (g < b) * 6 : M$1 === g ? (b - r$1) / (M$1 - m) + 2 : (r$1 - g) / (M$1 - m) + 4) * 60;\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsv/definition.js\nconst definition$24 = {\n\tmode: \"hsv\",\n\ttoMode: { rgb: convertHsvToRgb },\n\tparse: [\"--hsv\"],\n\tserialize: \"--hsv\",\n\tfromMode: { rgb: convertRgbToHsv },\n\tchannels: [\n\t\t\"h\",\n\t\t\"s\",\n\t\t\"v\",\n\t\t\"alpha\"\n\t],\n\tranges: { h: [0, 360] },\n\tgamut: \"rgb\",\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\ts: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueSaturation },\n\taverage: { h: averageAngle }\n};\nvar definition_default$19 = definition$24;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/convertHwbToRgb.js\nfunction convertHwbToRgb({ h, w, b, alpha }) {\n\tif (w === void 0) w = 0;\n\tif (b === void 0) b = 0;\n\tif (w + b > 1) {\n\t\tlet s = w + b;\n\t\tw /= s;\n\t\tb /= s;\n\t}\n\treturn convertHsvToRgb({\n\t\th,\n\t\ts: b === 1 ? 1 : 1 - w / (1 - b),\n\t\tv: 1 - b,\n\t\talpha\n\t});\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/convertRgbToHwb.js\nfunction convertRgbToHwb(rgba) {\n\tlet hsv$2 = convertRgbToHsv(rgba);\n\tif (hsv$2 === void 0) return void 0;\n\tlet s = hsv$2.s !== void 0 ? hsv$2.s : 0;\n\tlet v = hsv$2.v !== void 0 ? hsv$2.v : 0;\n\tlet res = {\n\t\tmode: \"hwb\",\n\t\tw: (1 - s) * v,\n\t\tb: 1 - v\n\t};\n\tif (hsv$2.h !== void 0) res.h = hsv$2.h;\n\tif (hsv$2.alpha !== void 0) res.alpha = hsv$2.alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/parseHwb.js\nfunction ParseHwb(color, parsed) {\n\tif (!parsed || parsed[0] !== \"hwb\") return;\n\tconst res = { mode: \"hwb\" };\n\tconst [, h, w, b, alpha] = parsed;\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) return;\n\t\tres.h = h.value;\n\t}\n\tif (w.type !== Tok.None) {\n\t\tif (w.type === Tok.Hue) return;\n\t\tres.w = w.value / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tif (b.type === Tok.Hue) return;\n\t\tres.b = b.value / 100;\n\t}\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseHwb_default = ParseHwb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hwb/definition.js\nconst definition$23 = {\n\tmode: \"hwb\",\n\ttoMode: { rgb: convertHwbToRgb },\n\tfromMode: { rgb: convertRgbToHwb },\n\tchannels: [\n\t\t\"h\",\n\t\t\"w\",\n\t\t\"b\",\n\t\t\"alpha\"\n\t],\n\tranges: { h: [0, 360] },\n\tgamut: \"rgb\",\n\tparse: [parseHwb_default],\n\tserialize: (c$1) => `hwb(${c$1.h !== void 0 ? c$1.h : \"none\"} ${c$1.w !== void 0 ? c$1.w * 100 + \"%\" : \"none\"} ${c$1.b !== void 0 ? c$1.b * 100 + \"%\" : \"none\"}${c$1.alpha < 1 ? ` / ${c$1.alpha}` : \"\"})`,\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\tw: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueNaive },\n\taverage: { h: averageAngle }\n};\nvar definition_default$2 = definition$23;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/constants.js\nconst k = Math.pow(29, 3) / Math.pow(3, 3);\nconst e = Math.pow(6, 3) / Math.pow(29, 3);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/constants.js\nconst D50 = {\n\tX: .3457 / .3585,\n\tY: 1,\n\tZ: .2958 / .3585\n};\nconst D65 = {\n\tX: .3127 / .329,\n\tY: 1,\n\tZ: .3583 / .329\n};\nconst k$2 = Math.pow(29, 3) / Math.pow(3, 3);\nconst e$2 = Math.pow(6, 3) / Math.pow(29, 3);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertLabToXyz50.js\nlet fn$1 = (v) => Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k;\nconst convertLabToXyz50 = ({ l, a, b, alpha }) => {\n\tif (l === void 0) l = 0;\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\tlet res = {\n\t\tmode: \"xyz50\",\n\t\tx: fn$1(fx) * D50.X,\n\t\ty: fn$1(fy) * D50.Y,\n\t\tz: fn$1(fz) * D50.Z\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLabToXyz50_default = convertLabToXyz50;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/convertXyz50ToRgb.js\nconst convertXyz50ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = convertLrgbToRgb_default({\n\t\tr: x * 3.1341359569958707 - y * 1.6173863321612538 - .4906619460083532 * z,\n\t\tg: x * -.978795502912089 + y * 1.916254567259524 + .03344273116131949 * z,\n\t\tb: x * .07195537988411677 - y * .2289768264158322 + 1.405386058324125 * z\n\t});\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz50ToRgb_default = convertXyz50ToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertLabToRgb.js\nconst convertLabToRgb = (lab$2) => convertXyz50ToRgb_default(convertLabToXyz50_default(lab$2));\nvar convertLabToRgb_default = convertLabToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/convertRgbToXyz50.js\nconst convertRgbToXyz50 = (rgb$4) => {\n\tlet { r: r$1, g, b, alpha } = convertRgbToLrgb_default(rgb$4);\n\tlet res = {\n\t\tmode: \"xyz50\",\n\t\tx: .436065742824811 * r$1 + .3851514688337912 * g + .14307845442264197 * b,\n\t\ty: .22249319175623702 * r$1 + .7168870538238823 * g + .06061979053616537 * b,\n\t\tz: .013923904500943465 * r$1 + .09708128566574634 * g + .7140993584005155 * b\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertRgbToXyz50_default = convertRgbToXyz50;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertXyz50ToLab.js\nconst f$1 = (value) => value > e ? Math.cbrt(value) : (k * value + 16) / 116;\nconst convertXyz50ToLab = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet f0 = f$1(x / D50.X);\n\tlet f1 = f$1(y / D50.Y);\n\tlet f2 = f$1(z / D50.Z);\n\tlet res = {\n\t\tmode: \"lab\",\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz50ToLab_default = convertXyz50ToLab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/convertRgbToLab.js\nconst convertRgbToLab = (rgb$4) => {\n\tlet res = convertXyz50ToLab_default(convertRgbToXyz50_default(rgb$4));\n\tif (rgb$4.r === rgb$4.b && rgb$4.b === rgb$4.g) res.a = res.b = 0;\n\treturn res;\n};\nvar convertRgbToLab_default = convertRgbToLab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/parseLab.js\nfunction parseLab(color, parsed) {\n\tif (!parsed || parsed[0] !== \"lab\") return;\n\tconst res = { mode: \"lab\" };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) return;\n\tif (l.type !== Tok.None) res.l = Math.min(Math.max(0, l.value), 100);\n\tif (a.type !== Tok.None) res.a = a.type === Tok.Number ? a.value : a.value * 125 / 100;\n\tif (b.type !== Tok.None) res.b = b.type === Tok.Number ? b.value : b.value * 125 / 100;\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseLab_default = parseLab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab/definition.js\nconst definition$22 = {\n\tmode: \"lab\",\n\ttoMode: {\n\t\txyz50: convertLabToXyz50_default,\n\t\trgb: convertLabToRgb_default\n\t},\n\tfromMode: {\n\t\txyz50: convertXyz50ToLab_default,\n\t\trgb: convertRgbToLab_default\n\t},\n\tchannels: [\n\t\t\"l\",\n\t\t\"a\",\n\t\t\"b\",\n\t\t\"alpha\"\n\t],\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t},\n\tparse: [parseLab_default],\n\tserialize: (c$1) => `lab(${c$1.l !== void 0 ? c$1.l : \"none\"} ${c$1.a !== void 0 ? c$1.a : \"none\"} ${c$1.b !== void 0 ? c$1.b : \"none\"}${c$1.alpha < 1 ? ` / ${c$1.alpha}` : \"\"})`,\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$3 = definition$22;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/constants.js\nconst k$1 = Math.pow(29, 3) / Math.pow(3, 3);\nconst e$1 = Math.pow(6, 3) / Math.pow(29, 3);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertLab65ToXyz65.js\nlet fn = (v) => Math.pow(v, 3) > e$1 ? Math.pow(v, 3) : (116 * v - 16) / k$1;\nconst convertLab65ToXyz65 = ({ l, a, b, alpha }) => {\n\tif (l === void 0) l = 0;\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: fn(fx) * D65.X,\n\t\ty: fn(fy) * D65.Y,\n\t\tz: fn(fz) * D65.Z\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLab65ToXyz65_default = convertLab65ToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertLab65ToRgb.js\nconst convertLab65ToRgb = (lab$2) => convertXyz65ToRgb_default(convertLab65ToXyz65_default(lab$2));\nvar convertLab65ToRgb_default = convertLab65ToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertXyz65ToLab65.js\nconst f = (value) => value > e$1 ? Math.cbrt(value) : (k$1 * value + 16) / 116;\nconst convertXyz65ToLab65 = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet f0 = f(x / D65.X);\n\tlet f1 = f(y / D65.Y);\n\tlet f2 = f(z / D65.Z);\n\tlet res = {\n\t\tmode: \"lab65\",\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToLab65_default = convertXyz65ToLab65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/convertRgbToLab65.js\nconst convertRgbToLab65 = (rgb$4) => {\n\tlet res = convertXyz65ToLab65_default(convertRgbToXyz65_default(rgb$4));\n\tif (rgb$4.r === rgb$4.b && rgb$4.b === rgb$4.g) res.a = res.b = 0;\n\treturn res;\n};\nvar convertRgbToLab65_default = convertRgbToLab65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lab65/definition.js\nconst definition$21 = {\n\t...definition_default$3,\n\tmode: \"lab65\",\n\tparse: [\"--lab-d65\"],\n\tserialize: \"--lab-d65\",\n\ttoMode: {\n\t\txyz65: convertLab65ToXyz65_default,\n\t\trgb: convertLab65ToRgb_default\n\t},\n\tfromMode: {\n\t\txyz65: convertXyz65ToLab65_default,\n\t\trgb: convertRgbToLab65_default\n\t},\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t}\n};\nvar definition_default$4 = definition$21;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/convertLabToLch.js\nconst convertLabToLch = ({ l, a, b, alpha }, mode = \"lch\") => {\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet c$1 = Math.sqrt(a * a + b * b);\n\tlet res = {\n\t\tmode,\n\t\tl,\n\t\tc: c$1\n\t};\n\tif (c$1) res.h = normalizeHue_default(Math.atan2(b, a) * 180 / Math.PI);\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLabToLch_default = convertLabToLch;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/convertLchToLab.js\nconst convertLchToLab = ({ l, c: c$1, h, alpha }, mode = \"lab\") => {\n\tif (h === void 0) h = 0;\n\tlet res = {\n\t\tmode,\n\t\tl,\n\t\ta: c$1 ? c$1 * Math.cos(h / 180 * Math.PI) : 0,\n\t\tb: c$1 ? c$1 * Math.sin(h / 180 * Math.PI) : 0\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLchToLab_default = convertLchToLab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/parseLch.js\nfunction parseLch(color, parsed) {\n\tif (!parsed || parsed[0] !== \"lch\") return;\n\tconst res = { mode: \"lch\" };\n\tconst [, l, c$1, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) return;\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (c$1.type !== Tok.None) res.c = Math.max(0, c$1.type === Tok.Number ? c$1.value : c$1.value * 150 / 100);\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) return;\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseLch_default = parseLch;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch/definition.js\nconst definition$20 = {\n\tmode: \"lch\",\n\ttoMode: {\n\t\tlab: convertLchToLab_default,\n\t\trgb: (c$1) => convertLabToRgb_default(convertLchToLab_default(c$1))\n\t},\n\tfromMode: {\n\t\trgb: (c$1) => convertLabToLch_default(convertRgbToLab_default(c$1)),\n\t\tlab: convertLabToLch_default\n\t},\n\tchannels: [\n\t\t\"l\",\n\t\t\"c\",\n\t\t\"h\",\n\t\t\"alpha\"\n\t],\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t},\n\tparse: [parseLch_default],\n\tserialize: (c$1) => `lch(${c$1.l !== void 0 ? c$1.l : \"none\"} ${c$1.c !== void 0 ? c$1.c : \"none\"} ${c$1.h !== void 0 ? c$1.h : \"none\"}${c$1.alpha < 1 ? ` / ${c$1.alpha}` : \"\"})`,\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueChroma },\n\taverage: { h: averageAngle }\n};\nvar definition_default$5 = definition$20;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lch65/definition.js\nconst definition$19 = {\n\t...definition_default$5,\n\tmode: \"lch65\",\n\tparse: [\"--lch-d65\"],\n\tserialize: \"--lch-d65\",\n\ttoMode: {\n\t\tlab65: (c$1) => convertLchToLab_default(c$1, \"lab65\"),\n\t\trgb: (c$1) => convertLab65ToRgb_default(convertLchToLab_default(c$1, \"lab65\"))\n\t},\n\tfromMode: {\n\t\trgb: (c$1) => convertLabToLch_default(convertRgbToLab65_default(c$1), \"lch65\"),\n\t\tlab65: (c$1) => convertLabToLch_default(c$1, \"lch65\")\n\t},\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t}\n};\nvar definition_default$23 = definition$19;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lrgb/definition.js\nconst definition$18 = {\n\t...definition_default$12,\n\tmode: \"lrgb\",\n\ttoMode: { rgb: convertLrgbToRgb_default },\n\tfromMode: { rgb: convertRgbToLrgb_default },\n\tparse: [\"srgb-linear\"],\n\tserialize: \"srgb-linear\"\n};\nvar definition_default$6 = definition$18;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertOklabToLrgb.js\nconst convertOklabToLrgb = ({ l, a, b, alpha }) => {\n\tif (l === void 0) l = 0;\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet L = Math.pow(l + .3963377773761749 * a + .2158037573099136 * b, 3);\n\tlet M$1 = Math.pow(l - .1055613458156586 * a - .0638541728258133 * b, 3);\n\tlet S = Math.pow(l - .0894841775298119 * a - 1.2914855480194092 * b, 3);\n\tlet res = {\n\t\tmode: \"lrgb\",\n\t\tr: 4.076741636075957 * L - 3.3077115392580616 * M$1 + .2309699031821044 * S,\n\t\tg: -1.2684379732850317 * L + 2.6097573492876887 * M$1 - .3413193760026573 * S,\n\t\tb: -.0041960761386756 * L - .7034186179359362 * M$1 + 1.7076146940746117 * S\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertOklabToLrgb_default = convertOklabToLrgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertLrgbToOklab.js\nconst convertLrgbToOklab = ({ r: r$1, g, b, alpha }) => {\n\tif (r$1 === void 0) r$1 = 0;\n\tif (g === void 0) g = 0;\n\tif (b === void 0) b = 0;\n\tlet L = Math.cbrt(.412221469470763 * r$1 + .5363325372617348 * g + .0514459932675022 * b);\n\tlet M$1 = Math.cbrt(.2119034958178252 * r$1 + .6806995506452344 * g + .1073969535369406 * b);\n\tlet S = Math.cbrt(.0883024591900564 * r$1 + .2817188391361215 * g + .6299787016738222 * b);\n\tlet res = {\n\t\tmode: \"oklab\",\n\t\tl: .210454268309314 * L + .7936177747023054 * M$1 - .0040720430116193 * S,\n\t\ta: 1.9779985324311684 * L - 2.42859224204858 * M$1 + .450593709617411 * S,\n\t\tb: .0259040424655478 * L + .7827717124575296 * M$1 - .8086757549230774 * S\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLrgbToOklab_default = convertLrgbToOklab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertRgbToOklab.js\nconst convertRgbToOklab = (rgb$4) => {\n\tlet res = convertLrgbToOklab_default(convertRgbToLrgb_default(rgb$4));\n\tif (rgb$4.r === rgb$4.b && rgb$4.b === rgb$4.g) res.a = res.b = 0;\n\treturn res;\n};\nvar convertRgbToOklab_default = convertRgbToOklab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/convertOklabToRgb.js\nconst convertOklabToRgb = (c$1) => convertLrgbToRgb_default(convertOklabToLrgb_default(c$1));\nvar convertOklabToRgb_default = convertOklabToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/parseOklab.js\nfunction parseOklab(color, parsed) {\n\tif (!parsed || parsed[0] !== \"oklab\") return;\n\tconst res = { mode: \"oklab\" };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) return;\n\tif (l.type !== Tok.None) res.l = Math.min(Math.max(0, l.type === Tok.Number ? l.value : l.value / 100), 1);\n\tif (a.type !== Tok.None) res.a = a.type === Tok.Number ? a.value : a.value * .4 / 100;\n\tif (b.type !== Tok.None) res.b = b.type === Tok.Number ? b.value : b.value * .4 / 100;\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseOklab_default = parseOklab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklab/definition.js\nconst definition$17 = {\n\t...definition_default$3,\n\tmode: \"oklab\",\n\ttoMode: {\n\t\tlrgb: convertOklabToLrgb_default,\n\t\trgb: convertOklabToRgb_default\n\t},\n\tfromMode: {\n\t\tlrgb: convertLrgbToOklab_default,\n\t\trgb: convertRgbToOklab_default\n\t},\n\tranges: {\n\t\tl: [0, 1],\n\t\ta: [-.4, .4],\n\t\tb: [-.4, .4]\n\t},\n\tparse: [parseOklab_default],\n\tserialize: (c$1) => `oklab(${c$1.l !== void 0 ? c$1.l : \"none\"} ${c$1.a !== void 0 ? c$1.a : \"none\"} ${c$1.b !== void 0 ? c$1.b : \"none\"}${c$1.alpha < 1 ? ` / ${c$1.alpha}` : \"\"})`\n};\nvar definition_default$7 = definition$17;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklch/parseOklch.js\nfunction parseOklch(color, parsed) {\n\tif (!parsed || parsed[0] !== \"oklch\") return;\n\tconst res = { mode: \"oklch\" };\n\tconst [, l, c$1, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) return;\n\t\tres.l = Math.min(Math.max(0, l.type === Tok.Number ? l.value : l.value / 100), 1);\n\t}\n\tif (c$1.type !== Tok.None) res.c = Math.max(0, c$1.type === Tok.Number ? c$1.value : c$1.value * .4 / 100);\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) return;\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) res.alpha = Math.min(1, Math.max(0, alpha.type === Tok.Number ? alpha.value : alpha.value / 100));\n\treturn res;\n}\nvar parseOklch_default = parseOklch;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/oklch/definition.js\nconst definition$16 = {\n\t...definition_default$5,\n\tmode: \"oklch\",\n\ttoMode: {\n\t\toklab: (c$1) => convertLchToLab_default(c$1, \"oklab\"),\n\t\trgb: (c$1) => convertOklabToRgb_default(convertLchToLab_default(c$1, \"oklab\"))\n\t},\n\tfromMode: {\n\t\trgb: (c$1) => convertLabToLch_default(convertRgbToOklab_default(c$1), \"oklch\"),\n\t\toklab: (c$1) => convertLabToLch_default(c$1, \"oklch\")\n\t},\n\tparse: [parseOklch_default],\n\tserialize: (c$1) => `oklch(${c$1.l !== void 0 ? c$1.l : \"none\"} ${c$1.c !== void 0 ? c$1.c : \"none\"} ${c$1.h !== void 0 ? c$1.h : \"none\"}${c$1.alpha < 1 ? ` / ${c$1.alpha}` : \"\"})`,\n\tranges: {\n\t\tl: [0, 1],\n\t\tc: [0, .4],\n\t\th: [0, 360]\n\t}\n};\nvar definition_default$8 = definition$16;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/p3/convertP3ToXyz65.js\nconst convertP3ToXyz65 = (rgb$4) => {\n\tlet { r: r$1, g, b, alpha } = convertRgbToLrgb_default(rgb$4);\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: .486570948648216 * r$1 + .265667693169093 * g + .1982172852343625 * b,\n\t\ty: .2289745640697487 * r$1 + .6917385218365062 * g + .079286914093745 * b,\n\t\tz: 0 * r$1 + .0451133818589026 * g + 1.043944368900976 * b\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertP3ToXyz65_default = convertP3ToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/p3/convertXyz65ToP3.js\nconst convertXyz65ToP3 = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = convertLrgbToRgb_default({\n\t\tr: x * 2.4934969119414263 - y * .9313836179191242 - .402710784450717 * z,\n\t\tg: x * -.8294889695615749 + y * 1.7626640603183465 + .0236246858419436 * z,\n\t\tb: x * .0358458302437845 - y * .0761723892680418 + .9568845240076871 * z\n\t}, \"p3\");\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToP3_default = convertXyz65ToP3;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/p3/definition.js\nconst definition$15 = {\n\t...definition_default$12,\n\tmode: \"p3\",\n\tparse: [\"display-p3\"],\n\tserialize: \"display-p3\",\n\tfromMode: {\n\t\trgb: (color) => convertXyz65ToP3_default(convertRgbToXyz65_default(color)),\n\t\txyz65: convertXyz65ToP3_default\n\t},\n\ttoMode: {\n\t\trgb: (color) => convertXyz65ToRgb_default(convertP3ToXyz65_default(color)),\n\t\txyz65: convertP3ToXyz65_default\n\t}\n};\nvar definition_default$9 = definition$15;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/prophoto/convertXyz50ToProphoto.js\nconst gamma$1 = (v) => {\n\tlet abs$1 = Math.abs(v);\n\tif (abs$1 >= 1 / 512) return Math.sign(v) * Math.pow(abs$1, 1 / 1.8);\n\treturn 16 * v;\n};\nconst convertXyz50ToProphoto = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = {\n\t\tmode: \"prophoto\",\n\t\tr: gamma$1(x * 1.3457868816471585 - y * .2555720873797946 - .0511018649755453 * z),\n\t\tg: gamma$1(x * -.5446307051249019 + y * 1.5082477428451466 + .0205274474364214 * z),\n\t\tb: gamma$1(x * 0 + y * 0 + 1.2119675456389452 * z)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz50ToProphoto_default = convertXyz50ToProphoto;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/prophoto/convertProphotoToXyz50.js\nconst linearize$1 = (v = 0) => {\n\tlet abs$1 = Math.abs(v);\n\tif (abs$1 >= 16 / 512) return Math.sign(v) * Math.pow(abs$1, 1.8);\n\treturn v / 16;\n};\nconst convertProphotoToXyz50 = (prophoto$2) => {\n\tlet r$1 = linearize$1(prophoto$2.r);\n\tlet g = linearize$1(prophoto$2.g);\n\tlet b = linearize$1(prophoto$2.b);\n\tlet res = {\n\t\tmode: \"xyz50\",\n\t\tx: .7977666449006423 * r$1 + .1351812974005331 * g + .0313477341283922 * b,\n\t\ty: .2880748288194013 * r$1 + .7118352342418731 * g + 899369387256e-16 * b,\n\t\tz: 0 * r$1 + 0 * g + .8251046025104602 * b\n\t};\n\tif (prophoto$2.alpha !== void 0) res.alpha = prophoto$2.alpha;\n\treturn res;\n};\nvar convertProphotoToXyz50_default = convertProphotoToXyz50;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/prophoto/definition.js\nconst definition$14 = {\n\t...definition_default$12,\n\tmode: \"prophoto\",\n\tparse: [\"prophoto-rgb\"],\n\tserialize: \"prophoto-rgb\",\n\tfromMode: {\n\t\txyz50: convertXyz50ToProphoto_default,\n\t\trgb: (color) => convertXyz50ToProphoto_default(convertRgbToXyz50_default(color))\n\t},\n\ttoMode: {\n\t\txyz50: convertProphotoToXyz50_default,\n\t\trgb: (color) => convertXyz50ToRgb_default(convertProphotoToXyz50_default(color))\n\t}\n};\nvar definition_default$10 = definition$14;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rec2020/convertXyz65ToRec2020.js\nconst α$1 = 1.09929682680944;\nconst β$1 = .018053968510807;\nconst gamma = (v) => {\n\tconst abs$1 = Math.abs(v);\n\tif (abs$1 > β$1) return (Math.sign(v) || 1) * (α$1 * Math.pow(abs$1, .45) - (α$1 - 1));\n\treturn 4.5 * v;\n};\nconst convertXyz65ToRec2020 = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = {\n\t\tmode: \"rec2020\",\n\t\tr: gamma(x * 1.7166511879712683 - y * .3556707837763925 - .2533662813736599 * z),\n\t\tg: gamma(x * -.6666843518324893 + y * 1.6164812366349395 + .0157685458139111 * z),\n\t\tb: gamma(x * .0176398574453108 - y * .0427706132578085 + .9421031212354739 * z)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToRec2020_default = convertXyz65ToRec2020;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rec2020/convertRec2020ToXyz65.js\nconst α = 1.09929682680944;\nconst β = .018053968510807;\nconst linearize = (v = 0) => {\n\tlet abs$1 = Math.abs(v);\n\tif (abs$1 < β * 4.5) return v / 4.5;\n\treturn (Math.sign(v) || 1) * Math.pow((abs$1 + α - 1) / α, 1 / .45);\n};\nconst convertRec2020ToXyz65 = (rec2020$2) => {\n\tlet r$1 = linearize(rec2020$2.r);\n\tlet g = linearize(rec2020$2.g);\n\tlet b = linearize(rec2020$2.b);\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: .6369580483012911 * r$1 + .1446169035862083 * g + .1688809751641721 * b,\n\t\ty: .262700212011267 * r$1 + .6779980715188708 * g + .059301716469862 * b,\n\t\tz: 0 * r$1 + .0280726930490874 * g + 1.0609850577107909 * b\n\t};\n\tif (rec2020$2.alpha !== void 0) res.alpha = rec2020$2.alpha;\n\treturn res;\n};\nvar convertRec2020ToXyz65_default = convertRec2020ToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/rec2020/definition.js\nconst definition$13 = {\n\t...definition_default$12,\n\tmode: \"rec2020\",\n\tfromMode: {\n\t\txyz65: convertXyz65ToRec2020_default,\n\t\trgb: (color) => convertXyz65ToRec2020_default(convertRgbToXyz65_default(color))\n\t},\n\ttoMode: {\n\t\txyz65: convertRec2020ToXyz65_default,\n\t\trgb: (color) => convertXyz65ToRgb_default(convertRec2020ToXyz65_default(color))\n\t},\n\tparse: [\"rec2020\"],\n\tserialize: \"rec2020\"\n};\nvar definition_default$11 = definition$13;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz50/definition.js\nconst definition$12 = {\n\tmode: \"xyz50\",\n\tparse: [\"xyz-d50\"],\n\tserialize: \"xyz-d50\",\n\ttoMode: {\n\t\trgb: convertXyz50ToRgb_default,\n\t\tlab: convertXyz50ToLab_default\n\t},\n\tfromMode: {\n\t\trgb: convertRgbToXyz50_default,\n\t\tlab: convertLabToXyz50_default\n\t},\n\tchannels: [\n\t\t\"x\",\n\t\t\"y\",\n\t\t\"z\",\n\t\t\"alpha\"\n\t],\n\tranges: {\n\t\tx: [0, .964],\n\t\ty: [0, .999],\n\t\tz: [0, .825]\n\t},\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$13 = definition$12;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertXyz65ToXyz50.js\nconst convertXyz65ToXyz50 = (xyz65$2) => {\n\tlet { x, y, z, alpha } = xyz65$2;\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = {\n\t\tmode: \"xyz50\",\n\t\tx: 1.0479298208405488 * x + .0229467933410191 * y - .0501922295431356 * z,\n\t\ty: .0296278156881593 * x + .990434484573249 * y - .0170738250293851 * z,\n\t\tz: -.0092430581525912 * x + .0150551448965779 * y + .7518742899580008 * z\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToXyz50_default = convertXyz65ToXyz50;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/convertXyz50ToXyz65.js\nconst convertXyz50ToXyz65 = (xyz50$2) => {\n\tlet { x, y, z, alpha } = xyz50$2;\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: .9554734527042182 * x - .0230985368742614 * y + .0632593086610217 * z,\n\t\ty: -.0283697069632081 * x + 1.0099954580058226 * y + .021041398966943 * z,\n\t\tz: .0123140016883199 * x - .0205076964334779 * y + 1.3303659366080753 * z\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz50ToXyz65_default = convertXyz50ToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyz65/definition.js\nconst definition$11 = {\n\tmode: \"xyz65\",\n\ttoMode: {\n\t\trgb: convertXyz65ToRgb_default,\n\t\txyz50: convertXyz65ToXyz50_default\n\t},\n\tfromMode: {\n\t\trgb: convertRgbToXyz65_default,\n\t\txyz50: convertXyz50ToXyz65_default\n\t},\n\tranges: {\n\t\tx: [0, .95],\n\t\ty: [0, 1],\n\t\tz: [0, 1.088]\n\t},\n\tchannels: [\n\t\t\"x\",\n\t\t\"y\",\n\t\t\"z\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"xyz\", \"xyz-d65\"],\n\tserialize: \"xyz-d65\",\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$14 = definition$11;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/bootstrap/css.js\nconst a98$1 = useMode(definition_default);\nconst hsl$2 = useMode(definition_default$1);\nconst hsv$1 = useMode(definition_default$19);\nconst hwb$1 = useMode(definition_default$2);\nconst lab$1 = useMode(definition_default$3);\nconst lab65$1 = useMode(definition_default$4);\nconst lch$1 = useMode(definition_default$5);\nconst lch65$1 = useMode(definition_default$23);\nconst lrgb$1 = useMode(definition_default$6);\nconst oklab$1 = useMode(definition_default$7);\nconst oklch$1 = useMode(definition_default$8);\nconst p3$1 = useMode(definition_default$9);\nconst prophoto$1 = useMode(definition_default$10);\nconst rec2020$1 = useMode(definition_default$11);\nconst rgb$3 = useMode(definition_default$12);\nconst xyz50$1 = useMode(definition_default$13);\nconst xyz65$1 = useMode(definition_default$14);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/constants.js\nconst M = [\n\t-.14861,\n\t1.78277,\n\t-.29227,\n\t-.90649,\n\t1.97294,\n\t0\n];\nconst degToRad = Math.PI / 180;\nconst radToDeg = 180 / Math.PI;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/convertRgbToCubehelix.js\nlet DE = M[3] * M[4];\nlet BE = M[1] * M[4];\nlet BCAD = M[1] * M[2] - M[0] * M[3];\nconst convertRgbToCubehelix = ({ r: r$1, g, b, alpha }) => {\n\tif (r$1 === void 0) r$1 = 0;\n\tif (g === void 0) g = 0;\n\tif (b === void 0) b = 0;\n\tlet l = (BCAD * b + r$1 * DE - g * BE) / (BCAD + DE - BE);\n\tlet x = b - l;\n\tlet y = (M[4] * (g - l) - M[2] * x) / M[3];\n\tlet res = {\n\t\tmode: \"cubehelix\",\n\t\tl,\n\t\ts: l === 0 || l === 1 ? void 0 : Math.sqrt(x * x + y * y) / (M[4] * l * (1 - l))\n\t};\n\tif (res.s) res.h = Math.atan2(y, x) * radToDeg - 120;\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertRgbToCubehelix_default = convertRgbToCubehelix;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/convertCubehelixToRgb.js\nconst convertCubehelixToRgb = ({ h, s, l, alpha }) => {\n\tlet res = { mode: \"rgb\" };\n\th = (h === void 0 ? 0 : h + 120) * degToRad;\n\tif (l === void 0) l = 0;\n\tlet amp = s === void 0 ? 0 : s * l * (1 - l);\n\tlet cosh = Math.cos(h);\n\tlet sinh = Math.sin(h);\n\tres.r = l + amp * (M[0] * cosh + M[1] * sinh);\n\tres.g = l + amp * (M[2] * cosh + M[3] * sinh);\n\tres.b = l + amp * (M[4] * cosh + M[5] * sinh);\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertCubehelixToRgb_default = convertCubehelixToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/cubehelix/definition.js\nconst definition$10 = {\n\tmode: \"cubehelix\",\n\tchannels: [\n\t\t\"h\",\n\t\t\"s\",\n\t\t\"l\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--cubehelix\"],\n\tserialize: \"--cubehelix\",\n\tranges: {\n\t\th: [0, 360],\n\t\ts: [0, 4.614],\n\t\tl: [0, 1]\n\t},\n\tfromMode: { rgb: convertRgbToCubehelix_default },\n\ttoMode: { rgb: convertCubehelixToRgb_default },\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueSaturation },\n\taverage: { h: averageAngle }\n};\nvar definition_default$15 = definition$10;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/constants.js\nconst kE = 1;\nconst kCH = 1;\nconst θ = 26 / 180 * Math.PI;\nconst cosθ = Math.cos(θ);\nconst sinθ = Math.sin(θ);\nconst factor = 100 / Math.log(139 / 100);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/convertDlchToLab65.js\nconst convertDlchToLab65 = ({ l, c: c$1, h, alpha }) => {\n\tif (l === void 0) l = 0;\n\tif (c$1 === void 0) c$1 = 0;\n\tif (h === void 0) h = 0;\n\tlet res = {\n\t\tmode: \"lab65\",\n\t\tl: (Math.exp(l * kE / factor) - 1) / .0039\n\t};\n\tlet G = (Math.exp(.0435 * c$1 * kCH * kE) - 1) / .075;\n\tlet e$3 = G * Math.cos(h / 180 * Math.PI - θ);\n\tlet f$2 = G * Math.sin(h / 180 * Math.PI - θ);\n\tres.a = e$3 * cosθ - f$2 / .83 * sinθ;\n\tres.b = e$3 * sinθ + f$2 / .83 * cosθ;\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertDlchToLab65_default = convertDlchToLab65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/convertLab65ToDlch.js\nconst convertLab65ToDlch = ({ l, a, b, alpha }) => {\n\tif (l === void 0) l = 0;\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet e$3 = a * cosθ + b * sinθ;\n\tlet f$2 = .83 * (b * cosθ - a * sinθ);\n\tlet G = Math.sqrt(e$3 * e$3 + f$2 * f$2);\n\tlet res = {\n\t\tmode: \"dlch\",\n\t\tl: factor / kE * Math.log(1 + .0039 * l),\n\t\tc: Math.log(1 + .075 * G) / (.0435 * kCH * kE)\n\t};\n\tif (res.c) res.h = normalizeHue_default((Math.atan2(f$2, e$3) + θ) / Math.PI * 180);\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLab65ToDlch_default = convertLab65ToDlch;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlab/definition.js\nconst convertDlabToLab65 = (c$1) => convertDlchToLab65_default(convertLabToLch_default(c$1, \"dlch\"));\nconst convertLab65ToDlab = (c$1) => convertLchToLab_default(convertLab65ToDlch_default(c$1), \"dlab\");\nconst definition$9 = {\n\tmode: \"dlab\",\n\tparse: [\"--din99o-lab\"],\n\tserialize: \"--din99o-lab\",\n\ttoMode: {\n\t\tlab65: convertDlabToLab65,\n\t\trgb: (c$1) => convertLab65ToRgb_default(convertDlabToLab65(c$1))\n\t},\n\tfromMode: {\n\t\tlab65: convertLab65ToDlab,\n\t\trgb: (c$1) => convertLab65ToDlab(convertRgbToLab65_default(c$1))\n\t},\n\tchannels: [\n\t\t\"l\",\n\t\t\"a\",\n\t\t\"b\",\n\t\t\"alpha\"\n\t],\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-40.09, 45.501],\n\t\tb: [-40.469, 44.344]\n\t},\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$16 = definition$9;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/dlch/definition.js\nconst definition$8 = {\n\tmode: \"dlch\",\n\tparse: [\"--din99o-lch\"],\n\tserialize: \"--din99o-lch\",\n\ttoMode: {\n\t\tlab65: convertDlchToLab65_default,\n\t\tdlab: (c$1) => convertLchToLab_default(c$1, \"dlab\"),\n\t\trgb: (c$1) => convertLab65ToRgb_default(convertDlchToLab65_default(c$1))\n\t},\n\tfromMode: {\n\t\tlab65: convertLab65ToDlch_default,\n\t\tdlab: (c$1) => convertLabToLch_default(c$1, \"dlch\"),\n\t\trgb: (c$1) => convertLab65ToDlch_default(convertRgbToLab65_default(c$1))\n\t},\n\tchannels: [\n\t\t\"l\",\n\t\t\"c\",\n\t\t\"h\",\n\t\t\"alpha\"\n\t],\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 51.484],\n\t\th: [0, 360]\n\t},\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\tc: interpolatorLinear,\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueChroma },\n\taverage: { h: averageAngle }\n};\nvar definition_default$17 = definition$8;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsi/convertHsiToRgb.js\nfunction convertHsiToRgb({ h, s, i, alpha }) {\n\th = normalizeHue_default(h !== void 0 ? h : 0);\n\tif (s === void 0) s = 0;\n\tif (i === void 0) i = 0;\n\tlet f$2 = Math.abs(h / 60 % 2 - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 / (2 - f$2) - 1)),\n\t\t\t\tg: i * (1 + s * (3 * (1 - f$2) / (2 - f$2) - 1)),\n\t\t\t\tb: i * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 * (1 - f$2) / (2 - f$2) - 1)),\n\t\t\t\tg: i * (1 + s * (3 / (2 - f$2) - 1)),\n\t\t\t\tb: i * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = {\n\t\t\t\tr: i * (1 - s),\n\t\t\t\tg: i * (1 + s * (3 / (2 - f$2) - 1)),\n\t\t\t\tb: i * (1 + s * (3 * (1 - f$2) / (2 - f$2) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = {\n\t\t\t\tr: i * (1 - s),\n\t\t\t\tg: i * (1 + s * (3 * (1 - f$2) / (2 - f$2) - 1)),\n\t\t\t\tb: i * (1 + s * (3 / (2 - f$2) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 * (1 - f$2) / (2 - f$2) - 1)),\n\t\t\t\tg: i * (1 - s),\n\t\t\t\tb: i * (1 + s * (3 / (2 - f$2) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 / (2 - f$2) - 1)),\n\t\t\t\tg: i * (1 - s),\n\t\t\t\tb: i * (1 + s * (3 * (1 - f$2) / (2 - f$2) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault: res = {\n\t\t\tr: i * (1 - s),\n\t\t\tg: i * (1 - s),\n\t\t\tb: i * (1 - s)\n\t\t};\n\t}\n\tres.mode = \"rgb\";\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsi/convertRgbToHsi.js\nfunction convertRgbToHsi({ r: r$1, g, b, alpha }) {\n\tif (r$1 === void 0) r$1 = 0;\n\tif (g === void 0) g = 0;\n\tif (b === void 0) b = 0;\n\tlet M$1 = Math.max(r$1, g, b), m = Math.min(r$1, g, b);\n\tlet res = {\n\t\tmode: \"hsi\",\n\t\ts: r$1 + g + b === 0 ? 0 : 1 - 3 * m / (r$1 + g + b),\n\t\ti: (r$1 + g + b) / 3\n\t};\n\tif (M$1 - m !== 0) res.h = (M$1 === r$1 ? (g - b) / (M$1 - m) + (g < b) * 6 : M$1 === g ? (b - r$1) / (M$1 - m) + 2 : (r$1 - g) / (M$1 - m) + 4) * 60;\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hsi/definition.js\nconst definition$7 = {\n\tmode: \"hsi\",\n\ttoMode: { rgb: convertHsiToRgb },\n\tparse: [\"--hsi\"],\n\tserialize: \"--hsi\",\n\tfromMode: { rgb: convertRgbToHsi },\n\tchannels: [\n\t\t\"h\",\n\t\t\"s\",\n\t\t\"i\",\n\t\t\"alpha\"\n\t],\n\tranges: { h: [0, 360] },\n\tgamut: \"rgb\",\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\ts: interpolatorLinear,\n\t\ti: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueSaturation },\n\taverage: { h: averageAngle }\n};\nvar definition_default$18 = definition$7;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hdr/constants.js\nconst YW = 203;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/hdr/transfer.js\nconst M1 = .1593017578125;\nconst M2 = 78.84375;\nconst C1 = .8359375;\nconst C2 = 18.8515625;\nconst C3 = 18.6875;\nfunction transferPqDecode(v) {\n\tif (v < 0) return 0;\n\tconst c$1 = Math.pow(v, 1 / M2);\n\treturn 1e4 * Math.pow(Math.max(0, c$1 - C1) / (C2 - C3 * c$1), 1 / M1);\n}\nfunction transferPqEncode(v) {\n\tif (v < 0) return 0;\n\tconst c$1 = Math.pow(v / 1e4, M1);\n\treturn Math.pow((C1 + C2 * c$1) / (1 + C3 * c$1), M2);\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/itp/convertItpToXyz65.js\nconst toRel = (c$1) => Math.max(c$1 / YW, 0);\nconst convertItpToXyz65 = ({ i, t, p: p$2, alpha }) => {\n\tif (i === void 0) i = 0;\n\tif (t === void 0) t = 0;\n\tif (p$2 === void 0) p$2 = 0;\n\tconst l = transferPqDecode(i + .008609037037932761 * t + .11102962500302593 * p$2);\n\tconst m = transferPqDecode(i - .00860903703793275 * t - .11102962500302599 * p$2);\n\tconst s = transferPqDecode(i + .5600313357106791 * t - .32062717498731885 * p$2);\n\tconst res = {\n\t\tmode: \"xyz65\",\n\t\tx: toRel(2.070152218389422 * l - 1.3263473389671556 * m + .2066510476294051 * s),\n\t\ty: toRel(.3647385209748074 * l + .680566024947227 * m - .0453045459220346 * s),\n\t\tz: toRel(-.049747207535812 * l - .0492609666966138 * m + 1.1880659249923042 * s)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertItpToXyz65_default = convertItpToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/itp/convertXyz65ToItp.js\nconst toAbs = (c$1 = 0) => Math.max(c$1 * YW, 0);\nconst convertXyz65ToItp = ({ x, y, z, alpha }) => {\n\tconst absX = toAbs(x);\n\tconst absY = toAbs(y);\n\tconst absZ = toAbs(z);\n\tconst l = transferPqEncode(.3592832590121217 * absX + .6976051147779502 * absY - .0358915932320289 * absZ);\n\tconst m = transferPqEncode(-.1920808463704995 * absX + 1.1004767970374323 * absY + .0753748658519118 * absZ);\n\tconst s = transferPqEncode(.0070797844607477 * absX + .0748396662186366 * absY + .8433265453898765 * absZ);\n\tconst i = .5 * l + .5 * m;\n\tconst t = 1.61376953125 * l - 3.323486328125 * m + 1.709716796875 * s;\n\tconst p$2 = 4.378173828125 * l - 4.24560546875 * m - .132568359375 * s;\n\tconst res = {\n\t\tmode: \"itp\",\n\t\ti,\n\t\tt,\n\t\tp: p$2\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToItp_default = convertXyz65ToItp;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/itp/definition.js\nconst definition$6 = {\n\tmode: \"itp\",\n\tchannels: [\n\t\t\"i\",\n\t\t\"t\",\n\t\t\"p\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--ictcp\"],\n\tserialize: \"--ictcp\",\n\ttoMode: {\n\t\txyz65: convertItpToXyz65_default,\n\t\trgb: (color) => convertXyz65ToRgb_default(convertItpToXyz65_default(color))\n\t},\n\tfromMode: {\n\t\txyz65: convertXyz65ToItp_default,\n\t\trgb: (color) => convertXyz65ToItp_default(convertRgbToXyz65_default(color))\n\t},\n\tranges: {\n\t\ti: [0, .581],\n\t\tt: [-.369, .272],\n\t\tp: [-.164, .331]\n\t},\n\tinterpolate: {\n\t\ti: interpolatorLinear,\n\t\tt: interpolatorLinear,\n\t\tp: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$20 = definition$6;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertXyz65ToJab.js\nconst p$1 = 134.03437499999998;\nconst d0$1 = 16295499532821565e-27;\nconst jabPqEncode = (v) => {\n\tif (v < 0) return 0;\n\tlet vn$2 = Math.pow(v / 1e4, M1);\n\treturn Math.pow((C1 + C2 * vn$2) / (1 + C3 * vn$2), p$1);\n};\nconst abs = (v = 0) => Math.max(v * 203, 0);\nconst convertXyz65ToJab = ({ x, y, z, alpha }) => {\n\tx = abs(x);\n\ty = abs(y);\n\tz = abs(z);\n\tlet xp = 1.15 * x - .15 * z;\n\tlet yp = .66 * y + .34 * x;\n\tlet l = jabPqEncode(.41478972 * xp + .579999 * yp + .014648 * z);\n\tlet m = jabPqEncode(-.20151 * xp + 1.120649 * yp + .0531008 * z);\n\tlet s = jabPqEncode(-.0166008 * xp + .2648 * yp + .6684799 * z);\n\tlet i = (l + m) / 2;\n\tlet res = {\n\t\tmode: \"jab\",\n\t\tj: .44 * i / (1 - .56 * i) - d0$1,\n\t\ta: 3.524 * l - 4.066708 * m + .542708 * s,\n\t\tb: .199076 * l + 1.096799 * m - 1.295875 * s\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz65ToJab_default = convertXyz65ToJab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertJabToXyz65.js\nconst p = 134.03437499999998;\nconst d0 = 16295499532821565e-27;\nconst jabPqDecode = (v) => {\n\tif (v < 0) return 0;\n\tlet vp = Math.pow(v, 1 / p);\n\treturn 1e4 * Math.pow((C1 - vp) / (C3 * vp - C2), 1 / M1);\n};\nconst rel = (v) => v / 203;\nconst convertJabToXyz65 = ({ j, a, b, alpha }) => {\n\tif (j === void 0) j = 0;\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet i = (j + d0) / (.44 + .56 * (j + d0));\n\tlet l = jabPqDecode(i + .13860504 * a + .058047316 * b);\n\tlet m = jabPqDecode(i - .13860504 * a - .058047316 * b);\n\tlet s = jabPqDecode(i - .096019242 * a - .8118919 * b);\n\tlet res = {\n\t\tmode: \"xyz65\",\n\t\tx: rel(1.661373024652174 * l - .914523081304348 * m + .23136208173913045 * s),\n\t\ty: rel(-.3250758611844533 * l + 1.571847026732543 * m - .21825383453227928 * s),\n\t\tz: rel(-.090982811 * l - .31272829 * m + 1.5227666 * s)\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertJabToXyz65_default = convertJabToXyz65;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertRgbToJab.js\nconst convertRgbToJab = (rgb$4) => {\n\tlet res = convertXyz65ToJab_default(convertRgbToXyz65_default(rgb$4));\n\tif (rgb$4.r === rgb$4.b && rgb$4.b === rgb$4.g) res.a = res.b = 0;\n\treturn res;\n};\nvar convertRgbToJab_default = convertRgbToJab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/convertJabToRgb.js\nconst convertJabToRgb = (color) => convertXyz65ToRgb_default(convertJabToXyz65_default(color));\nvar convertJabToRgb_default = convertJabToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jab/definition.js\nconst definition$5 = {\n\tmode: \"jab\",\n\tchannels: [\n\t\t\"j\",\n\t\t\"a\",\n\t\t\"b\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--jzazbz\"],\n\tserialize: \"--jzazbz\",\n\tfromMode: {\n\t\trgb: convertRgbToJab_default,\n\t\txyz65: convertXyz65ToJab_default\n\t},\n\ttoMode: {\n\t\trgb: convertJabToRgb_default,\n\t\txyz65: convertJabToXyz65_default\n\t},\n\tranges: {\n\t\tj: [0, .222],\n\t\ta: [-.109, .129],\n\t\tb: [-.185, .134]\n\t},\n\tinterpolate: {\n\t\tj: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$21 = definition$5;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jch/convertJabToJch.js\nconst convertJabToJch = ({ j, a, b, alpha }) => {\n\tif (a === void 0) a = 0;\n\tif (b === void 0) b = 0;\n\tlet c$1 = Math.sqrt(a * a + b * b);\n\tlet res = {\n\t\tmode: \"jch\",\n\t\tj,\n\t\tc: c$1\n\t};\n\tif (c$1) res.h = normalizeHue_default(Math.atan2(b, a) * 180 / Math.PI);\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertJabToJch_default = convertJabToJch;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jch/convertJchToJab.js\nconst convertJchToJab = ({ j, c: c$1, h, alpha }) => {\n\tif (h === void 0) h = 0;\n\tlet res = {\n\t\tmode: \"jab\",\n\t\tj,\n\t\ta: c$1 ? c$1 * Math.cos(h / 180 * Math.PI) : 0,\n\t\tb: c$1 ? c$1 * Math.sin(h / 180 * Math.PI) : 0\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertJchToJab_default = convertJchToJab;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/jch/definition.js\nconst definition$4 = {\n\tmode: \"jch\",\n\tparse: [\"--jzczhz\"],\n\tserialize: \"--jzczhz\",\n\ttoMode: {\n\t\tjab: convertJchToJab_default,\n\t\trgb: (c$1) => convertJabToRgb_default(convertJchToJab_default(c$1))\n\t},\n\tfromMode: {\n\t\trgb: (c$1) => convertJabToJch_default(convertRgbToJab_default(c$1)),\n\t\tjab: convertJabToJch_default\n\t},\n\tchannels: [\n\t\t\"j\",\n\t\t\"c\",\n\t\t\"h\",\n\t\t\"alpha\"\n\t],\n\tranges: {\n\t\tj: [0, .221],\n\t\tc: [0, .19],\n\t\th: [0, 360]\n\t},\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\tc: interpolatorLinear,\n\t\tj: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueChroma },\n\taverage: { h: averageAngle }\n};\nvar definition_default$22 = definition$4;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lchuv/convertLuvToLchuv.js\nconst convertLuvToLchuv = ({ l, u, v, alpha }) => {\n\tif (u === void 0) u = 0;\n\tif (v === void 0) v = 0;\n\tlet c$1 = Math.sqrt(u * u + v * v);\n\tlet res = {\n\t\tmode: \"lchuv\",\n\t\tl,\n\t\tc: c$1\n\t};\n\tif (c$1) res.h = normalizeHue_default(Math.atan2(v, u) * 180 / Math.PI);\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLuvToLchuv_default = convertLuvToLchuv;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lchuv/convertLchuvToLuv.js\nconst convertLchuvToLuv = ({ l, c: c$1, h, alpha }) => {\n\tif (h === void 0) h = 0;\n\tlet res = {\n\t\tmode: \"luv\",\n\t\tl,\n\t\tu: c$1 ? c$1 * Math.cos(h / 180 * Math.PI) : 0,\n\t\tv: c$1 ? c$1 * Math.sin(h / 180 * Math.PI) : 0\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLchuvToLuv_default = convertLchuvToLuv;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/luv/convertXyz50ToLuv.js\nconst u_fn$1 = (x, y, z) => 4 * x / (x + 15 * y + 3 * z);\nconst v_fn$1 = (x, y, z) => 9 * y / (x + 15 * y + 3 * z);\nconst un$1 = u_fn$1(D50.X, D50.Y, D50.Z);\nconst vn$1 = v_fn$1(D50.X, D50.Y, D50.Z);\nconst l_fn = (value) => value <= e ? k * value : 116 * Math.cbrt(value) - 16;\nconst convertXyz50ToLuv = ({ x, y, z, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (z === void 0) z = 0;\n\tlet l = l_fn(y / D50.Y);\n\tlet u = u_fn$1(x, y, z);\n\tlet v = v_fn$1(x, y, z);\n\tif (!isFinite(u) || !isFinite(v)) l = u = v = 0;\n\telse {\n\t\tu = 13 * l * (u - un$1);\n\t\tv = 13 * l * (v - vn$1);\n\t}\n\tlet res = {\n\t\tmode: \"luv\",\n\t\tl,\n\t\tu,\n\t\tv\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXyz50ToLuv_default = convertXyz50ToLuv;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/luv/convertLuvToXyz50.js\nconst u_fn = (x, y, z) => 4 * x / (x + 15 * y + 3 * z);\nconst v_fn = (x, y, z) => 9 * y / (x + 15 * y + 3 * z);\nconst un = u_fn(D50.X, D50.Y, D50.Z);\nconst vn = v_fn(D50.X, D50.Y, D50.Z);\nconst convertLuvToXyz50 = ({ l, u, v, alpha }) => {\n\tif (l === void 0) l = 0;\n\tif (l === 0) return {\n\t\tmode: \"xyz50\",\n\t\tx: 0,\n\t\ty: 0,\n\t\tz: 0\n\t};\n\tif (u === void 0) u = 0;\n\tif (v === void 0) v = 0;\n\tlet up = u / (13 * l) + un;\n\tlet vp = v / (13 * l) + vn;\n\tlet y = D50.Y * (l <= 8 ? l / k : Math.pow((l + 16) / 116, 3));\n\tlet x = y * (9 * up) / (4 * vp);\n\tlet z = y * (12 - 3 * up - 20 * vp) / (4 * vp);\n\tlet res = {\n\t\tmode: \"xyz50\",\n\t\tx,\n\t\ty,\n\t\tz\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertLuvToXyz50_default = convertLuvToXyz50;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/lchuv/definition.js\nconst convertRgbToLchuv = (rgb$4) => convertLuvToLchuv_default(convertXyz50ToLuv_default(convertRgbToXyz50_default(rgb$4)));\nconst convertLchuvToRgb = (lchuv$1) => convertXyz50ToRgb_default(convertLuvToXyz50_default(convertLchuvToLuv_default(lchuv$1)));\nconst definition$3 = {\n\tmode: \"lchuv\",\n\ttoMode: {\n\t\tluv: convertLchuvToLuv_default,\n\t\trgb: convertLchuvToRgb\n\t},\n\tfromMode: {\n\t\trgb: convertRgbToLchuv,\n\t\tluv: convertLuvToLchuv_default\n\t},\n\tchannels: [\n\t\t\"l\",\n\t\t\"c\",\n\t\t\"h\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--lchuv\"],\n\tserialize: \"--lchuv\",\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 176.956],\n\t\th: [0, 360]\n\t},\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\tdifference: { h: differenceHueChroma },\n\taverage: { h: averageAngle }\n};\nvar definition_default$24 = definition$3;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/luv/definition.js\nconst definition$2 = {\n\tmode: \"luv\",\n\ttoMode: {\n\t\txyz50: convertLuvToXyz50_default,\n\t\trgb: (luv$1) => convertXyz50ToRgb_default(convertLuvToXyz50_default(luv$1))\n\t},\n\tfromMode: {\n\t\txyz50: convertXyz50ToLuv_default,\n\t\trgb: (rgb$4) => convertXyz50ToLuv_default(convertRgbToXyz50_default(rgb$4))\n\t},\n\tchannels: [\n\t\t\"l\",\n\t\t\"u\",\n\t\t\"v\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--luv\"],\n\tserialize: \"--luv\",\n\tranges: {\n\t\tl: [0, 100],\n\t\tu: [-84.936, 175.042],\n\t\tv: [-125.882, 87.243]\n\t},\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\tu: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$25 = definition$2;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/helpers.js\nfunction toe(x) {\n\tconst k_1 = .206;\n\tconst k_2 = .03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn .5 * (k_3 * x - k_1 + Math.sqrt((k_3 * x - k_1) * (k_3 * x - k_1) + 4 * k_2 * k_3 * x));\n}\nfunction toe_inv(x) {\n\tconst k_1 = .206;\n\tconst k_2 = .03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (x * x + k_1 * x) / (k_3 * (x + k_2));\n}\nfunction compute_max_saturation(a, b) {\n\tlet k0, k1, k2, k3, k4, wl, wm, ws;\n\tif (-1.88170328 * a - .80936493 * b > 1) {\n\t\tk0 = 1.19086277;\n\t\tk1 = 1.76576728;\n\t\tk2 = .59662641;\n\t\tk3 = .75515197;\n\t\tk4 = .56771245;\n\t\twl = 4.0767416621;\n\t\twm = -3.3077115913;\n\t\tws = .2309699292;\n\t} else if (1.81444104 * a - 1.19445276 * b > 1) {\n\t\tk0 = .73956515;\n\t\tk1 = -.45954404;\n\t\tk2 = .08285427;\n\t\tk3 = .1254107;\n\t\tk4 = .14503204;\n\t\twl = -1.2684380046;\n\t\twm = 2.6097574011;\n\t\tws = -.3413193965;\n\t} else {\n\t\tk0 = 1.35733652;\n\t\tk1 = -.00915799;\n\t\tk2 = -1.1513021;\n\t\tk3 = -.50559606;\n\t\tk4 = .00692167;\n\t\twl = -.0041960863;\n\t\twm = -.7034186147;\n\t\tws = 1.707614701;\n\t}\n\tlet S = k0 + k1 * a + k2 * b + k3 * a * a + k4 * a * b;\n\tlet k_l = .3963377774 * a + .2158037573 * b;\n\tlet k_m = -.1055613458 * a - .0638541728 * b;\n\tlet k_s = -.0894841775 * a - 1.291485548 * b;\n\t{\n\t\tlet l_ = 1 + S * k_l;\n\t\tlet m_ = 1 + S * k_m;\n\t\tlet s_ = 1 + S * k_s;\n\t\tlet l = l_ * l_ * l_;\n\t\tlet m = m_ * m_ * m_;\n\t\tlet s = s_ * s_ * s_;\n\t\tlet l_dS = 3 * k_l * l_ * l_;\n\t\tlet m_dS = 3 * k_m * m_ * m_;\n\t\tlet s_dS = 3 * k_s * s_ * s_;\n\t\tlet l_dS2 = 6 * k_l * k_l * l_;\n\t\tlet m_dS2 = 6 * k_m * k_m * m_;\n\t\tlet s_dS2 = 6 * k_s * k_s * s_;\n\t\tlet f$2 = wl * l + wm * m + ws * s;\n\t\tlet f1 = wl * l_dS + wm * m_dS + ws * s_dS;\n\t\tlet f2 = wl * l_dS2 + wm * m_dS2 + ws * s_dS2;\n\t\tS = S - f$2 * f1 / (f1 * f1 - .5 * f$2 * f2);\n\t}\n\treturn S;\n}\nfunction find_cusp(a, b) {\n\tlet S_cusp = compute_max_saturation(a, b);\n\tlet rgb$4 = convertOklabToLrgb_default({\n\t\tl: 1,\n\t\ta: S_cusp * a,\n\t\tb: S_cusp * b\n\t});\n\tlet L_cusp = Math.cbrt(1 / Math.max(rgb$4.r, rgb$4.g, rgb$4.b));\n\tlet C_cusp = L_cusp * S_cusp;\n\treturn [L_cusp, C_cusp];\n}\nfunction find_gamut_intersection(a, b, L1, C1$1, L0, cusp = null) {\n\tif (!cusp) cusp = find_cusp(a, b);\n\tlet t;\n\tif ((L1 - L0) * cusp[1] - (cusp[0] - L0) * C1$1 <= 0) t = cusp[1] * L0 / (C1$1 * cusp[0] + cusp[1] * (L0 - L1));\n\telse {\n\t\tt = cusp[1] * (L0 - 1) / (C1$1 * (cusp[0] - 1) + cusp[1] * (L0 - L1));\n\t\t{\n\t\t\tlet dL = L1 - L0;\n\t\t\tlet dC = C1$1;\n\t\t\tlet k_l = .3963377774 * a + .2158037573 * b;\n\t\t\tlet k_m = -.1055613458 * a - .0638541728 * b;\n\t\t\tlet k_s = -.0894841775 * a - 1.291485548 * b;\n\t\t\tlet l_dt = dL + dC * k_l;\n\t\t\tlet m_dt = dL + dC * k_m;\n\t\t\tlet s_dt = dL + dC * k_s;\n\t\t\t{\n\t\t\t\tlet L = L0 * (1 - t) + t * L1;\n\t\t\t\tlet C = t * C1$1;\n\t\t\t\tlet l_ = L + C * k_l;\n\t\t\t\tlet m_ = L + C * k_m;\n\t\t\t\tlet s_ = L + C * k_s;\n\t\t\t\tlet l = l_ * l_ * l_;\n\t\t\t\tlet m = m_ * m_ * m_;\n\t\t\t\tlet s = s_ * s_ * s_;\n\t\t\t\tlet ldt = 3 * l_dt * l_ * l_;\n\t\t\t\tlet mdt = 3 * m_dt * m_ * m_;\n\t\t\t\tlet sdt = 3 * s_dt * s_ * s_;\n\t\t\t\tlet ldt2 = 6 * l_dt * l_dt * l_;\n\t\t\t\tlet mdt2 = 6 * m_dt * m_dt * m_;\n\t\t\t\tlet sdt2 = 6 * s_dt * s_dt * s_;\n\t\t\t\tlet r$1 = 4.0767416621 * l - 3.3077115913 * m + .2309699292 * s - 1;\n\t\t\t\tlet r1 = 4.0767416621 * ldt - 3.3077115913 * mdt + .2309699292 * sdt;\n\t\t\t\tlet r2 = 4.0767416621 * ldt2 - 3.3077115913 * mdt2 + .2309699292 * sdt2;\n\t\t\t\tlet u_r = r1 / (r1 * r1 - .5 * r$1 * r2);\n\t\t\t\tlet t_r = -r$1 * u_r;\n\t\t\t\tlet g = -1.2684380046 * l + 2.6097574011 * m - .3413193965 * s - 1;\n\t\t\t\tlet g1 = -1.2684380046 * ldt + 2.6097574011 * mdt - .3413193965 * sdt;\n\t\t\t\tlet g2 = -1.2684380046 * ldt2 + 2.6097574011 * mdt2 - .3413193965 * sdt2;\n\t\t\t\tlet u_g = g1 / (g1 * g1 - .5 * g * g2);\n\t\t\t\tlet t_g = -g * u_g;\n\t\t\t\tlet b$1 = -.0041960863 * l - .7034186147 * m + 1.707614701 * s - 1;\n\t\t\t\tlet b1 = -.0041960863 * ldt - .7034186147 * mdt + 1.707614701 * sdt;\n\t\t\t\tlet b2 = -.0041960863 * ldt2 - .7034186147 * mdt2 + 1.707614701 * sdt2;\n\t\t\t\tlet u_b = b1 / (b1 * b1 - .5 * b$1 * b2);\n\t\t\t\tlet t_b = -b$1 * u_b;\n\t\t\t\tt_r = u_r >= 0 ? t_r : 1e6;\n\t\t\t\tt_g = u_g >= 0 ? t_g : 1e6;\n\t\t\t\tt_b = u_b >= 0 ? t_b : 1e6;\n\t\t\t\tt += Math.min(t_r, Math.min(t_g, t_b));\n\t\t\t}\n\t\t}\n\t}\n\treturn t;\n}\nfunction get_ST_max(a_, b_, cusp = null) {\n\tif (!cusp) cusp = find_cusp(a_, b_);\n\tlet L = cusp[0];\n\tlet C = cusp[1];\n\treturn [C / L, C / (1 - L)];\n}\nfunction get_Cs(L, a_, b_) {\n\tlet cusp = find_cusp(a_, b_);\n\tlet C_max = find_gamut_intersection(a_, b_, L, 1, L, cusp);\n\tlet ST_max = get_ST_max(a_, b_, cusp);\n\tlet S_mid = .11516993 + 1 / (7.4477897 + 4.1590124 * b_ + a_ * (-2.19557347 + 1.75198401 * b_ + a_ * (-2.13704948 - 10.02301043 * b_ + a_ * (-4.24894561 + 5.38770819 * b_ + 4.69891013 * a_))));\n\tlet T_mid = .11239642 + 1 / (1.6132032 - .68124379 * b_ + a_ * (.40370612 + .90148123 * b_ + a_ * (-.27087943 + .6122399 * b_ + a_ * (.00299215 - .45399568 * b_ - .14661872 * a_))));\n\tlet k$3 = C_max / Math.min(L * ST_max[0], (1 - L) * ST_max[1]);\n\tlet C_a = L * S_mid;\n\tlet C_b = (1 - L) * T_mid;\n\tlet C_mid = .9 * k$3 * Math.sqrt(Math.sqrt(1 / (1 / (C_a * C_a * C_a * C_a) + 1 / (C_b * C_b * C_b * C_b))));\n\tC_a = L * .4;\n\tC_b = (1 - L) * .8;\n\treturn [\n\t\tMath.sqrt(1 / (1 / (C_a * C_a) + 1 / (C_b * C_b))),\n\t\tC_mid,\n\t\tC_max\n\t];\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/convertOklabToOkhsl.js\nfunction convertOklabToOkhsl(lab$2) {\n\tconst l = lab$2.l !== void 0 ? lab$2.l : 0;\n\tconst a = lab$2.a !== void 0 ? lab$2.a : 0;\n\tconst b = lab$2.b !== void 0 ? lab$2.b : 0;\n\tconst ret = {\n\t\tmode: \"okhsl\",\n\t\tl: toe(l)\n\t};\n\tif (lab$2.alpha !== void 0) ret.alpha = lab$2.alpha;\n\tlet c$1 = Math.sqrt(a * a + b * b);\n\tif (!c$1) {\n\t\tret.s = 0;\n\t\treturn ret;\n\t}\n\tlet [C_0, C_mid, C_max] = get_Cs(l, a / c$1, b / c$1);\n\tlet s;\n\tif (c$1 < C_mid) {\n\t\tlet k_0 = 0;\n\t\tlet k_1 = .8 * C_0;\n\t\tlet k_2 = 1 - k_1 / C_mid;\n\t\ts = (c$1 - k_0) / (k_1 + k_2 * (c$1 - k_0)) * .8;\n\t} else {\n\t\tlet k_0 = C_mid;\n\t\tlet k_1 = .2 * C_mid * C_mid * 1.25 * 1.25 / C_0;\n\t\tlet k_2 = 1 - k_1 / (C_max - C_mid);\n\t\ts = .8 + .2 * ((c$1 - k_0) / (k_1 + k_2 * (c$1 - k_0)));\n\t}\n\tif (s) {\n\t\tret.s = s;\n\t\tret.h = normalizeHue_default(Math.atan2(b, a) * 180 / Math.PI);\n\t}\n\treturn ret;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/convertOkhslToOklab.js\nfunction convertOkhslToOklab(hsl$3) {\n\tlet h = hsl$3.h !== void 0 ? hsl$3.h : 0;\n\tlet s = hsl$3.s !== void 0 ? hsl$3.s : 0;\n\tlet l = hsl$3.l !== void 0 ? hsl$3.l : 0;\n\tconst ret = {\n\t\tmode: \"oklab\",\n\t\tl: toe_inv(l)\n\t};\n\tif (hsl$3.alpha !== void 0) ret.alpha = hsl$3.alpha;\n\tif (!s || l === 1) {\n\t\tret.a = ret.b = 0;\n\t\treturn ret;\n\t}\n\tlet a_ = Math.cos(h / 180 * Math.PI);\n\tlet b_ = Math.sin(h / 180 * Math.PI);\n\tlet [C_0, C_mid, C_max] = get_Cs(ret.l, a_, b_);\n\tlet t, k_0, k_1, k_2;\n\tif (s < .8) {\n\t\tt = 1.25 * s;\n\t\tk_0 = 0;\n\t\tk_1 = .8 * C_0;\n\t\tk_2 = 1 - k_1 / C_mid;\n\t} else {\n\t\tt = 5 * (s - .8);\n\t\tk_0 = C_mid;\n\t\tk_1 = .2 * C_mid * C_mid * 1.25 * 1.25 / C_0;\n\t\tk_2 = 1 - k_1 / (C_max - C_mid);\n\t}\n\tlet C = k_0 + t * k_1 / (1 - k_2 * t);\n\tret.a = C * a_;\n\tret.b = C * b_;\n\treturn ret;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsl/modeOkhsl.js\nconst modeOkhsl = {\n\t...definition_default$1,\n\tmode: \"okhsl\",\n\tchannels: [\n\t\t\"h\",\n\t\t\"s\",\n\t\t\"l\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--okhsl\"],\n\tserialize: \"--okhsl\",\n\tfromMode: {\n\t\toklab: convertOklabToOkhsl,\n\t\trgb: (c$1) => convertOklabToOkhsl(convertRgbToOklab_default(c$1))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhslToOklab,\n\t\trgb: (c$1) => convertOklabToRgb_default(convertOkhslToOklab(c$1))\n\t}\n};\nvar modeOkhsl_default = modeOkhsl;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsv/convertOklabToOkhsv.js\nfunction convertOklabToOkhsv(lab$2) {\n\tlet l = lab$2.l !== void 0 ? lab$2.l : 0;\n\tlet a = lab$2.a !== void 0 ? lab$2.a : 0;\n\tlet b = lab$2.b !== void 0 ? lab$2.b : 0;\n\tlet c$1 = Math.sqrt(a * a + b * b);\n\tlet a_ = c$1 ? a / c$1 : 1;\n\tlet b_ = c$1 ? b / c$1 : 1;\n\tlet [S_max, T] = get_ST_max(a_, b_);\n\tlet S_0 = .5;\n\tlet k$3 = 1 - S_0 / S_max;\n\tlet t = T / (c$1 + l * T);\n\tlet L_v = t * l;\n\tlet C_v = t * c$1;\n\tlet L_vt = toe_inv(L_v);\n\tlet C_vt = C_v * L_vt / L_v;\n\tlet rgb_scale = convertOklabToLrgb_default({\n\t\tl: L_vt,\n\t\ta: a_ * C_vt,\n\t\tb: b_ * C_vt\n\t});\n\tlet scale_L = Math.cbrt(1 / Math.max(rgb_scale.r, rgb_scale.g, rgb_scale.b, 0));\n\tl = l / scale_L;\n\tc$1 = c$1 / scale_L * toe(l) / l;\n\tl = toe(l);\n\tconst ret = {\n\t\tmode: \"okhsv\",\n\t\ts: c$1 ? (S_0 + T) * C_v / (T * S_0 + T * k$3 * C_v) : 0,\n\t\tv: l ? l / L_v : 0\n\t};\n\tif (ret.s) ret.h = normalizeHue_default(Math.atan2(b, a) * 180 / Math.PI);\n\tif (lab$2.alpha !== void 0) ret.alpha = lab$2.alpha;\n\treturn ret;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsv/convertOkhsvToOklab.js\nfunction convertOkhsvToOklab(hsv$2) {\n\tconst ret = { mode: \"oklab\" };\n\tif (hsv$2.alpha !== void 0) ret.alpha = hsv$2.alpha;\n\tconst h = hsv$2.h !== void 0 ? hsv$2.h : 0;\n\tconst s = hsv$2.s !== void 0 ? hsv$2.s : 0;\n\tconst v = hsv$2.v !== void 0 ? hsv$2.v : 0;\n\tconst a_ = Math.cos(h / 180 * Math.PI);\n\tconst b_ = Math.sin(h / 180 * Math.PI);\n\tconst [S_max, T] = get_ST_max(a_, b_);\n\tconst S_0 = .5;\n\tconst k$3 = 1 - S_0 / S_max;\n\tconst L_v = 1 - s * S_0 / (S_0 + T - T * k$3 * s);\n\tconst C_v = s * T * S_0 / (S_0 + T - T * k$3 * s);\n\tconst L_vt = toe_inv(L_v);\n\tconst C_vt = C_v * L_vt / L_v;\n\tconst rgb_scale = convertOklabToLrgb_default({\n\t\tl: L_vt,\n\t\ta: a_ * C_vt,\n\t\tb: b_ * C_vt\n\t});\n\tconst scale_L = Math.cbrt(1 / Math.max(rgb_scale.r, rgb_scale.g, rgb_scale.b, 0));\n\tconst L_new = toe_inv(v * L_v);\n\tconst C = C_v * L_new / L_v;\n\tret.l = L_new * scale_L;\n\tret.a = C * a_ * scale_L;\n\tret.b = C * b_ * scale_L;\n\treturn ret;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/okhsv/modeOkhsv.js\nconst modeOkhsv = {\n\t...definition_default$19,\n\tmode: \"okhsv\",\n\tchannels: [\n\t\t\"h\",\n\t\t\"s\",\n\t\t\"v\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--okhsv\"],\n\tserialize: \"--okhsv\",\n\tfromMode: {\n\t\toklab: convertOklabToOkhsv,\n\t\trgb: (c$1) => convertOklabToOkhsv(convertRgbToOklab_default(c$1))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhsvToOklab,\n\t\trgb: (c$1) => convertOklabToRgb_default(convertOkhsvToOklab(c$1))\n\t}\n};\nvar modeOkhsv_default = modeOkhsv;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/constants.js\nconst bias = .0037930732552754493;\nconst bias_cbrt = Math.cbrt(bias);\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/convertRgbToXyb.js\nconst transfer$1 = (v) => Math.cbrt(v) - bias_cbrt;\nconst convertRgbToXyb = (color) => {\n\tconst { r: r$1, g, b, alpha } = convertRgbToLrgb_default(color);\n\tconst l = transfer$1(.3 * r$1 + .622 * g + .078 * b + bias);\n\tconst m = transfer$1(.23 * r$1 + .692 * g + .078 * b + bias);\n\tconst s = transfer$1(.2434226892454782 * r$1 + .2047674442449682 * g + .5518098665095535 * b + bias);\n\tconst res = {\n\t\tmode: \"xyb\",\n\t\tx: (l - m) / 2,\n\t\ty: (l + m) / 2,\n\t\tb: s - (l + m) / 2\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertRgbToXyb_default = convertRgbToXyb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/convertXybToRgb.js\nconst transfer = (v) => Math.pow(v + bias_cbrt, 3);\nconst convertXybToRgb = ({ x, y, b, alpha }) => {\n\tif (x === void 0) x = 0;\n\tif (y === void 0) y = 0;\n\tif (b === void 0) b = 0;\n\tconst l = transfer(x + y) - bias;\n\tconst m = transfer(y - x) - bias;\n\tconst s = transfer(b + y) - bias;\n\tconst res = convertLrgbToRgb_default({\n\t\tr: 11.031566904639861 * l - 9.866943908131562 * m - .16462299650829934 * s,\n\t\tg: -3.2541473810744237 * l + 4.418770377582723 * m - .16462299650829934 * s,\n\t\tb: -3.6588512867136815 * l + 2.7129230459360922 * m + 1.9459282407775895 * s\n\t});\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertXybToRgb_default = convertXybToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/xyb/definition.js\nconst definition$1 = {\n\tmode: \"xyb\",\n\tchannels: [\n\t\t\"x\",\n\t\t\"y\",\n\t\t\"b\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--xyb\"],\n\tserialize: \"--xyb\",\n\ttoMode: { rgb: convertXybToRgb_default },\n\tfromMode: { rgb: convertRgbToXyb_default },\n\tranges: {\n\t\tx: [-.0154, .0281],\n\t\ty: [0, .8453],\n\t\tb: [-.2778, .388]\n\t},\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$26 = definition$1;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/yiq/convertRgbToYiq.js\nconst convertRgbToYiq = ({ r: r$1, g, b, alpha }) => {\n\tif (r$1 === void 0) r$1 = 0;\n\tif (g === void 0) g = 0;\n\tif (b === void 0) b = 0;\n\tconst res = {\n\t\tmode: \"yiq\",\n\t\ty: .29889531 * r$1 + .58662247 * g + .11448223 * b,\n\t\ti: .59597799 * r$1 - .2741761 * g - .32180189 * b,\n\t\tq: .21147017 * r$1 - .52261711 * g + .31114694 * b\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertRgbToYiq_default = convertRgbToYiq;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/yiq/convertYiqToRgb.js\nconst convertYiqToRgb = ({ y, i, q, alpha }) => {\n\tif (y === void 0) y = 0;\n\tif (i === void 0) i = 0;\n\tif (q === void 0) q = 0;\n\tconst res = {\n\t\tmode: \"rgb\",\n\t\tr: y + .95608445 * i + .6208885 * q,\n\t\tg: y - .27137664 * i - .6486059 * q,\n\t\tb: y - 1.10561724 * i + 1.70250126 * q\n\t};\n\tif (alpha !== void 0) res.alpha = alpha;\n\treturn res;\n};\nvar convertYiqToRgb_default = convertYiqToRgb;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/yiq/definition.js\nconst definition = {\n\tmode: \"yiq\",\n\ttoMode: { rgb: convertYiqToRgb_default },\n\tfromMode: { rgb: convertRgbToYiq_default },\n\tchannels: [\n\t\t\"y\",\n\t\t\"i\",\n\t\t\"q\",\n\t\t\"alpha\"\n\t],\n\tparse: [\"--yiq\"],\n\tserialize: \"--yiq\",\n\tranges: {\n\t\ti: [-.595, .595],\n\t\tq: [-.522, .522]\n\t},\n\tinterpolate: {\n\t\ty: interpolatorLinear,\n\t\ti: interpolatorLinear,\n\t\tq: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\nvar definition_default$27 = definition;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/round.js\nconst r = (value, precision) => Math.round(value * (precision = Math.pow(10, precision))) / precision;\nconst round = (precision = 4) => (value) => typeof value === \"number\" ? r(value, precision) : value;\nvar round_default = round;\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/formatter.js\nlet twoDecimals = round_default(2);\nconst clamp = (value) => Math.max(0, Math.min(1, value || 0));\nconst fixup = (value) => Math.round(clamp(value) * 255);\nconst rgb$2 = converter_default(\"rgb\");\nconst hsl$1 = converter_default(\"hsl\");\nconst serializeHex = (color) => {\n\tif (color === void 0) return;\n\tlet r$1 = fixup(color.r);\n\tlet g = fixup(color.g);\n\tlet b = fixup(color.b);\n\treturn \"#\" + (1 << 24 | r$1 << 16 | g << 8 | b).toString(16).slice(1);\n};\nconst serializeHex8 = (color) => {\n\tif (color === void 0) return;\n\tlet a = fixup(color.alpha !== void 0 ? color.alpha : 1);\n\treturn serializeHex(color) + (256 | a).toString(16).slice(1);\n};\nconst formatCss = (c$1) => {\n\tconst color = _prepare_default(c$1);\n\tif (!color) return;\n\tconst def = getMode(color.mode);\n\tif (!def.serialize || typeof def.serialize === \"string\") {\n\t\tlet res = `color(${def.serialize || `--${color.mode}`} `;\n\t\tdef.channels.forEach((ch, i) => {\n\t\t\tif (ch !== \"alpha\") res += (i ? \" \" : \"\") + (color[ch] !== void 0 ? color[ch] : \"none\");\n\t\t});\n\t\tif (color.alpha !== void 0 && color.alpha < 1) res += ` / ${color.alpha}`;\n\t\treturn res + \")\";\n\t}\n\tif (typeof def.serialize === \"function\") return def.serialize(color);\n};\nconst formatHex = (c$1) => serializeHex(rgb$2(c$1));\nconst formatHex8 = (c$1) => serializeHex8(rgb$2(c$1));\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/clamp.js\nconst rgb$1 = converter_default(\"rgb\");\nconst fixup_rgb = (c$1) => {\n\tconst res = {\n\t\tmode: c$1.mode,\n\t\tr: Math.max(0, Math.min(c$1.r !== void 0 ? c$1.r : 0, 1)),\n\t\tg: Math.max(0, Math.min(c$1.g !== void 0 ? c$1.g : 0, 1)),\n\t\tb: Math.max(0, Math.min(c$1.b !== void 0 ? c$1.b : 0, 1))\n\t};\n\tif (c$1.alpha !== void 0) res.alpha = c$1.alpha;\n\treturn res;\n};\nconst inrange_rgb = (c$1) => {\n\treturn c$1 !== void 0 && (c$1.r === void 0 || c$1.r >= 0 && c$1.r <= 1) && (c$1.g === void 0 || c$1.g >= 0 && c$1.g <= 1) && (c$1.b === void 0 || c$1.b >= 0 && c$1.b <= 1);\n};\nfunction displayable(color) {\n\treturn inrange_rgb(rgb$1(color));\n}\nfunction inGamut(mode = \"rgb\") {\n\tconst { gamut } = getMode(mode);\n\tif (!gamut) return (color) => true;\n\tconst conv = converter_default(typeof gamut === \"string\" ? gamut : mode);\n\treturn (color) => inrange_rgb(conv(color));\n}\nfunction clampGamut(mode = \"rgb\") {\n\tconst { gamut } = getMode(mode);\n\tif (!gamut) return (color) => _prepare_default(color);\n\tconst destMode = typeof gamut === \"string\" ? gamut : mode;\n\tconst destConv = converter_default(destMode);\n\tconst inDestGamut = inGamut(destMode);\n\treturn (color) => {\n\t\tconst original = _prepare_default(color);\n\t\tif (!original) return;\n\t\tconst converted = destConv(original);\n\t\tif (inDestGamut(converted)) return original;\n\t\tconst clamped = fixup_rgb(converted);\n\t\tif (original.mode === clamped.mode) return clamped;\n\t\treturn converter_default(original.mode)(clamped);\n\t};\n}\nfunction toGamut(dest = \"rgb\", mode = \"oklch\", delta = differenceEuclidean(\"oklch\"), jnd = .02) {\n\tconst destConv = converter_default(dest);\n\tconst destMode = getMode(dest);\n\tif (!destMode.gamut) return (color) => destConv(color);\n\tconst inDestinationGamut = inGamut(dest);\n\tconst clipToGamut = clampGamut(dest);\n\tconst ucs = converter_default(mode);\n\tconst { ranges } = getMode(mode);\n\tif (!ranges.l || !ranges.c) throw new Error(\"LCH-like space expected\");\n\treturn (color) => {\n\t\tcolor = _prepare_default(color);\n\t\tif (color === void 0) return;\n\t\tconst candidate = { ...ucs(color) };\n\t\tif (candidate.l === void 0) candidate.l = 0;\n\t\tif (candidate.c === void 0) candidate.c = 0;\n\t\tif (candidate.l >= ranges.l[1]) {\n\t\t\tconst res = {\n\t\t\t\t...destMode.white,\n\t\t\t\tmode: dest\n\t\t\t};\n\t\t\tif (color.alpha !== void 0) res.alpha = color.alpha;\n\t\t\treturn res;\n\t\t}\n\t\tif (candidate.l <= ranges.l[0]) {\n\t\t\tconst res = {\n\t\t\t\t...destMode.black,\n\t\t\t\tmode: dest\n\t\t\t};\n\t\t\tif (color.alpha !== void 0) res.alpha = color.alpha;\n\t\t\treturn res;\n\t\t}\n\t\tif (inDestinationGamut(candidate)) return destConv(candidate);\n\t\tlet start = 0;\n\t\tlet end = candidate.c;\n\t\tlet epsilon = (ranges.c[1] - ranges.c[0]) / 4e3;\n\t\tlet clipped = clipToGamut(candidate);\n\t\twhile (end - start > epsilon) {\n\t\t\tcandidate.c = (start + end) * .5;\n\t\t\tclipped = clipToGamut(candidate);\n\t\t\tif (inDestinationGamut(candidate) || delta && jnd > 0 && delta(candidate, clipped) <= jnd) start = candidate.c;\n\t\t\telse end = candidate.c;\n\t\t}\n\t\treturn destConv(inDestinationGamut(candidate) ? candidate : clipped);\n\t};\n}\n\n//#endregion\n//#region ../token-tools/dist/string-Dpqb78jQ.js\nconst HEX_RE = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\nconst CULORI_TO_CSS = {\n\ta98: \"a98-rgb\",\n\thsl: \"hsl\",\n\thwb: \"hwb\",\n\tlab: \"lab\",\n\tlab65: \"lab-d65\",\n\tlch: \"lch\",\n\tlrgb: \"srgb-linear\",\n\toklab: \"oklab\",\n\toklch: \"oklch\",\n\tokhsv: \"okhsv\",\n\tp3: \"display-p3\",\n\tprophoto: \"prophoto-rgb\",\n\trec2020: \"rec2020\",\n\trgb: \"srgb\",\n\txyz50: \"xyz-d50\",\n\txyz65: \"xyz-d65\"\n};\nconst CSS_TO_CULORI = {\n\t\"a98-rgb\": \"a98\",\n\t\"display-p3\": \"p3\",\n\thsl: \"hsl\",\n\thwb: \"hwb\",\n\tlab: \"lab\",\n\t\"lab-d65\": \"lab65\",\n\tlch: \"lch\",\n\toklab: \"oklab\",\n\toklch: \"oklch\",\n\tokhsv: \"okhsv\",\n\t\"prophoto-rgb\": \"prophoto\",\n\trec2020: \"rec2020\",\n\tsrgb: \"rgb\",\n\t\"srgb-linear\": \"lrgb\",\n\txyz: \"xyz65\",\n\t\"xyz-d50\": \"xyz50\",\n\t\"xyz-d65\": \"xyz65\"\n};\n/** Parse any color */\nfunction parseColor(color) {\n\tconst result = parse_default(color);\n\tif (!result) throw new Error(`Unable to parse color \"${color}\"`);\n\tif (!(result.mode in CULORI_TO_CSS)) throw new Error(`Unsupported color space: ${result.mode}`);\n\tconst colorSpace = CULORI_TO_CSS[result.mode];\n\tlet components = [\n\t\t0,\n\t\t0,\n\t\t0\n\t];\n\tswitch (result.mode) {\n\t\tcase \"a98\":\n\t\tcase \"rec2020\":\n\t\tcase \"p3\":\n\t\tcase \"prophoto\":\n\t\tcase \"lrgb\":\n\t\tcase \"rgb\":\n\t\t\tcomponents = [\n\t\t\t\tresult.r,\n\t\t\t\tresult.g,\n\t\t\t\tresult.b\n\t\t\t];\n\t\t\tbreak;\n\t\tcase \"hsl\": {\n\t\t\tconst maxS = COLORSPACE[colorSpace].ranges[1]?.[1] ?? 1;\n\t\t\tconst maxL = COLORSPACE[colorSpace].ranges[2]?.[1] ?? 1;\n\t\t\tcomponents = [\n\t\t\t\tresult.h ?? 0,\n\t\t\t\tresult.s * maxS,\n\t\t\t\tresult.l * maxL\n\t\t\t];\n\t\t\tbreak;\n\t\t}\n\t\tcase \"hwb\": {\n\t\t\tconst maxW = COLORSPACE[colorSpace].ranges[1]?.[1] ?? 1;\n\t\t\tconst maxB = COLORSPACE[colorSpace].ranges[2]?.[1] ?? 1;\n\t\t\tcomponents = [\n\t\t\t\tresult.h ?? 0,\n\t\t\t\tresult.w * maxW,\n\t\t\t\tresult.b * maxB\n\t\t\t];\n\t\t\tbreak;\n\t\t}\n\t\tcase \"lab\":\n\t\tcase \"lab65\":\n\t\tcase \"oklab\":\n\t\t\tcomponents = [\n\t\t\t\tresult.l,\n\t\t\t\tresult.a,\n\t\t\t\tresult.b\n\t\t\t];\n\t\t\tbreak;\n\t\tcase \"lch\":\n\t\tcase \"oklch\":\n\t\t\tcomponents = [\n\t\t\t\tresult.l,\n\t\t\t\tresult.c,\n\t\t\t\tresult.h ?? 0\n\t\t\t];\n\t\t\tbreak;\n\t\tcase \"okhsv\":\n\t\t\tcomponents = [\n\t\t\t\tresult.h ?? 0,\n\t\t\t\tresult.s,\n\t\t\t\tresult.v\n\t\t\t];\n\t\t\tbreak;\n\t\tcase \"xyz50\":\n\t\tcase \"xyz65\":\n\t\t\tcomponents = [\n\t\t\t\tresult.x,\n\t\t\t\tresult.y,\n\t\t\t\tresult.z\n\t\t\t];\n\t\t\tbreak;\n\t}\n\tconst value = {\n\t\tcolorSpace,\n\t\tcomponents,\n\t\talpha: result.alpha ?? 1\n\t};\n\tif (HEX_RE.test(color)) value.hex = formatHex(result);\n\treturn value;\n}\n/** Convert a color token to a Culori color */\nfunction tokenToCulori(value) {\n\tswitch (value.colorSpace) {\n\t\tcase \"a98-rgb\":\n\t\tcase \"display-p3\":\n\t\tcase \"prophoto-rgb\":\n\t\tcase \"rec2020\":\n\t\tcase \"srgb\":\n\t\tcase \"srgb-linear\": {\n\t\t\tconst [r$1, g, b] = value.components;\n\t\t\treturn {\n\t\t\t\tmode: CSS_TO_CULORI[value.colorSpace] || value.colorSpace,\n\t\t\t\tr: r$1,\n\t\t\t\tg,\n\t\t\t\tb,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tcase \"hsl\": {\n\t\t\tconst [h, s, l] = value.components;\n\t\t\tconst maxS = COLORSPACE[value.colorSpace].ranges[1]?.[1] ?? 1;\n\t\t\tconst maxL = COLORSPACE[value.colorSpace].ranges[2]?.[1] ?? 1;\n\t\t\treturn {\n\t\t\t\tmode: \"hsl\",\n\t\t\t\th,\n\t\t\t\ts: s / maxS,\n\t\t\t\tl: l / maxL,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tcase \"hwb\": {\n\t\t\tconst [h, w, b] = value.components;\n\t\t\tconst maxW = COLORSPACE[value.colorSpace].ranges[1]?.[1] ?? 1;\n\t\t\tconst maxB = COLORSPACE[value.colorSpace].ranges[2]?.[1] ?? 1;\n\t\t\treturn {\n\t\t\t\tmode: \"hwb\",\n\t\t\t\th,\n\t\t\t\tw: w / maxW,\n\t\t\t\tb: b / maxB,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tcase \"lab\":\n\t\tcase \"lab-d65\":\n\t\tcase \"oklab\": {\n\t\t\tconst [l, a, b] = value.components;\n\t\t\treturn {\n\t\t\t\tmode: value.colorSpace === \"lab-d65\" ? \"lab65\" : value.colorSpace,\n\t\t\t\tl,\n\t\t\t\ta,\n\t\t\t\tb,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tcase \"lch\":\n\t\tcase \"oklch\": {\n\t\t\tconst [l, c$1, h] = value.components;\n\t\t\treturn {\n\t\t\t\tmode: value.colorSpace,\n\t\t\t\tl,\n\t\t\t\tc: c$1,\n\t\t\t\th,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tcase \"okhsv\": {\n\t\t\tconst [h, s, v] = value.components;\n\t\t\treturn {\n\t\t\t\tmode: value.colorSpace,\n\t\t\t\th,\n\t\t\t\ts,\n\t\t\t\tv,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tcase \"xyz\":\n\t\tcase \"xyz-d50\":\n\t\tcase \"xyz-d65\": {\n\t\t\tconst [x, y, z] = value.components;\n\t\t\treturn {\n\t\t\t\tmode: CSS_TO_CULORI[value.colorSpace],\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\tz,\n\t\t\t\talpha: value.alpha\n\t\t\t};\n\t\t}\n\t\tdefault: throw new Error(`Invalid colorSpace \"${value.colorSpace}\". Expected one of ${Object.keys(CSS_TO_CULORI).join(\", \")}`);\n\t}\n}\n/** Complete list of CSS Module 4 Colorspaces */\nconst COLORSPACE = {\n\t\"a98-rgb\": { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\t\"display-p3\": { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\thsl: { ranges: [\n\t\t[0, 360],\n\t\t[0, 100],\n\t\t[0, 100]\n\t] },\n\thwb: { ranges: [\n\t\t[0, 360],\n\t\t[0, 100],\n\t\t[0, 100]\n\t] },\n\tlab: { ranges: [\n\t\t[0, 100],\n\t\t[-125, 125],\n\t\t[-125, 125]\n\t] },\n\t\"lab-d65\": { ranges: [\n\t\t[0, 100],\n\t\t[-125, 125],\n\t\t[-125, 125]\n\t] },\n\tlch: { ranges: [\n\t\t[0, 100],\n\t\t[0, 150],\n\t\t[0, 360]\n\t] },\n\toklab: { ranges: [\n\t\t[0, 1],\n\t\t[-.4, .4],\n\t\t[-.4, .4]\n\t] },\n\toklch: { ranges: [\n\t\t[0, 1],\n\t\t[0, .4],\n\t\t[0, 360]\n\t] },\n\tokhsv: { ranges: [\n\t\t[0, 360],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\t\"prophoto-rgb\": { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\trec2020: { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\tsrgb: { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\t\"srgb-linear\": { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\t\"xyz-d50\": { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\txyz: { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] },\n\t\"xyz-d65\": { ranges: [\n\t\t[0, 1],\n\t\t[0, 1],\n\t\t[0, 1]\n\t] }\n};\n/** Turn a string into kebab-case */\nfunction kebabCase(str) {\n\tlet output = \"\";\n\tfor (const c$1 of str.split(\"\")) {\n\t\tif (c$1 === \".\") {\n\t\t\toutput += \"-\";\n\t\t\tcontinue;\n\t\t}\n\t\tlet isFirstUppercase = true;\n\t\tif (isFirstUppercase && /\\p{Uppercase_Letter}/u.test(c$1)) {\n\t\t\toutput += `-${c$1.toLocaleLowerCase()}`;\n\t\t\tisFirstUppercase = false;\n\t\t\tcontinue;\n\t\t} else isFirstUppercase = true;\n\t\toutput += c$1;\n\t}\n\treturn output;\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/wildcard-match@5.1.4/node_modules/wildcard-match/build/index.es.mjs\n/**\n* Escapes a character if it has a special meaning in regular expressions\n* and returns the character as is if it doesn't\n*/\nfunction escapeRegExpChar(char) {\n\tif (char === \"-\" || char === \"^\" || char === \"$\" || char === \"+\" || char === \".\" || char === \"(\" || char === \")\" || char === \"|\" || char === \"[\" || char === \"]\" || char === \"{\" || char === \"}\" || char === \"*\" || char === \"?\" || char === \"\\\\\") return \"\\\\\".concat(char);\n\telse return char;\n}\n/**\n* Escapes all characters in a given string that have a special meaning in regular expressions\n*/\nfunction escapeRegExpString(str) {\n\tvar result = \"\";\n\tfor (var i = 0; i < str.length; i++) result += escapeRegExpChar(str[i]);\n\treturn result;\n}\n/**\n* Transforms one or more glob patterns into a RegExp pattern\n*/\nfunction transform(pattern, separator) {\n\tif (separator === void 0) separator = true;\n\tif (Array.isArray(pattern)) {\n\t\tvar regExpPatterns = pattern.map(function(p$2) {\n\t\t\treturn \"^\".concat(transform(p$2, separator), \"$\");\n\t\t});\n\t\treturn \"(?:\".concat(regExpPatterns.join(\"|\"), \")\");\n\t}\n\tvar separatorSplitter = \"\";\n\tvar separatorMatcher = \"\";\n\tvar wildcard = \".\";\n\tif (separator === true) {\n\t\tseparatorSplitter = \"/\";\n\t\tseparatorMatcher = \"[/\\\\\\\\]\";\n\t\twildcard = \"[^/\\\\\\\\]\";\n\t} else if (separator) {\n\t\tseparatorSplitter = separator;\n\t\tseparatorMatcher = escapeRegExpString(separatorSplitter);\n\t\tif (separatorMatcher.length > 1) {\n\t\t\tseparatorMatcher = \"(?:\".concat(separatorMatcher, \")\");\n\t\t\twildcard = \"((?!\".concat(separatorMatcher, \").)\");\n\t\t} else wildcard = \"[^\".concat(separatorMatcher, \"]\");\n\t}\n\tvar requiredSeparator = separator ? \"\".concat(separatorMatcher, \"+?\") : \"\";\n\tvar optionalSeparator = separator ? \"\".concat(separatorMatcher, \"*?\") : \"\";\n\tvar segments = separator ? pattern.split(separatorSplitter) : [pattern];\n\tvar result = \"\";\n\tfor (var s = 0; s < segments.length; s++) {\n\t\tvar segment = segments[s];\n\t\tvar nextSegment = segments[s + 1];\n\t\tvar currentSeparator = \"\";\n\t\tif (!segment && s > 0) continue;\n\t\tif (separator) if (s === segments.length - 1) currentSeparator = optionalSeparator;\n\t\telse if (nextSegment !== \"**\") currentSeparator = requiredSeparator;\n\t\telse currentSeparator = \"\";\n\t\tif (separator && segment === \"**\") {\n\t\t\tif (currentSeparator) {\n\t\t\t\tresult += s === 0 ? \"\" : s === segments.length - 1 ? \"(?:\".concat(requiredSeparator, \"|$)\") : requiredSeparator;\n\t\t\t\tresult += \"(?:\".concat(wildcard, \"*?\").concat(currentSeparator, \")*?\");\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tfor (var c$1 = 0; c$1 < segment.length; c$1++) {\n\t\t\tvar char = segment[c$1];\n\t\t\tif (char === \"\\\\\") {\n\t\t\t\tif (c$1 < segment.length - 1) {\n\t\t\t\t\tresult += escapeRegExpChar(segment[c$1 + 1]);\n\t\t\t\t\tc$1++;\n\t\t\t\t}\n\t\t\t} else if (char === \"?\") result += wildcard;\n\t\t\telse if (char === \"*\") result += \"\".concat(wildcard, \"*?\");\n\t\t\telse result += escapeRegExpChar(char);\n\t\t}\n\t\tresult += currentSeparator;\n\t}\n\treturn result;\n}\nfunction isMatch(regexp, sample) {\n\tif (typeof sample !== \"string\") throw new TypeError(\"Sample must be a string, but \".concat(typeof sample, \" given\"));\n\treturn regexp.test(sample);\n}\n/**\n* Compiles one or more glob patterns into a RegExp and returns an isMatch function.\n* The isMatch function takes a sample string as its only argument and returns `true`\n* if the string matches the pattern(s).\n*\n* ```js\n* wildcardMatch('src/*.js')('src/index.js') //=> true\n* ```\n*\n* ```js\n* const isMatch = wildcardMatch('*.example.com', '.')\n* isMatch('foo.example.com') //=> true\n* isMatch('foo.bar.com') //=> false\n* ```\n*/\nfunction wildcardMatch(pattern, options) {\n\tif (typeof pattern !== \"string\" && !Array.isArray(pattern)) throw new TypeError(\"The first argument must be a single pattern string or an array of patterns, but \".concat(typeof pattern, \" given\"));\n\tif (typeof options === \"string\" || typeof options === \"boolean\") options = { separator: options };\n\tif (arguments.length === 2 && !(typeof options === \"undefined\" || typeof options === \"object\" && options !== null && !Array.isArray(options))) throw new TypeError(\"The second argument must be an options object or a string/boolean separator, but \".concat(typeof options, \" given\"));\n\toptions = options || {};\n\tif (options.separator === \"\\\\\") throw new Error(\"\\\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead\");\n\tvar regexpPattern = transform(pattern, options.separator);\n\tvar regexp = new RegExp(\"^\".concat(regexpPattern, \"$\"), options.flags);\n\tvar fn$4 = isMatch.bind(null, regexp);\n\tfn$4.options = options;\n\tfn$4.pattern = pattern;\n\tfn$4.regexp = regexp;\n\treturn fn$4;\n}\n\n//#endregion\n//#region ../token-tools/dist/index.js\n/** Give a user pertinent feedback if they override a transform incorrectly */\nfunction validateCustomTransform(value, { $type }) {\n\tif (value) {\n\t\tif (typeof value !== \"string\" && typeof value !== \"object\" || Array.isArray(value)) throw new Error(`transform(): expected string or Object of strings, received ${Array.isArray(value) ? \"Array\" : typeof value}`);\n\t\tswitch ($type) {\n\t\t\tcase \"typography\":\n\t\t\t\tif (typeof value !== \"object\") throw new Error(\"transform(): typography tokens must be an object of keys\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/culori@4.0.2/node_modules/culori/src/index.js\nconst a98 = useMode(definition_default);\nconst cubehelix = useMode(definition_default$15);\nconst dlab = useMode(definition_default$16);\nconst dlch = useMode(definition_default$17);\nconst hsi = useMode(definition_default$18);\nconst hsl = useMode(definition_default$1);\nconst hsv = useMode(definition_default$19);\nconst hwb = useMode(definition_default$2);\nconst itp = useMode(definition_default$20);\nconst jab = useMode(definition_default$21);\nconst jch = useMode(definition_default$22);\nconst lab = useMode(definition_default$3);\nconst lab65 = useMode(definition_default$4);\nconst lch = useMode(definition_default$5);\nconst lch65 = useMode(definition_default$23);\nconst lchuv = useMode(definition_default$24);\nconst lrgb = useMode(definition_default$6);\nconst luv = useMode(definition_default$25);\nconst okhsl = useMode(modeOkhsl_default);\nconst okhsv = useMode(modeOkhsv_default);\nconst oklab = useMode(definition_default$7);\nconst oklch = useMode(definition_default$8);\nconst p3 = useMode(definition_default$9);\nconst prophoto = useMode(definition_default$10);\nconst rec2020 = useMode(definition_default$11);\nconst rgb = useMode(definition_default$12);\nconst xyb = useMode(definition_default$26);\nconst xyz50 = useMode(definition_default$13);\nconst xyz65 = useMode(definition_default$14);\nconst yiq = useMode(definition_default$27);\n\n//#endregion\n//#region ../token-tools/dist/css.js\nfunction defaultAliasTransform(token) {\n\tif (!token) throw new Error(\"Undefined token\");\n\treturn `var(${makeCSSVar(token.id)})`;\n}\n/** Generate shorthand CSS for select token types */\nfunction generateShorthand({ $type, localID }) {\n\tswitch ($type) {\n\t\tcase \"transition\": return [\n\t\t\t\"duration\",\n\t\t\t\"delay\",\n\t\t\t\"timing-function\"\n\t\t].map((p$2) => makeCSSVar(`${localID}-${p$2}`, { wrapVar: true })).join(\" \");\n\t}\n}\nconst CSS_VAR_RE = /(?:(\\p{Uppercase_Letter}?[\\p{Lowercase_Letter}\\p{Number}]+|[\\p{Uppercase_Letter}\\p{Number}]+|[\\u{80}-\\u{10FFFF}\\p{Number}]+)|.)/u;\n/**\n* Generate a valid CSS variable from any string\n* Code by @dfrankland\n*/\nfunction makeCSSVar(name, { prefix, wrapVar = false } = {}) {\n\tif (typeof name !== \"string\") throw new Error(`makeCSSVar() Expected string, received ${name}`);\n\tlet property = name.split(CSS_VAR_RE).filter(Boolean).join(\"-\");\n\tif (prefix && !property.startsWith(`${prefix}-`)) property = `${prefix}-${property}`;\n\tconst finalProperty = `--${property}`.toLocaleLowerCase();\n\treturn wrapVar ? `var(${finalProperty})` : finalProperty;\n}\n/** Convert boolean value to CSS string */\nfunction transformBoolean(token, { tokensSet, transformAlias = defaultAliasTransform }) {\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn token.$value === true ? \"1\" : \"0\";\n}\n/** Convert color value to CSS string */\nfunction transformColor(token, options) {\n\tconst { transformAlias = defaultAliasTransform, tokensSet } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst { colorSpace, components, alpha = 1 } = typeof token.$value === \"string\" ? parseColor(token.$value) : token.$value;\n\tconst color = tokenToCulori({\n\t\tcolorSpace,\n\t\tcomponents,\n\t\talpha\n\t});\n\tif (!color) throw new Error(`Can’t convert color ${JSON.stringify(token.$value)} to Culori color`);\n\tlet formatColor = formatCss;\n\tif (options.color?.legacyHex) formatColor = color.alpha !== 1 ? formatHex8 : formatHex;\n\treturn displayable(color) ? formatColor(color) : downsample({\n\t\tcolorSpace,\n\t\tcomponents,\n\t\talpha\n\t}, color, options.color?.depth);\n}\nconst converters = {\n\ta98: useMode(definition_default),\n\thsl: useMode(definition_default$1),\n\thwb: useMode(definition_default$2),\n\tlab: useMode(definition_default$3),\n\tlab65: useMode(definition_default$4),\n\tlch: useMode(definition_default$5),\n\tlrgb: useMode(definition_default$6),\n\toklab: useMode(definition_default$7),\n\toklch: useMode(definition_default$8),\n\tokhsv: useMode(modeOkhsv_default),\n\tp3: useMode(definition_default$9),\n\tprophoto: useMode(definition_default$10),\n\trec2020: useMode(definition_default$11),\n\trgb: useMode(definition_default$12),\n\txyz50: useMode(definition_default$13),\n\txyz65: useMode(definition_default$14)\n};\nconst DEPTH_ROUNDING = {\n\t24: round_default(4),\n\t30: round_default(4),\n\t36: round_default(5),\n\t48: round_default(6)\n};\n/**\n* Downsample color to sRGB/Display P3/Rec2020 colorspaces.\n* Note: because Culori tends to convert to RGB color spaces to ensure the operation,\n* we have to do an additional step of converting back. So we’re not really converting;\n* we’re just preserving the original colorspace.\n*/\nfunction downsample($value, culoriColor, depth = 30) {\n\tif (!($value.colorSpace in CSS_TO_CULORI)) throw new Error(`Invalid colorSpace \"${$value.colorSpace}\". Expected one of: ${Object.keys(CSS_TO_CULORI).join(\", \")}`);\n\tconst conversionSpace = CSS_TO_CULORI[$value.colorSpace] || \"oklab\";\n\tlet gamutSpace = conversionSpace;\n\tif (gamutSpace === \"lab\" || gamutSpace === \"lab65\") gamutSpace = \"lch\";\n\telse if (gamutSpace === \"oklab\") gamutSpace = \"oklch\";\n\tlet srgb = converters[conversionSpace](toGamut(\"rgb\", gamutSpace)(culoriColor));\n\tlet p3$2 = converters[conversionSpace](toGamut(\"p3\", gamutSpace)(culoriColor));\n\tlet rec2020$2 = converters[conversionSpace](toGamut(\"rec2020\", gamutSpace)(culoriColor));\n\tif (typeof depth === \"number\") {\n\t\tif (!DEPTH_ROUNDING[depth]) throw new Error(`Invalid bit depth: ${depth}. Supported values: ${Object.keys(DEPTH_ROUNDING).join(\", \")}`);\n\t\tsrgb = roundColor(srgb, depth);\n\t\tp3$2 = roundColor(p3$2, depth);\n\t\trec2020$2 = roundColor(rec2020$2, depth);\n\t}\n\treturn {\n\t\t\".\": formatCss(culoriColor),\n\t\tsrgb: formatCss(srgb),\n\t\tp3: formatCss(p3$2),\n\t\trec2020: formatCss(rec2020$2)\n\t};\n}\n/** Round color to certain depth. */\nfunction roundColor(color, depth = 30) {\n\tif (depth === \"unlimited\") return color;\n\tconst newColor = { ...color };\n\tfor (const [k$3, v] of Object.entries(color)) {\n\t\tif (typeof v !== \"number\" || k$3 === \"mode\") continue;\n\t\tnewColor[k$3] = DEPTH_ROUNDING[depth](v);\n\t}\n\treturn newColor;\n}\n/** Convert dimension value to CSS */\nfunction transformDimension(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn token.$value.value === 0 ? \"0\" : `${token.$value.value}${token.$value.unit}`;\n}\n/** Convert strokeStyle value to CSS */\nfunction transformStrokeStyle(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn typeof token.$value === \"string\" ? token.$value : \"dashed\";\n}\n/** Convert border value to multiple CSS values */\nfunction transformBorder(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst width = token.partialAliasOf?.width ? transformAlias(tokensSet[token.partialAliasOf.width]) : transformDimension({ $value: token.$value.width }, options);\n\tconst color = token.partialAliasOf?.color ? transformAlias(tokensSet[token.partialAliasOf.color]) : transformColor({ $value: token.$value.color }, options);\n\tconst style = token.partialAliasOf?.style ? transformAlias(tokensSet[token.partialAliasOf.style]) : transformStrokeStyle({ $value: token.$value.style }, options);\n\tconst formatBorder = (colorKey) => [\n\t\twidth,\n\t\tstyle,\n\t\ttypeof color === \"string\" ? color : color[colorKey]\n\t].join(\" \");\n\treturn typeof color === \"string\" || displayable(color.p3) ? formatBorder(\".\") : {\n\t\t\".\": formatBorder(\".\"),\n\t\tsrgb: formatBorder(\"srgb\"),\n\t\tp3: formatBorder(\"p3\"),\n\t\trec2020: formatBorder(\"rec2020\")\n\t};\n}\n/** Convert cubicBezier value to CSS */\nfunction transformCubicBezier(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn `cubic-bezier(${token.$value.map((v, i) => token.partialAliasOf?.[i] ? transformAlias(tokensSet[token.partialAliasOf[i]]) : v).join(\", \")})`;\n}\n/** Convert duration value to CSS */\nfunction transformDuration(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn `${token.$value.value}${token.$value.unit}`;\n}\nconst FONT_NAME_KEYWORD = /^[a-z-]+$/;\nfunction transformFontFamily(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn token.$value.map((fontName) => FONT_NAME_KEYWORD.test(fontName) ? fontName : `\"${fontName}\"`).join(\", \");\n}\n/** Convert fontWeight value to CSS */\nfunction transformFontWeight(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn String(token.$value);\n}\n/** Convert gradient value to CSS */\nfunction transformGradient(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tlet isHDR = false;\n\tconst colors = [];\n\tconst positions = [];\n\tfor (let i = 0; i < token.$value.length; i++) {\n\t\tconst { color, position } = token.$value[i];\n\t\tconst colorValue = token.partialAliasOf?.[i]?.color ? transformAlias(tokensSet[token.partialAliasOf[i].color]) : transformColor({ $value: color }, options);\n\t\tif (typeof colorValue !== \"string\") isHDR = true;\n\t\tcolors.push(colorValue);\n\t\tpositions.push(token.partialAliasOf?.[i]?.position ? transformAlias(tokensSet[token.partialAliasOf[i].position]) : `${100 * position}%`);\n\t}\n\tfunction formatStop(i, colorKey = \".\") {\n\t\treturn `${typeof colors[i] === \"string\" ? colors[i] : colors[i][colorKey]} ${positions[i]}`;\n\t}\n\treturn !isHDR ? token.$value.map((_, i) => formatStop(i, positions[i])).join(\", \") : {\n\t\t\".\": token.$value.map((_, i) => formatStop(i, \".\")).join(\", \"),\n\t\tsrgb: token.$value.map((_, i) => formatStop(i, \"srgb\")).join(\", \"),\n\t\tp3: token.$value.map((_, i) => formatStop(i, \"p3\")).join(\", \"),\n\t\trec2020: token.$value.map((_, i) => formatStop(i, \"rec2020\")).join(\", \")\n\t};\n}\n/** Convert link value to CSS */\nfunction transformLink(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn `url(\"${token.$value}\")`;\n}\n/** Convert number value to CSS */\nfunction transformNumber(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn String(token.$value);\n}\n/** Convert shadow subvalue to CSS */\nfunction transformShadowLayer(value, options) {\n\tconst { tokensSet, colorValue, partialAliasOf, transformAlias = defaultAliasTransform } = options;\n\tconst offsetX = partialAliasOf?.offsetX ? transformAlias(tokensSet[partialAliasOf.offsetX]) : transformDimension({ $value: value.offsetX }, options);\n\tconst offsetY = partialAliasOf?.offsetY ? transformAlias(tokensSet[partialAliasOf.offsetY]) : transformDimension({ $value: value.offsetY }, options);\n\tconst blur = partialAliasOf?.blur ? transformAlias(tokensSet[partialAliasOf.blur]) : transformDimension({ $value: value.blur }, options);\n\tconst spread = partialAliasOf?.spread ? transformAlias(tokensSet[partialAliasOf.spread]) : transformDimension({ $value: value.spread }, options);\n\treturn [\n\t\tvalue?.inset === true ? \"inset\" : void 0,\n\t\toffsetX,\n\t\toffsetY,\n\t\tblur,\n\t\tspread,\n\t\tcolorValue\n\t].filter(Boolean).join(\" \");\n}\n/** Convert shadow value to CSS */\nfunction transformShadow(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst colors = token.$value.map((v, i) => token.partialAliasOf?.[i]?.color ? transformAlias(tokensSet[token.partialAliasOf[i].color]) : transformColor({ $value: v.color }, options));\n\tconst isHDR = colors.some((c$1) => typeof c$1 === \"object\");\n\tconst formatShadow = (colorKey) => token.$value.map((v, i) => transformShadowLayer(v, {\n\t\ttokensSet,\n\t\tcolorValue: typeof colors[i] === \"string\" ? colors[i] : colors[i][colorKey],\n\t\tpartialAliasOf: token.partialAliasOf?.[i],\n\t\ttransformAlias\n\t})).join(\", \");\n\treturn !isHDR ? formatShadow(\".\") : {\n\t\t\".\": formatShadow(\".\"),\n\t\tsrgb: formatShadow(\"srgb\"),\n\t\tp3: formatShadow(\"p3\"),\n\t\trec2020: formatShadow(\"rec2020\")\n\t};\n}\n/** Convert string value to CSS */\nfunction transformString(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn String(token.$value);\n}\n/** Convert transition value to shorthand */\nfunction transformTransition(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst duration = token.partialAliasOf?.duration ? transformAlias(tokensSet[token.partialAliasOf.duration]) : transformDuration({ $value: token.$value.duration }, options);\n\tconst delay = token.partialAliasOf?.delay ? transformAlias(tokensSet[token.partialAliasOf.delay]) : transformDuration({ $value: token.$value.delay }, options);\n\tconst timingFunction = token.partialAliasOf?.timingFunction ? transformAlias(tokensSet[token.partialAliasOf.timingFunction]) : transformCubicBezier({ $value: token.$value.timingFunction }, options);\n\treturn `${duration} ${delay} ${timingFunction}`;\n}\n/** Convert typography value to multiple CSS values */\nfunction transformTypography(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tconst output = {};\n\tfor (const [property, subvalue] of Object.entries(token.$value)) {\n\t\tlet transformedValue;\n\t\tconst aliasedID = token.aliasChain?.[0] ?? token.partialAliasOf?.[property];\n\t\tif (aliasedID) {\n\t\t\tconst resolvedToken = tokensSet[aliasedID];\n\t\t\ttransformedValue = transformAlias(resolvedToken.$type === \"typography\" ? { id: `${aliasedID}-${property}` } : resolvedToken);\n\t\t} else switch (property) {\n\t\t\tcase \"fontFamily\":\n\t\t\t\ttransformedValue = transformFontFamily({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tcase \"fontSize\":\n\t\t\tcase \"letterSpacing\":\n\t\t\t\ttransformedValue = transformDimension({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tcase \"fontWeight\":\n\t\t\t\ttransformedValue = transformFontWeight({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tcase \"lineHeight\":\n\t\t\t\tif (typeof subvalue === \"number\") transformedValue = transformNumber({ $value: subvalue }, options);\n\t\t\t\telse transformedValue = transformDimension({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttransformedValue = transformString({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t}\n\t\toutput[kebabCase(property)] = transformedValue;\n\t}\n\treturn output;\n}\n/** Main CSS Transform */\nfunction transformCSSValue(token, { mode,...options }) {\n\tconst selectedMode = token.mode[mode];\n\tif (!selectedMode) return;\n\tconst tokenWithModeValue = {\n\t\tid: token.id,\n\t\t$type: token.$type,\n\t\t...selectedMode\n\t};\n\tswitch (tokenWithModeValue.$type) {\n\t\tcase \"boolean\": return transformBoolean(tokenWithModeValue, options);\n\t\tcase \"border\": return transformBorder(tokenWithModeValue, options);\n\t\tcase \"color\": return transformColor(tokenWithModeValue, options);\n\t\tcase \"cubicBezier\": return transformCubicBezier(tokenWithModeValue, options);\n\t\tcase \"dimension\": return transformDimension(tokenWithModeValue, options);\n\t\tcase \"duration\": return transformDuration(tokenWithModeValue, options);\n\t\tcase \"fontFamily\": return transformFontFamily(tokenWithModeValue, options);\n\t\tcase \"fontWeight\": return transformFontWeight(tokenWithModeValue, options);\n\t\tcase \"gradient\": return transformGradient(tokenWithModeValue, options);\n\t\tcase \"link\": return transformLink(tokenWithModeValue, options);\n\t\tcase \"number\": return transformNumber(tokenWithModeValue, options);\n\t\tcase \"shadow\": return transformShadow(tokenWithModeValue, options);\n\t\tcase \"string\": return transformString(tokenWithModeValue, options);\n\t\tcase \"strokeStyle\": return transformStrokeStyle(tokenWithModeValue, options);\n\t\tcase \"transition\": return transformTransition(tokenWithModeValue, options);\n\t\tcase \"typography\": return transformTypography(tokenWithModeValue, options);\n\t}\n}\n\n//#endregion\n//#region src/lib.ts\nconst FORMAT_ID = \"css\";\nconst FILE_PREFIX = `/* -------------------------------------------\n *  Autogenerated by ⛋ Terrazzo. DO NOT EDIT!\n * ------------------------------------------- */`;\n/** Convert CSSRules into a formatted, indented CSS string */\nfunction printRules(rules) {\n\tconst output = [];\n\tfor (const rule of rules) {\n\t\tif (!rule.selectors.length || !Object.keys(rule.declarations).length) continue;\n\t\tconst mqSelectors = [];\n\t\tconst joinableSelectors = [];\n\t\tfor (const s of rule.selectors) (s.startsWith(\"@\") ? mqSelectors : joinableSelectors).push(s);\n\t\tfor (const s of mqSelectors) output.push(_printRule({\n\t\t\t...rule,\n\t\t\tselectors: [s]\n\t\t}));\n\t\tif (joinableSelectors.length) output.push(_printRule({\n\t\t\t...rule,\n\t\t\tselectors: joinableSelectors\n\t\t}));\n\t}\n\treturn output.join(\"\\n\\n\");\n}\nfunction _printRule(rule) {\n\tconst output = [];\n\tconst isMediaQuery = rule.selectors.some((s) => s.startsWith(\"@\"));\n\tlet indent = \"\";\n\tif (rule.nestedQuery && isMediaQuery) {\n\t\toutput.push(`${indent}${rule.selectors.join(`,\\n${indent}`)} {`);\n\t\tindent += \"  \";\n\t\toutput.push(`${indent}${rule.nestedQuery} {`);\n\t} else if (rule.nestedQuery && !isMediaQuery) {\n\t\toutput.push(`${indent}${rule.nestedQuery} {`);\n\t\tindent += \"  \";\n\t\toutput.push(`${indent}${rule.selectors.join(`,\\n${indent}`)} {`);\n\t} else output.push(`${indent}${rule.selectors.join(`,\\n${indent}`)} {`);\n\tindent += \"  \";\n\tif (isMediaQuery) {\n\t\toutput.push(`${indent}:root {`);\n\t\tindent += \"  \";\n\t}\n\tconst declarations = Object.entries(rule.declarations);\n\tdeclarations.sort((a, b) => a[0].localeCompare(b[0], \"en-us\", { numeric: true }));\n\tfor (const [k$3, d] of declarations) output.push(`${indent}${k$3}: ${d.value};${d.description ? ` /* ${d.description} */` : \"\"}`);\n\twhile (indent !== \"\") {\n\t\tindent = indent.substring(0, indent.length - 2);\n\t\toutput.push(`${indent}}`);\n\t}\n\treturn output.join(\"\\n\");\n}\n\n//#endregion\n//#region src/build/utility-css.ts\nconst GROUP_REGEX = {\n\tbg: /(^bg-|-bg-)/,\n\tborder: /(^border-|-border-)/,\n\tfont: /(^font-|-font-)/,\n\tgap: /(^gap-|-gap-)/,\n\tm: /(^margin-|-margin-|)/,\n\tp: /(^padding-|-padding-|)/,\n\tshadow: /(^shadow-|-shadow-)/,\n\ttext: /(^text-|-text-)/\n};\n/** Make CSS class name from transformed token */\nfunction makeSelector(token, prefix, subgroup) {\n\treturn `.${prefix}${subgroup || \"\"}-${kebabCase(token.token.id).replace(GROUP_REGEX[prefix], \"\")}`;\n}\nfunction makeVarValue(token) {\n\treturn { value: makeCSSVar(token.localID ?? token.token.id, { wrapVar: true }) };\n}\nfunction generateUtilityCSS(groups, tokens) {\n\tconst output = [];\n\tconst groupEntries = Object.entries(groups);\n\tgroupEntries.sort((a, b) => a[0].localeCompare(b[0]));\n\tfor (const [group, selectors] of groupEntries) {\n\t\tconst selectorMatcher = wildcardMatch(selectors);\n\t\tconst matchingTokens = tokens.filter((token) => selectorMatcher(token.token.id));\n\t\tif (!matchingTokens.length) {\n\t\t\tconsole.warn(`[@terrazzo/plugin-css] utility group \"${group}\" matched 0 tokens: ${JSON.stringify(selectors)}`);\n\t\t\tbreak;\n\t\t}\n\t\tswitch (group) {\n\t\t\tcase \"bg\":\n\t\t\t\tfor (const token of matchingTokens) {\n\t\t\t\t\tconst selector = makeSelector(token, \"bg\");\n\t\t\t\t\tswitch (token.token.$type) {\n\t\t\t\t\t\tcase \"color\":\n\t\t\t\t\t\t\toutput.push({\n\t\t\t\t\t\t\t\tselectors: [selector],\n\t\t\t\t\t\t\t\tdeclarations: { \"background-color\": makeVarValue(token) }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"gradient\": output.push({\n\t\t\t\t\t\t\tselectors: [selector],\n\t\t\t\t\t\t\tdeclarations: { \"background-image\": { value: `linear-gradient(${makeCSSVar(token.localID ?? token.token.id, { wrapVar: true })})` } }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"border\":\n\t\t\t\tfor (const token of matchingTokens) {\n\t\t\t\t\tconst property = {\n\t\t\t\t\t\tborder: \"border\",\n\t\t\t\t\t\tcolor: \"border-color\",\n\t\t\t\t\t\tdimension: \"border-width\",\n\t\t\t\t\t\tstrokeStyle: \"border-style\"\n\t\t\t\t\t}[token.token.$type];\n\t\t\t\t\tif (property) output.push({\n\t\t\t\t\t\tselectors: [makeSelector(token, \"border\")],\n\t\t\t\t\t\tdeclarations: { [property]: makeVarValue(token) }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tfor (const token of matchingTokens) for (const side of [\n\t\t\t\t\t\"top\",\n\t\t\t\t\t\"right\",\n\t\t\t\t\t\"bottom\",\n\t\t\t\t\t\"left\"\n\t\t\t\t]) {\n\t\t\t\t\tconst property = {\n\t\t\t\t\t\tborder: `border-${side}`,\n\t\t\t\t\t\tcolor: `border-${side}-color`,\n\t\t\t\t\t\tdimension: `border-${side}-width`,\n\t\t\t\t\t\tstrokeStyle: `border-${side}-style`\n\t\t\t\t\t}[token.token.$type];\n\t\t\t\t\tif (property) output.push({\n\t\t\t\t\t\tselectors: [makeSelector(token, \"border\", `-${side}`)],\n\t\t\t\t\t\tdeclarations: { [property]: makeVarValue(token) }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"font\":\n\t\t\t\tfor (const token of matchingTokens) {\n\t\t\t\t\tconst selector = makeSelector(token, \"font\");\n\t\t\t\t\tif (token.token.$type === \"typography\" && token.type === \"MULTI_VALUE\") {\n\t\t\t\t\t\tconst declarations = {};\n\t\t\t\t\t\tfor (const k$3 of Object.keys(token.value)) declarations[k$3] = { value: makeCSSVar(`${token.localID ?? token.token.id}-${k$3}`, { wrapVar: true }) };\n\t\t\t\t\t\toutput.push({\n\t\t\t\t\t\t\tselectors: [selector],\n\t\t\t\t\t\t\tdeclarations\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst property = {\n\t\t\t\t\t\t\tdimension: \"font-size\",\n\t\t\t\t\t\t\tfontFamily: \"font-family\",\n\t\t\t\t\t\t\tfontWeight: \"font-weight\"\n\t\t\t\t\t\t}[token.token.$type];\n\t\t\t\t\t\tif (property) output.push({\n\t\t\t\t\t\t\tselectors: [selector],\n\t\t\t\t\t\t\tdeclarations: { [property]: makeVarValue(token) }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"layout\": {\n\t\t\t\tconst filteredTokens = matchingTokens.filter((t) => t.token.$type === \"dimension\");\n\t\t\t\tfor (const token of filteredTokens) output.push({\n\t\t\t\t\tselectors: [makeSelector(token, \"gap\")],\n\t\t\t\t\tdeclarations: { gap: makeVarValue(token) }\n\t\t\t\t});\n\t\t\t\tfor (const token of filteredTokens) output.push({\n\t\t\t\t\tselectors: [makeSelector(token, \"gap\", \"-col\")],\n\t\t\t\t\tdeclarations: { \"column-gap\": makeVarValue(token) }\n\t\t\t\t});\n\t\t\t\tfor (const token of filteredTokens) output.push({\n\t\t\t\t\tselectors: [makeSelector(token, \"gap\", \"-row\")],\n\t\t\t\t\tdeclarations: { \"row-gap\": makeVarValue(token) }\n\t\t\t\t});\n\t\t\t\tfor (const prefix of [\"m\", \"p\"]) {\n\t\t\t\t\tconst property = prefix === \"m\" ? \"margin\" : \"padding\";\n\t\t\t\t\tfor (const token of filteredTokens) output.push({\n\t\t\t\t\t\tselectors: [makeSelector(token, prefix, \"a\")],\n\t\t\t\t\t\tdeclarations: { [property]: makeVarValue(token) }\n\t\t\t\t\t});\n\t\t\t\t\tfor (const token of filteredTokens) {\n\t\t\t\t\t\tconst value = makeVarValue(token);\n\t\t\t\t\t\toutput.push({\n\t\t\t\t\t\t\tselectors: [makeSelector(token, prefix, \"x\")],\n\t\t\t\t\t\t\tdeclarations: {\n\t\t\t\t\t\t\t\t[`${property}-left`]: value,\n\t\t\t\t\t\t\t\t[`${property}-right`]: value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tselectors: [makeSelector(token, prefix, \"y\")],\n\t\t\t\t\t\t\tdeclarations: {\n\t\t\t\t\t\t\t\t[`${property}-bottom`]: value,\n\t\t\t\t\t\t\t\t[`${property}-top`]: value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (const side of [\n\t\t\t\t\t\t\"top\",\n\t\t\t\t\t\t\"right\",\n\t\t\t\t\t\t\"bottom\",\n\t\t\t\t\t\t\"left\"\n\t\t\t\t\t]) for (const token of filteredTokens) output.push({\n\t\t\t\t\t\tselectors: [makeSelector(token, prefix, side[0])],\n\t\t\t\t\t\tdeclarations: { [`${property}-${side}`]: makeVarValue(token) }\n\t\t\t\t\t});\n\t\t\t\t\tfor (const token of filteredTokens) {\n\t\t\t\t\t\tconst value = makeVarValue(token);\n\t\t\t\t\t\toutput.push({\n\t\t\t\t\t\t\tselectors: [makeSelector(token, prefix, \"s\")],\n\t\t\t\t\t\t\tdeclarations: { [`${property}-inline-start`]: value }\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tselectors: [makeSelector(token, prefix, \"e\")],\n\t\t\t\t\t\t\tdeclarations: { [`${property}-inline-end`]: value }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"shadow\":\n\t\t\t\tfor (const token of matchingTokens) if (token.token.$type === \"shadow\") output.push({\n\t\t\t\t\tselectors: [makeSelector(token, \"shadow\")],\n\t\t\t\t\tdeclarations: { \"box-shadow\": makeVarValue(token) }\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"text\":\n\t\t\t\tfor (const token of matchingTokens) {\n\t\t\t\t\tconst selector = makeSelector(token, \"text\");\n\t\t\t\t\tconst value = makeVarValue(token);\n\t\t\t\t\tswitch (token.token.$type) {\n\t\t\t\t\t\tcase \"color\":\n\t\t\t\t\t\t\toutput.push({\n\t\t\t\t\t\t\t\tselectors: [selector],\n\t\t\t\t\t\t\t\tdeclarations: { color: value }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"gradient\":\n\t\t\t\t\t\t\toutput.push({\n\t\t\t\t\t\t\t\tselectors: [selector],\n\t\t\t\t\t\t\t\tdeclarations: {\n\t\t\t\t\t\t\t\t\tbackground: { value: `-webkit-linear-gradient(${value.value})` },\n\t\t\t\t\t\t\t\t\t\"-webkit-background-clip\": { value: \"text\" },\n\t\t\t\t\t\t\t\t\t\"-webkit-text-fill-color\": { value: \"transparent\" }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.warn(`[@terrazzo/plugin-css] unknown utility CSS group \"${group}\", ignoring`);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn output;\n}\n\n//#endregion\n//#region src/build/index.ts\nconst P3_MQ = \"@media (color-gamut: p3)\";\nconst REC2020_MQ = \"@media (color-gamut: rec2020)\";\nfunction buildFormat({ getTransforms, exclude, utility, modeSelectors, baseSelector, baseScheme }) {\n\tconst rules = [];\n\tconst rootTokens = getTransforms({\n\t\tformat: FORMAT_ID,\n\t\tmode: \".\"\n\t});\n\tif (rootTokens.length) {\n\t\tconst rootRule = {\n\t\t\tselectors: [baseSelector],\n\t\t\tdeclarations: {}\n\t\t};\n\t\tconst p3Rule = {\n\t\t\tselectors: [baseSelector],\n\t\t\tnestedQuery: P3_MQ,\n\t\t\tdeclarations: {}\n\t\t};\n\t\tconst rec2020Rule = {\n\t\t\tselectors: [baseSelector],\n\t\t\tnestedQuery: REC2020_MQ,\n\t\t\tdeclarations: {}\n\t\t};\n\t\trules.push(rootRule, p3Rule, rec2020Rule);\n\t\tconst shouldExclude = wildcardMatch(exclude ?? []);\n\t\tif (baseScheme) rootRule.declarations[\"color-scheme\"] = { value: baseScheme };\n\t\tfor (const token of rootTokens) {\n\t\t\tif (shouldExclude(token.token.id)) continue;\n\t\t\tconst localID = token.localID ?? token.token.id;\n\t\t\tconst aliasTokens = token.token.aliasedBy?.length ? getTransforms({\n\t\t\t\tformat: FORMAT_ID,\n\t\t\t\tid: token.token.aliasedBy\n\t\t\t}) : [];\n\t\t\tif (token.type === \"SINGLE_VALUE\") rootRule.declarations[localID] = {\n\t\t\t\tvalue: token.value,\n\t\t\t\tdescription: token.token.$description\n\t\t\t};\n\t\t\telse if (token.value.srgb && token.value.p3 && token.value.rec2020) {\n\t\t\t\trootRule.declarations[localID] = {\n\t\t\t\t\tvalue: token.value.srgb,\n\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t};\n\t\t\t\tif (token.value.p3 !== token.value.srgb) {\n\t\t\t\t\tp3Rule.declarations[localID] = {\n\t\t\t\t\t\tvalue: token.value.p3,\n\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t};\n\t\t\t\t\trec2020Rule.declarations[localID] = {\n\t\t\t\t\t\tvalue: token.value.rec2020,\n\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t};\n\t\t\t\t\tfor (const alias of aliasTokens) if (alias.localID && typeof alias.value === \"string\") {\n\t\t\t\t\t\tp3Rule.declarations[alias.localID] ??= {\n\t\t\t\t\t\t\tvalue: alias.value,\n\t\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t\t};\n\t\t\t\t\t\trec2020Rule.declarations[alias.localID] ??= {\n\t\t\t\t\t\t\tvalue: alias.value,\n\t\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (token.type === \"MULTI_VALUE\") {\n\t\t\t\tconst shorthand = generateShorthand({\n\t\t\t\t\t$type: token.token.$type,\n\t\t\t\t\tlocalID\n\t\t\t\t});\n\t\t\t\tif (shorthand) rootRule.declarations[token.localID ?? token.token.id] = {\n\t\t\t\t\tvalue: shorthand,\n\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t};\n\t\t\t\tfor (const [name, value] of Object.entries(token.value)) rootRule.declarations[name === \".\" ? localID : [localID, name].join(\"-\")] = {\n\t\t\t\t\tvalue,\n\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\tfor (const { selectors, tokens, mode, scheme } of modeSelectors ?? []) {\n\t\tif (!selectors.length) continue;\n\t\tconst selectorTokens = getTransforms({\n\t\t\tformat: FORMAT_ID,\n\t\t\tid: tokens,\n\t\t\tmode\n\t\t});\n\t\tif (!selectorTokens.length) continue;\n\t\tconst selectorRule = {\n\t\t\tselectors,\n\t\t\tdeclarations: {}\n\t\t};\n\t\tconst selectorP3Rule = {\n\t\t\tselectors,\n\t\t\tnestedQuery: P3_MQ,\n\t\t\tdeclarations: {}\n\t\t};\n\t\tconst selectorRec2020Rule = {\n\t\t\tselectors,\n\t\t\tnestedQuery: REC2020_MQ,\n\t\t\tdeclarations: {}\n\t\t};\n\t\tconst selectorAliasDeclarations = {};\n\t\trules.push(selectorRule, selectorP3Rule, selectorRec2020Rule);\n\t\tif (scheme) selectorRule.declarations[\"color-scheme\"] = { value: scheme };\n\t\tfor (const token of selectorTokens) {\n\t\t\tconst localID = token.localID ?? token.token.id;\n\t\t\tconst aliasTokens = token.token.aliasedBy?.length ? getTransforms({\n\t\t\t\tformat: FORMAT_ID,\n\t\t\t\tid: token.token.aliasedBy\n\t\t\t}) : [];\n\t\t\tif (token.type === \"SINGLE_VALUE\") selectorRule.declarations[localID] = {\n\t\t\t\tvalue: token.value,\n\t\t\t\tdescription: token.token.$description\n\t\t\t};\n\t\t\telse if (token.value.srgb && token.value.p3 && token.value.rec2020) {\n\t\t\t\tselectorRule.declarations[localID] = {\n\t\t\t\t\tvalue: token.value.srgb,\n\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t};\n\t\t\t\tif (token.value.p3 !== token.value.srgb) {\n\t\t\t\t\tselectorP3Rule.declarations[localID] = {\n\t\t\t\t\t\tvalue: token.value.p3,\n\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t};\n\t\t\t\t\tselectorRec2020Rule.declarations[localID] = {\n\t\t\t\t\t\tvalue: token.value.rec2020,\n\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t};\n\t\t\t\t\tfor (const alias of aliasTokens) if (alias.localID && typeof alias.value === \"string\") {\n\t\t\t\t\t\tselectorP3Rule.declarations[alias.localID] ??= {\n\t\t\t\t\t\t\tvalue: alias.value,\n\t\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t\t};\n\t\t\t\t\t\tselectorRec2020Rule.declarations[alias.localID] ??= {\n\t\t\t\t\t\t\tvalue: alias.value,\n\t\t\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst shorthand = generateShorthand({\n\t\t\t\t\t$type: token.token.$type,\n\t\t\t\t\tlocalID\n\t\t\t\t});\n\t\t\t\tif (shorthand) selectorRule.declarations[localID] = {\n\t\t\t\t\tvalue: shorthand,\n\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t};\n\t\t\t\tfor (const [name, subvalue] of Object.entries(token.value)) selectorRule.declarations[`${localID}-${name}`] = {\n\t\t\t\t\tvalue: subvalue,\n\t\t\t\t\tdescription: token.token.$description\n\t\t\t\t};\n\t\t\t}\n\t\t\tfor (const alias of aliasTokens) if (alias.localID && typeof alias.value === \"string\") selectorAliasDeclarations[alias.localID] = {\n\t\t\t\tvalue: alias.value,\n\t\t\t\tdescription: token.token.$description\n\t\t\t};\n\t\t}\n\t\tfor (const [name, { value, description }] of Object.entries(selectorAliasDeclarations)) selectorRule.declarations[name] ??= {\n\t\t\tvalue,\n\t\t\tdescription\n\t\t};\n\t}\n\tif (utility && Object.keys(utility).length) rules.push(...generateUtilityCSS(utility, getTransforms({\n\t\tformat: FORMAT_ID,\n\t\tmode: \".\"\n\t})));\n\treturn printRules(rules);\n}\n\n//#endregion\n//#region src/index.ts\nfunction cssPlugin(options) {\n\tconst { exclude, variableName, modeSelectors, transform: customTransform, utility, legacyHex, skipBuild, baseScheme } = options ?? {};\n\tconst filename = options?.filename ?? options?.fileName ?? \"index.css\";\n\tconst baseSelector = options?.baseSelector ?? \":root\";\n\tfunction transformName(token) {\n\t\tconst customName = variableName?.(token);\n\t\tif (customName !== void 0) {\n\t\t\tif (typeof customName !== \"string\") throw new Error(`variableName() must return a string; received ${customName}`);\n\t\t\treturn customName;\n\t\t}\n\t\treturn makeCSSVar(token.id);\n\t}\n\tconst transformAlias = (token) => `var(${transformName(token)})`;\n\treturn {\n\t\tname: \"@terrazzo/plugin-css\",\n\t\tasync transform({ tokens, getTransforms, setTransform }) {\n\t\t\tif (getTransforms({\n\t\t\t\tformat: FORMAT_ID,\n\t\t\t\tid: \"*\",\n\t\t\t\tmode: \"*\"\n\t\t\t}).length) return;\n\t\t\tfor (const [id, token] of Object.entries(tokens)) {\n\t\t\t\tconst localID = transformName(token);\n\t\t\t\tfor (const mode of Object.keys(token.mode)) {\n\t\t\t\t\tif (customTransform) {\n\t\t\t\t\t\tconst value = customTransform(token, mode);\n\t\t\t\t\t\tif (value !== void 0 && value !== null) {\n\t\t\t\t\t\t\tvalidateCustomTransform(value, { $type: token.$type });\n\t\t\t\t\t\t\tsetTransform(id, {\n\t\t\t\t\t\t\t\tformat: FORMAT_ID,\n\t\t\t\t\t\t\t\tlocalID,\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\tmode\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst transformedValue = transformCSSValue(token, {\n\t\t\t\t\t\tmode,\n\t\t\t\t\t\ttokensSet: tokens,\n\t\t\t\t\t\ttransformAlias,\n\t\t\t\t\t\tcolor: { legacyHex }\n\t\t\t\t\t});\n\t\t\t\t\tif (transformedValue !== void 0) setTransform(id, {\n\t\t\t\t\t\tformat: FORMAT_ID,\n\t\t\t\t\t\tlocalID,\n\t\t\t\t\t\tvalue: transformedValue,\n\t\t\t\t\t\tmode\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync build({ getTransforms, outputFile }) {\n\t\t\tif (skipBuild === true) return;\n\t\t\tconst output = [FILE_PREFIX, \"\"];\n\t\t\toutput.push(buildFormat({\n\t\t\t\texclude,\n\t\t\t\tgetTransforms,\n\t\t\t\tmodeSelectors,\n\t\t\t\tutility,\n\t\t\t\tbaseSelector,\n\t\t\t\tbaseScheme\n\t\t\t}), \"\\n\");\n\t\t\toutputFile(filename, output.join(\"\\n\"));\n\t\t}\n\t};\n}\n\n//#endregion\nexport { FILE_PREFIX, FORMAT_ID, cssPlugin as default, printRules };\n//# sourceMappingURL=index.js.map","const parseNumber = (color, len) => {\n\tif (typeof color !== 'number') return;\n\n\t// hex3: #c93 -> #cc9933\n\tif (len === 3) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tg: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\tb: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex4: #c931 -> #cc993311\n\tif (len === 4) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 12) & 0xf) | ((color >> 8) & 0xf0)) / 255,\n\t\t\tg: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tb: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\talpha: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex6: #f0f1f2\n\tif (len === 6) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 16) & 0xff) / 255,\n\t\t\tg: ((color >> 8) & 0xff) / 255,\n\t\t\tb: (color & 0xff) / 255\n\t\t};\n\t}\n\n\t// hex8: #f0f1f2ff\n\tif (len === 8) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 24) & 0xff) / 255,\n\t\t\tg: ((color >> 16) & 0xff) / 255,\n\t\t\tb: ((color >> 8) & 0xff) / 255,\n\t\t\talpha: (color & 0xff) / 255\n\t\t};\n\t}\n};\n\nexport default parseNumber;\n","const named = {\n\taliceblue: 0xf0f8ff,\n\tantiquewhite: 0xfaebd7,\n\taqua: 0x00ffff,\n\taquamarine: 0x7fffd4,\n\tazure: 0xf0ffff,\n\tbeige: 0xf5f5dc,\n\tbisque: 0xffe4c4,\n\tblack: 0x000000,\n\tblanchedalmond: 0xffebcd,\n\tblue: 0x0000ff,\n\tblueviolet: 0x8a2be2,\n\tbrown: 0xa52a2a,\n\tburlywood: 0xdeb887,\n\tcadetblue: 0x5f9ea0,\n\tchartreuse: 0x7fff00,\n\tchocolate: 0xd2691e,\n\tcoral: 0xff7f50,\n\tcornflowerblue: 0x6495ed,\n\tcornsilk: 0xfff8dc,\n\tcrimson: 0xdc143c,\n\tcyan: 0x00ffff,\n\tdarkblue: 0x00008b,\n\tdarkcyan: 0x008b8b,\n\tdarkgoldenrod: 0xb8860b,\n\tdarkgray: 0xa9a9a9,\n\tdarkgreen: 0x006400,\n\tdarkgrey: 0xa9a9a9,\n\tdarkkhaki: 0xbdb76b,\n\tdarkmagenta: 0x8b008b,\n\tdarkolivegreen: 0x556b2f,\n\tdarkorange: 0xff8c00,\n\tdarkorchid: 0x9932cc,\n\tdarkred: 0x8b0000,\n\tdarksalmon: 0xe9967a,\n\tdarkseagreen: 0x8fbc8f,\n\tdarkslateblue: 0x483d8b,\n\tdarkslategray: 0x2f4f4f,\n\tdarkslategrey: 0x2f4f4f,\n\tdarkturquoise: 0x00ced1,\n\tdarkviolet: 0x9400d3,\n\tdeeppink: 0xff1493,\n\tdeepskyblue: 0x00bfff,\n\tdimgray: 0x696969,\n\tdimgrey: 0x696969,\n\tdodgerblue: 0x1e90ff,\n\tfirebrick: 0xb22222,\n\tfloralwhite: 0xfffaf0,\n\tforestgreen: 0x228b22,\n\tfuchsia: 0xff00ff,\n\tgainsboro: 0xdcdcdc,\n\tghostwhite: 0xf8f8ff,\n\tgold: 0xffd700,\n\tgoldenrod: 0xdaa520,\n\tgray: 0x808080,\n\tgreen: 0x008000,\n\tgreenyellow: 0xadff2f,\n\tgrey: 0x808080,\n\thoneydew: 0xf0fff0,\n\thotpink: 0xff69b4,\n\tindianred: 0xcd5c5c,\n\tindigo: 0x4b0082,\n\tivory: 0xfffff0,\n\tkhaki: 0xf0e68c,\n\tlavender: 0xe6e6fa,\n\tlavenderblush: 0xfff0f5,\n\tlawngreen: 0x7cfc00,\n\tlemonchiffon: 0xfffacd,\n\tlightblue: 0xadd8e6,\n\tlightcoral: 0xf08080,\n\tlightcyan: 0xe0ffff,\n\tlightgoldenrodyellow: 0xfafad2,\n\tlightgray: 0xd3d3d3,\n\tlightgreen: 0x90ee90,\n\tlightgrey: 0xd3d3d3,\n\tlightpink: 0xffb6c1,\n\tlightsalmon: 0xffa07a,\n\tlightseagreen: 0x20b2aa,\n\tlightskyblue: 0x87cefa,\n\tlightslategray: 0x778899,\n\tlightslategrey: 0x778899,\n\tlightsteelblue: 0xb0c4de,\n\tlightyellow: 0xffffe0,\n\tlime: 0x00ff00,\n\tlimegreen: 0x32cd32,\n\tlinen: 0xfaf0e6,\n\tmagenta: 0xff00ff,\n\tmaroon: 0x800000,\n\tmediumaquamarine: 0x66cdaa,\n\tmediumblue: 0x0000cd,\n\tmediumorchid: 0xba55d3,\n\tmediumpurple: 0x9370db,\n\tmediumseagreen: 0x3cb371,\n\tmediumslateblue: 0x7b68ee,\n\tmediumspringgreen: 0x00fa9a,\n\tmediumturquoise: 0x48d1cc,\n\tmediumvioletred: 0xc71585,\n\tmidnightblue: 0x191970,\n\tmintcream: 0xf5fffa,\n\tmistyrose: 0xffe4e1,\n\tmoccasin: 0xffe4b5,\n\tnavajowhite: 0xffdead,\n\tnavy: 0x000080,\n\toldlace: 0xfdf5e6,\n\tolive: 0x808000,\n\tolivedrab: 0x6b8e23,\n\torange: 0xffa500,\n\torangered: 0xff4500,\n\torchid: 0xda70d6,\n\tpalegoldenrod: 0xeee8aa,\n\tpalegreen: 0x98fb98,\n\tpaleturquoise: 0xafeeee,\n\tpalevioletred: 0xdb7093,\n\tpapayawhip: 0xffefd5,\n\tpeachpuff: 0xffdab9,\n\tperu: 0xcd853f,\n\tpink: 0xffc0cb,\n\tplum: 0xdda0dd,\n\tpowderblue: 0xb0e0e6,\n\tpurple: 0x800080,\n\n\t// Added in CSS Colors Level 4:\n\t// https://drafts.csswg.org/css-color/#changes-from-3\n\trebeccapurple: 0x663399,\n\n\tred: 0xff0000,\n\trosybrown: 0xbc8f8f,\n\troyalblue: 0x4169e1,\n\tsaddlebrown: 0x8b4513,\n\tsalmon: 0xfa8072,\n\tsandybrown: 0xf4a460,\n\tseagreen: 0x2e8b57,\n\tseashell: 0xfff5ee,\n\tsienna: 0xa0522d,\n\tsilver: 0xc0c0c0,\n\tskyblue: 0x87ceeb,\n\tslateblue: 0x6a5acd,\n\tslategray: 0x708090,\n\tslategrey: 0x708090,\n\tsnow: 0xfffafa,\n\tspringgreen: 0x00ff7f,\n\tsteelblue: 0x4682b4,\n\ttan: 0xd2b48c,\n\tteal: 0x008080,\n\tthistle: 0xd8bfd8,\n\ttomato: 0xff6347,\n\tturquoise: 0x40e0d0,\n\tviolet: 0xee82ee,\n\twheat: 0xf5deb3,\n\twhite: 0xffffff,\n\twhitesmoke: 0xf5f5f5,\n\tyellow: 0xffff00,\n\tyellowgreen: 0x9acd32\n};\n\nexport default named;\n","import parseNumber from './parseNumber.js';\nimport named from '../colors/named.js';\n\n// Also supports the `transparent` color as defined in:\n// https://drafts.csswg.org/css-color/#transparent-black\nconst parseNamed = color => {\n\treturn parseNumber(named[color.toLowerCase()], 6);\n};\n\nexport default parseNamed;\n","import parseNumber from './parseNumber.js';\n\nconst hex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\n\nconst parseHex = color => {\n\tlet match;\n\t// eslint-disable-next-line no-cond-assign\n\treturn (match = color.match(hex))\n\t\t? parseNumber(parseInt(match[1], 16), match[1].length)\n\t\t: undefined;\n};\n\nexport default parseHex;\n","/*\n\tBasic building blocks for color regexes\n\t---------------------------------------\n\n\tThese regexes are expressed as strings\n\tto be interpolated in the color regexes.\n */\n\n// <number>\nexport const num = '([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)';\n\n// <number> or 'none'\nexport const num_none = `(?:${num}|none)`;\n\n// <percentage>\nexport const per = `${num}%`;\n\n// <percent> or 'none'\nexport const per_none = `(?:${num}%|none)`;\n\n// <number-percentage> (<alpha-value>)\nexport const num_per = `(?:${num}%|${num})`;\n\n// <number-percentage> (<alpha-value>) or 'none'\nexport const num_per_none = `(?:${num}%|${num}|none)`;\n\n// <hue>\nexport const hue = `(?:${num}(deg|grad|rad|turn)|${num})`;\n\n// <hue> or 'none'\nexport const hue_none = `(?:${num}(deg|grad|rad|turn)|${num}|none)`;\n\nexport const c = `\\\\s*,\\\\s*`; // comma\nexport const so = '\\\\s*'; // space, optional\nexport const s = `\\\\s+`; // space\n\nexport const rx_num_per_none = new RegExp('^' + num_per_none + '$');\n","import { num, per, num_per, c } from '../util/regex.js';\n\n/*\n\trgb() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#rgb-functions\n */\nconst rgb_num_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${num}${c}${num}${c}${num}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst rgb_per_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${per}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseRgbLegacy = color => {\n\tlet res = { mode: 'rgb' };\n\tlet match;\n\tif ((match = color.match(rgb_num_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 255;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 255;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 255;\n\t\t}\n\t} else if ((match = color.match(rgb_per_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 100;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 100;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 100;\n\t\t}\n\t} else {\n\t\treturn undefined;\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, match[4] / 100));\n\t} else if (match[5] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, +match[5]));\n\t}\n\n\treturn res;\n};\n\nexport default parseRgbLegacy;\n","import parse from './parse.js';\n\nconst prepare = (color, mode) =>\n\tcolor === undefined\n\t\t? undefined\n\t\t: typeof color !== 'object'\n\t\t? parse(color)\n\t\t: color.mode !== undefined\n\t\t? color\n\t\t: mode\n\t\t? { ...color, mode }\n\t\t: undefined;\n\nexport default prepare;\n","import { converters } from './modes.js';\nimport prepare from './_prepare.js';\n\nconst converter =\n\t(target_mode = 'rgb') =>\n\tcolor =>\n\t\t(color = prepare(color, target_mode)) !== undefined\n\t\t\t? // if the color's mode corresponds to our target mode\n\t\t\t  color.mode === target_mode\n\t\t\t\t? // then just return the color\n\t\t\t\t  color\n\t\t\t\t: // otherwise check to see if we have a dedicated\n\t\t\t\t// converter for the target mode\n\t\t\t\tconverters[color.mode][target_mode]\n\t\t\t\t? // and return its result...\n\t\t\t\t  converters[color.mode][target_mode](color)\n\t\t\t\t: // ...otherwise pass through RGB as an intermediary step.\n\t\t\t\t// if the target mode is RGB...\n\t\t\t\ttarget_mode === 'rgb'\n\t\t\t\t? // just return the RGB\n\t\t\t\t  converters[color.mode].rgb(color)\n\t\t\t\t: // otherwise convert color.mode -> RGB -> target_mode\n\t\t\t\t  converters.rgb[target_mode](converters[color.mode].rgb(color))\n\t\t\t: undefined;\n\nexport default converter;\n","import converter from './converter.js';\n\nconst converters = {};\nconst modes = {};\n\nconst parsers = [];\nconst colorProfiles = {};\n\nconst identity = v => v;\n\nconst useMode = definition => {\n\tconverters[definition.mode] = {\n\t\t...converters[definition.mode],\n\t\t...definition.toMode\n\t};\n\n\tObject.keys(definition.fromMode || {}).forEach(k => {\n\t\tif (!converters[k]) {\n\t\t\tconverters[k] = {};\n\t\t}\n\t\tconverters[k][definition.mode] = definition.fromMode[k];\n\t});\n\n\t// Color space channel ranges\n\tif (!definition.ranges) {\n\t\tdefinition.ranges = {};\n\t}\n\n\tif (!definition.difference) {\n\t\tdefinition.difference = {};\n\t}\n\n\tdefinition.channels.forEach(channel => {\n\t\t// undefined channel ranges default to the [0, 1] interval\n\t\tif (definition.ranges[channel] === undefined) {\n\t\t\tdefinition.ranges[channel] = [0, 1];\n\t\t}\n\n\t\tif (!definition.interpolate[channel]) {\n\t\t\tthrow new Error(`Missing interpolator for: ${channel}`);\n\t\t}\n\n\t\tif (typeof definition.interpolate[channel] === 'function') {\n\t\t\tdefinition.interpolate[channel] = {\n\t\t\t\tuse: definition.interpolate[channel]\n\t\t\t};\n\t\t}\n\n\t\tif (!definition.interpolate[channel].fixup) {\n\t\t\tdefinition.interpolate[channel].fixup = identity;\n\t\t}\n\t});\n\n\tmodes[definition.mode] = definition;\n\t(definition.parse || []).forEach(parser => {\n\t\tuseParser(parser, definition.mode);\n\t});\n\n\treturn converter(definition.mode);\n};\n\nconst getMode = mode => modes[mode];\n\nconst useParser = (parser, mode) => {\n\tif (typeof parser === 'string') {\n\t\tif (!mode) {\n\t\t\tthrow new Error(`'mode' required when 'parser' is a string`);\n\t\t}\n\t\tcolorProfiles[parser] = mode;\n\t} else if (typeof parser === 'function') {\n\t\tif (parsers.indexOf(parser) < 0) {\n\t\t\tparsers.push(parser);\n\t\t}\n\t}\n};\n\nconst removeParser = parser => {\n\tif (typeof parser === 'string') {\n\t\tdelete colorProfiles[parser];\n\t} else if (typeof parser === 'function') {\n\t\tconst idx = parsers.indexOf(parser);\n\t\tif (idx > 0) {\n\t\t\tparsers.splice(idx, 1);\n\t\t}\n\t}\n};\n\nexport {\n\tuseMode,\n\tgetMode,\n\tuseParser,\n\tremoveParser,\n\tconverters,\n\tparsers,\n\tcolorProfiles\n};\n","import { parsers, colorProfiles, getMode } from './modes.js';\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentStartCodePoint = /[^\\x00-\\x7F]|[a-zA-Z_]/;\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentCodePoint = /[^\\x00-\\x7F]|[-\\w]/;\n\nexport const Tok = {\n\tFunction: 'function',\n\tIdent: 'ident',\n\tNumber: 'number',\n\tPercentage: 'percentage',\n\tParenClose: ')',\n\tNone: 'none',\n\tHue: 'hue',\n\tAlpha: 'alpha'\n};\n\nlet _i = 0;\n\n/*\n\t4.3.10. Check if three code points would start a number\n\thttps://drafts.csswg.org/css-syntax/#starts-with-a-number\n */\nfunction is_num(chars) {\n\tlet ch = chars[_i];\n\tlet ch1 = chars[_i + 1];\n\tif (ch === '-' || ch === '+') {\n\t\treturn /\\d/.test(ch1) || (ch1 === '.' && /\\d/.test(chars[_i + 2]));\n\t}\n\tif (ch === '.') {\n\t\treturn /\\d/.test(ch1);\n\t}\n\treturn /\\d/.test(ch);\n}\n\n/*\n\tCheck if the stream starts with an identifier.\n */\n\nfunction is_ident(chars) {\n\tif (_i >= chars.length) {\n\t\treturn false;\n\t}\n\tlet ch = chars[_i];\n\tif (IdentStartCodePoint.test(ch)) {\n\t\treturn true;\n\t}\n\tif (ch === '-') {\n\t\tif (chars.length - _i < 2) {\n\t\t\treturn false;\n\t\t}\n\t\tlet ch1 = chars[_i + 1];\n\t\tif (ch1 === '-' || IdentStartCodePoint.test(ch1)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n/*\n\t4.3.3. Consume a numeric token\n\thttps://drafts.csswg.org/css-syntax/#consume-numeric-token\n */\n\nconst huenits = {\n\tdeg: 1,\n\trad: 180 / Math.PI,\n\tgrad: 9 / 10,\n\tturn: 360\n};\n\nfunction num(chars) {\n\tlet value = '';\n\tif (chars[_i] === '-' || chars[_i] === '+') {\n\t\tvalue += chars[_i++];\n\t}\n\tvalue += digits(chars);\n\tif (chars[_i] === '.' && /\\d/.test(chars[_i + 1])) {\n\t\tvalue += chars[_i++] + digits(chars);\n\t}\n\tif (chars[_i] === 'e' || chars[_i] === 'E') {\n\t\tif (\n\t\t\t(chars[_i + 1] === '-' || chars[_i + 1] === '+') &&\n\t\t\t/\\d/.test(chars[_i + 2])\n\t\t) {\n\t\t\tvalue += chars[_i++] + chars[_i++] + digits(chars);\n\t\t} else if (/\\d/.test(chars[_i + 1])) {\n\t\t\tvalue += chars[_i++] + digits(chars);\n\t\t}\n\t}\n\tif (is_ident(chars)) {\n\t\tlet id = ident(chars);\n\t\tif (id === 'deg' || id === 'rad' || id === 'turn' || id === 'grad') {\n\t\t\treturn { type: Tok.Hue, value: value * huenits[id] };\n\t\t}\n\t\treturn undefined;\n\t}\n\tif (chars[_i] === '%') {\n\t\t_i++;\n\t\treturn { type: Tok.Percentage, value: +value };\n\t}\n\treturn { type: Tok.Number, value: +value };\n}\n\n/*\n\tConsume digits.\n */\nfunction digits(chars) {\n\tlet v = '';\n\twhile (/\\d/.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an identifier.\n */\nfunction ident(chars) {\n\tlet v = '';\n\twhile (_i < chars.length && IdentCodePoint.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an ident-like token.\n */\nfunction identlike(chars) {\n\tlet v = ident(chars);\n\tif (chars[_i] === '(') {\n\t\t_i++;\n\t\treturn { type: Tok.Function, value: v };\n\t}\n\tif (v === 'none') {\n\t\treturn { type: Tok.None, value: undefined };\n\t}\n\treturn { type: Tok.Ident, value: v };\n}\n\nexport function tokenize(str = '') {\n\tlet chars = str.trim();\n\tlet tokens = [];\n\tlet ch;\n\n\t/* reset counter */\n\t_i = 0;\n\n\twhile (_i < chars.length) {\n\t\tch = chars[_i++];\n\n\t\t/*\n\t\t\tConsume whitespace without emitting it\n\t\t */\n\t\tif (ch === '\\n' || ch === '\\t' || ch === ' ') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === ',') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === ')') {\n\t\t\ttokens.push({ type: Tok.ParenClose });\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === '+') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '-') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\ttokens.push({ type: Tok.Ident, value: ident(chars) });\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '.') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '/') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tlet alpha;\n\t\t\tif (is_num(chars)) {\n\t\t\t\talpha = num(chars);\n\t\t\t\tif (alpha.type !== Tok.Hue) {\n\t\t\t\t\ttokens.push({ type: Tok.Alpha, value: alpha });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\tif (ident(chars) === 'none') {\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\ttype: Tok.Alpha,\n\t\t\t\t\t\tvalue: { type: Tok.None, value: undefined }\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (/\\d/.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(num(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (IdentStartCodePoint.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(identlike(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\t/*\n\t\t\tTreat everything not already handled as an error.\n\t\t */\n\t\treturn undefined;\n\t}\n\n\treturn tokens;\n}\n\nexport function parseColorSyntax(tokens) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function || token.value !== 'color') {\n\t\treturn undefined;\n\t}\n\ttoken = tokens[tokens._i++];\n\tif (token.type !== Tok.Ident) {\n\t\treturn undefined;\n\t}\n\tconst mode = colorProfiles[token.value];\n\tif (!mode) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode };\n\tconst coords = consumeCoords(tokens, false);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tconst channels = getMode(mode).channels;\n\tfor (let ii = 0, c, ch; ii < channels.length; ii++) {\n\t\tc = coords[ii];\n\t\tch = channels[ii];\n\t\tif (c.type !== Tok.None) {\n\t\t\tres[ch] = c.type === Tok.Number ? c.value : c.value / 100;\n\t\t\tif (ch === 'alpha') {\n\t\t\t\tres[ch] = Math.max(0, Math.min(1, res[ch]));\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nfunction consumeCoords(tokens, includeHue) {\n\tconst coords = [];\n\tlet token;\n\twhile (tokens._i < tokens.length) {\n\t\ttoken = tokens[tokens._i++];\n\t\tif (\n\t\t\ttoken.type === Tok.None ||\n\t\t\ttoken.type === Tok.Number ||\n\t\t\ttoken.type === Tok.Alpha ||\n\t\t\ttoken.type === Tok.Percentage ||\n\t\t\t(includeHue && token.type === Tok.Hue)\n\t\t) {\n\t\t\tcoords.push(token);\n\t\t\tcontinue;\n\t\t}\n\t\tif (token.type === Tok.ParenClose) {\n\t\t\tif (tokens._i < tokens.length) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tif (coords.length < 3 || coords.length > 4) {\n\t\treturn undefined;\n\t}\n\n\tif (coords.length === 4) {\n\t\tif (coords[3].type !== Tok.Alpha) {\n\t\t\treturn undefined;\n\t\t}\n\t\tcoords[3] = coords[3].value;\n\t}\n\tif (coords.length === 3) {\n\t\tcoords.push({ type: Tok.None, value: undefined });\n\t}\n\n\treturn coords.every(c => c.type !== Tok.Alpha) ? coords : undefined;\n}\n\nexport function parseModernSyntax(tokens, includeHue) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function) {\n\t\treturn undefined;\n\t}\n\tlet coords = consumeCoords(tokens, includeHue);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tcoords.unshift(token.value);\n\treturn coords;\n}\n\nconst parse = color => {\n\tif (typeof color !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst tokens = tokenize(color);\n\tconst parsed = tokens ? parseModernSyntax(tokens, true) : undefined;\n\tlet result = undefined;\n\tlet i = 0;\n\tlet len = parsers.length;\n\twhile (i < len) {\n\t\tif ((result = parsers[i++](color, parsed)) !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn tokens ? parseColorSyntax(tokens) : undefined;\n};\n\nexport default parse;\n","import { Tok } from '../parse.js';\n\nfunction parseRgb(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'rgb' && parsed[0] !== 'rgba')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'rgb' };\n\tconst [, r, g, b, alpha] = parsed;\n\tif (r.type === Tok.Hue || g.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (r.type !== Tok.None) {\n\t\tres.r = r.type === Tok.Number ? r.value / 255 : r.value / 100;\n\t}\n\tif (g.type !== Tok.None) {\n\t\tres.g = g.type === Tok.Number ? g.value / 255 : g.value / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value / 255 : b.value / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseRgb;\n","const parseTransparent = c =>\n\tc === 'transparent'\n\t\t? { mode: 'rgb', r: 0, g: 0, b: 0, alpha: 0 }\n\t\t: undefined;\n\nexport default parseTransparent;\n","const lerp = (a, b, t) => a + t * (b - a);\nconst unlerp = (a, b, v) => (v - a) / (b - a);\n\nconst blerp = (a00, a01, a10, a11, tx, ty) => {\n\treturn lerp(lerp(a00, a01, tx), lerp(a10, a11, tx), ty);\n};\n\nconst trilerp = (\n\ta000,\n\ta010,\n\ta100,\n\ta110,\n\ta001,\n\ta011,\n\ta101,\n\ta111,\n\ttx,\n\tty,\n\ttz\n) => {\n\treturn lerp(\n\t\tblerp(a000, a010, a100, a110, tx, ty),\n\t\tblerp(a001, a011, a101, a111, tx, ty),\n\t\ttz\n\t);\n};\n\nexport { lerp, blerp, trilerp, unlerp };\n","const get_classes = arr => {\n\tlet classes = [];\n\tfor (let i = 0; i < arr.length - 1; i++) {\n\t\tlet a = arr[i];\n\t\tlet b = arr[i + 1];\n\t\tif (a === undefined && b === undefined) {\n\t\t\tclasses.push(undefined);\n\t\t} else if (a !== undefined && b !== undefined) {\n\t\t\tclasses.push([a, b]);\n\t\t} else {\n\t\t\tclasses.push(a !== undefined ? [a, a] : [b, b]);\n\t\t}\n\t}\n\treturn classes;\n};\n\nconst interpolatorPiecewise = interpolator => arr => {\n\tlet classes = get_classes(arr);\n\treturn t => {\n\t\tlet cls = t * classes.length;\n\t\tlet idx = t >= 1 ? classes.length - 1 : Math.max(Math.floor(cls), 0);\n\t\tlet pair = classes[idx];\n\t\treturn pair === undefined\n\t\t\t? undefined\n\t\t\t: interpolator(pair[0], pair[1], cls - idx);\n\t};\n};\n\nexport { interpolatorPiecewise };\n","import { lerp } from './lerp.js';\nimport { interpolatorPiecewise } from './piecewise.js';\n\nexport const interpolatorLinear = interpolatorPiecewise(lerp);\n","const fixupAlpha = arr => {\n\tlet some_defined = false;\n\tlet res = arr.map(v => {\n\t\tif (v !== undefined) {\n\t\t\tsome_defined = true;\n\t\t\treturn v;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn some_defined ? res : arr;\n};\n\nexport { fixupAlpha };\n","import parseNamed from './parseNamed.js';\nimport parseHex from './parseHex.js';\nimport parseRgbLegacy from './parseRgbLegacy.js';\nimport parseRgb from './parseRgb.js';\nimport parseTransparent from './parseTransparent.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\n/*\n\tsRGB color space\n */\n\nconst definition = {\n\tmode: 'rgb',\n\tchannels: ['r', 'g', 'b', 'alpha'],\n\tparse: [\n\t\tparseRgb,\n\t\tparseHex,\n\t\tparseRgbLegacy,\n\t\tparseNamed,\n\t\tparseTransparent,\n\t\t'srgb'\n\t],\n\tserialize: 'srgb',\n\tinterpolate: {\n\t\tr: interpolatorLinear,\n\t\tg: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\tgamut: true,\n\twhite: { r: 1, g: 1, b: 1 },\n\tblack: { r: 0, g: 0, b: 0 }\n};\n\nexport default definition;\n","/*\n\tConvert A98 RGB values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n*/\n\nconst linearize = (v = 0) => Math.pow(Math.abs(v), 563 / 256) * Math.sign(v);\n\nconst convertA98ToXyz65 = a98 => {\n\tlet r = linearize(a98.r);\n\tlet g = linearize(a98.g);\n\tlet b = linearize(a98.b);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.5766690429101305 * r +\n\t\t\t0.1855582379065463 * g +\n\t\t\t0.1882286462349947 * b,\n\t\ty:\n\t\t\t0.297344975250536 * r +\n\t\t\t0.6273635662554661 * g +\n\t\t\t0.0752914584939979 * b,\n\t\tz:\n\t\t\t0.0270313613864123 * r +\n\t\t\t0.0706888525358272 * g +\n\t\t\t0.9913375368376386 * b\n\t};\n\tif (a98.alpha !== undefined) {\n\t\tres.alpha = a98.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertA98ToXyz65;\n","/*\n\tConvert CIE XYZ D65 values to A98 RGB\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst gamma = v => Math.pow(Math.abs(v), 256 / 563) * Math.sign(v);\n\nconst convertXyz65ToA98 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'a98',\n\t\tr: gamma(\n\t\t\tx * 2.0415879038107465 -\n\t\t\t\ty * 0.5650069742788597 -\n\t\t\t\t0.3447313507783297 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.9692436362808798 +\n\t\t\t\ty * 1.8759675015077206 +\n\t\t\t\t0.0415550574071756 * z\n\t\t),\n\t\tb: gamma(\n\t\t\tx * 0.0134442806320312 -\n\t\t\t\ty * 0.1183623922310184 +\n\t\t\t\t1.0151749943912058 * z\n\t\t)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToA98;\n","const fn = (c = 0) => {\n\tconst abs = Math.abs(c);\n\tif (abs <= 0.04045) {\n\t\treturn c / 12.92;\n\t}\n\treturn (Math.sign(c) || 1) * Math.pow((abs + 0.055) / 1.055, 2.4);\n};\n\nconst convertRgbToLrgb = ({ r, g, b, alpha }) => {\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToLrgb;\n","/*\n\tConvert sRGB values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://observablehq.com/@danburzo/color-matrix-calculator\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertRgbToXyz65 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.4123907992659593 * r +\n\t\t\t0.357584339383878 * g +\n\t\t\t0.1804807884018343 * b,\n\t\ty:\n\t\t\t0.2126390058715102 * r +\n\t\t\t0.715168678767756 * g +\n\t\t\t0.0721923153607337 * b,\n\t\tz:\n\t\t\t0.0193308187155918 * r +\n\t\t\t0.119194779794626 * g +\n\t\t\t0.9505321522496607 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToXyz65;\n","const fn = (c = 0) => {\n\tconst abs = Math.abs(c);\n\tif (abs > 0.0031308) {\n\t\treturn (Math.sign(c) || 1) * (1.055 * Math.pow(abs, 1 / 2.4) - 0.055);\n\t}\n\treturn c * 12.92;\n};\n\nconst convertLrgbToRgb = ({ r, g, b, alpha }, mode = 'rgb') => {\n\tlet res = {\n\t\tmode,\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLrgbToRgb;\n","/*\n\tCIE XYZ D65 values to sRGB.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://observablehq.com/@danburzo/color-matrix-calculator\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz65ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb({\n\t\tr:\n\t\t\tx * 3.2409699419045226 -\n\t\t\ty * 1.5373831775700939 -\n\t\t\t0.4986107602930034 * z,\n\t\tg:\n\t\t\tx * -0.9692436362808796 +\n\t\t\ty * 1.8759675015077204 +\n\t\t\t0.0415550574071756 * z,\n\t\tb:\n\t\t\tx * 0.0556300796969936 -\n\t\t\ty * 0.2039769588889765 +\n\t\t\t1.0569715142428784 * z\n\t});\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToRgb;\n","import rgb from '../rgb/definition.js';\n\nimport convertA98ToXyz65 from './convertA98ToXyz65.js';\nimport convertXyz65ToA98 from './convertXyz65ToA98.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'a98',\n\tparse: ['a98-rgb'],\n\tserialize: 'a98-rgb',\n\n\tfromMode: {\n\t\trgb: color => convertXyz65ToA98(convertRgbToXyz65(color)),\n\t\txyz65: convertXyz65ToA98\n\t},\n\n\ttoMode: {\n\t\trgb: color => convertXyz65ToRgb(convertA98ToXyz65(color)),\n\t\txyz65: convertA98ToXyz65\n\t}\n};\n\nexport default definition;\n","const normalizeHue = hue => ((hue = hue % 360) < 0 ? hue + 360 : hue);\n\nexport default normalizeHue;\n","import normalizeHue from '../util/normalizeHue.js';\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHslToRgb({ h, s, l, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (l === undefined) l = 0;\n\tlet m1 = l + s * (l < 0.5 ? l : 1 - l);\n\tlet m2 = m1 - (m1 - l) * 2 * Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: m1, g: m2, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: m2, g: m1, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: 2 * l - m1, g: m1, b: m2 };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: 2 * l - m1, g: m2, b: m1 };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: m2, g: 2 * l - m1, b: m1 };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: m1, g: 2 * l - m1, b: m2 };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: 2 * l - m1, g: 2 * l - m1, b: 2 * l - m1 };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsl({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsl',\n\t\ts: M === m ? 0 : (M - m) / (1 - Math.abs(M + m - 1)),\n\t\tl: 0.5 * (M + m)\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","const hueToDeg = (val, unit) => {\n\tswitch (unit) {\n\t\tcase 'deg':\n\t\t\treturn +val;\n\t\tcase 'rad':\n\t\t\treturn (val / Math.PI) * 180;\n\t\tcase 'grad':\n\t\t\treturn (val / 10) * 9;\n\t\tcase 'turn':\n\t\t\treturn val * 360;\n\t}\n};\n\nexport default hueToDeg;\n","import hueToDeg from '../util/hue.js';\nimport { hue, per, num_per, c } from '../util/regex.js';\n\n/*\n\thsl() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#the-hsl-notation\n */\nconst hsl_old = new RegExp(\n\t`^hsla?\\\\(\\\\s*${hue}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseHslLegacy = color => {\n\tlet match = color.match(hsl_old);\n\tif (!match) return;\n\tlet res = { mode: 'hsl' };\n\n\tif (match[3] !== undefined) {\n\t\tres.h = +match[3];\n\t} else if (match[1] !== undefined && match[2] !== undefined) {\n\t\tres.h = hueToDeg(match[1], match[2]);\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.s = Math.min(Math.max(0, match[4] / 100), 1);\n\t}\n\n\tif (match[5] !== undefined) {\n\t\tres.l = Math.min(Math.max(0, match[5] / 100), 1);\n\t}\n\n\tif (match[6] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, match[6] / 100));\n\t} else if (match[7] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, +match[7]));\n\t}\n\treturn res;\n};\n\nexport default parseHslLegacy;\n","import { Tok } from '../parse.js';\n\nfunction parseHsl(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'hsl' && parsed[0] !== 'hsla')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hsl' };\n\tconst [, h, s, l, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (s.type !== Tok.None) {\n\t\tif (s.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.s = s.value / 100;\n\t}\n\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = l.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseHsl;\n","import normalizeHue from '../util/normalizeHue.js';\n\nconst hue = (hues, fn) => {\n\treturn hues\n\t\t.map((hue, idx, arr) => {\n\t\t\tif (hue === undefined) {\n\t\t\t\treturn hue;\n\t\t\t}\n\t\t\tlet normalized = normalizeHue(hue);\n\t\t\tif (idx === 0 || hues[idx - 1] === undefined) {\n\t\t\t\treturn normalized;\n\t\t\t}\n\t\t\treturn fn(normalized - normalizeHue(arr[idx - 1]));\n\t\t})\n\t\t.reduce((acc, curr) => {\n\t\t\tif (\n\t\t\t\t!acc.length ||\n\t\t\t\tcurr === undefined ||\n\t\t\t\tacc[acc.length - 1] === undefined\n\t\t\t) {\n\t\t\t\tacc.push(curr);\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t\tacc.push(curr + acc[acc.length - 1]);\n\t\t\treturn acc;\n\t\t}, []);\n};\n\nconst fixupHueShorter = arr =>\n\thue(arr, d => (Math.abs(d) <= 180 ? d : d - 360 * Math.sign(d)));\nconst fixupHueLonger = arr =>\n\thue(arr, d => (Math.abs(d) >= 180 || d === 0 ? d : d - 360 * Math.sign(d)));\nconst fixupHueIncreasing = arr => hue(arr, d => (d >= 0 ? d : d + 360));\nconst fixupHueDecreasing = arr => hue(arr, d => (d <= 0 ? d : d - 360));\n\nexport {\n\tfixupHueShorter,\n\tfixupHueLonger,\n\tfixupHueIncreasing,\n\tfixupHueDecreasing\n};\n","import { getMode } from './modes.js';\nimport converter from './converter.js';\nimport normalizeHue from './util/normalizeHue.js';\n\nconst differenceHueSaturation = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.s || !smp.s) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.s * smp.s) * dH;\n};\n\nconst differenceHueNaive = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tif (Math.abs(smp_h - std_h) > 180) {\n\t\t// todo should this be normalized once again?\n\t\treturn std_h - (smp_h - 360 * Math.sign(smp_h - std_h));\n\t}\n\treturn smp_h - std_h;\n};\n\nconst differenceHueChroma = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.c || !smp.c) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.c * smp.c) * dH;\n};\n\nconst differenceEuclidean = (mode = 'rgb', weights = [1, 1, 1, 0]) => {\n\tlet def = getMode(mode);\n\tlet channels = def.channels;\n\tlet diffs = def.difference;\n\tlet conv = converter(mode);\n\treturn (std, smp) => {\n\t\tlet ConvStd = conv(std);\n\t\tlet ConvSmp = conv(smp);\n\t\treturn Math.sqrt(\n\t\t\tchannels.reduce((sum, k, idx) => {\n\t\t\t\tlet delta = diffs[k]\n\t\t\t\t\t? diffs[k](ConvStd, ConvSmp)\n\t\t\t\t\t: ConvStd[k] - ConvSmp[k];\n\t\t\t\treturn (\n\t\t\t\t\tsum +\n\t\t\t\t\t(weights[idx] || 0) * Math.pow(isNaN(delta) ? 0 : delta, 2)\n\t\t\t\t);\n\t\t\t}, 0)\n\t\t);\n\t};\n};\n\nconst differenceCie76 = () => differenceEuclidean('lab65');\n\nconst differenceCie94 = (kL = 1, K1 = 0.045, K2 = 0.015) => {\n\tlet lab = converter('lab65');\n\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\t// Extract Lab values, and compute Chroma\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(kL, 2) +\n\t\t\t\tdC2 / Math.pow(1 + K1 * cStd, 2) +\n\t\t\t\tdH2 / Math.pow(1 + K2 * cStd, 2)\n\t\t);\n\t};\n};\n\n/*\n\tCIEDE2000 color difference, original Matlab implementation by Gaurav Sharma\n\tBased on \"The CIEDE2000 Color-Difference Formula: Implementation Notes, Supplementary Test Data, and Mathematical Observations\" \n\tby Gaurav Sharma, Wencheng Wu, Edul N. Dalal in Color Research and Application, vol. 30. No. 1, pp. 21-30, February 2005.\n\thttp://www2.ece.rochester.edu/~gsharma/ciede2000/\n */\n\nconst differenceCiede2000 = (Kl = 1, Kc = 1, Kh = 1) => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet cAvg = (cStd + cSmp) / 2;\n\n\t\tlet G =\n\t\t\t0.5 *\n\t\t\t(1 -\n\t\t\t\tMath.sqrt(\n\t\t\t\t\tMath.pow(cAvg, 7) / (Math.pow(cAvg, 7) + Math.pow(25, 7))\n\t\t\t\t));\n\n\t\tlet apStd = aStd * (1 + G);\n\t\tlet apSmp = aSmp * (1 + G);\n\n\t\tlet cpStd = Math.sqrt(apStd * apStd + bStd * bStd);\n\t\tlet cpSmp = Math.sqrt(apSmp * apSmp + bSmp * bSmp);\n\n\t\tlet hpStd =\n\t\t\tMath.abs(apStd) + Math.abs(bStd) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bStd, apStd);\n\t\thpStd += (hpStd < 0) * 2 * Math.PI;\n\n\t\tlet hpSmp =\n\t\t\tMath.abs(apSmp) + Math.abs(bSmp) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bSmp, apSmp);\n\t\thpSmp += (hpSmp < 0) * 2 * Math.PI;\n\n\t\tlet dL = lSmp - lStd;\n\t\tlet dC = cpSmp - cpStd;\n\n\t\tlet dhp = cpStd * cpSmp === 0 ? 0 : hpSmp - hpStd;\n\t\tdhp -= (dhp > Math.PI) * 2 * Math.PI;\n\t\tdhp += (dhp < -Math.PI) * 2 * Math.PI;\n\n\t\tlet dH = 2 * Math.sqrt(cpStd * cpSmp) * Math.sin(dhp / 2);\n\n\t\tlet Lp = (lStd + lSmp) / 2;\n\t\tlet Cp = (cpStd + cpSmp) / 2;\n\n\t\tlet hp;\n\t\tif (cpStd * cpSmp === 0) {\n\t\t\thp = hpStd + hpSmp;\n\t\t} else {\n\t\t\thp = (hpStd + hpSmp) / 2;\n\t\t\thp -= (Math.abs(hpStd - hpSmp) > Math.PI) * Math.PI;\n\t\t\thp += (hp < 0) * 2 * Math.PI;\n\t\t}\n\n\t\tlet Lpm50 = Math.pow(Lp - 50, 2);\n\t\tlet T =\n\t\t\t1 -\n\t\t\t0.17 * Math.cos(hp - Math.PI / 6) +\n\t\t\t0.24 * Math.cos(2 * hp) +\n\t\t\t0.32 * Math.cos(3 * hp + Math.PI / 30) -\n\t\t\t0.2 * Math.cos(4 * hp - (63 * Math.PI) / 180);\n\n\t\tlet Sl = 1 + (0.015 * Lpm50) / Math.sqrt(20 + Lpm50);\n\t\tlet Sc = 1 + 0.045 * Cp;\n\t\tlet Sh = 1 + 0.015 * Cp * T;\n\n\t\tlet deltaTheta =\n\t\t\t((30 * Math.PI) / 180) *\n\t\t\tMath.exp(-1 * Math.pow(((180 / Math.PI) * hp - 275) / 25, 2));\n\t\tlet Rc =\n\t\t\t2 *\n\t\t\tMath.sqrt(Math.pow(Cp, 7) / (Math.pow(Cp, 7) + Math.pow(25, 7)));\n\n\t\tlet Rt = -1 * Math.sin(2 * deltaTheta) * Rc;\n\n\t\treturn Math.sqrt(\n\t\t\tMath.pow(dL / (Kl * Sl), 2) +\n\t\t\t\tMath.pow(dC / (Kc * Sc), 2) +\n\t\t\t\tMath.pow(dH / (Kh * Sh), 2) +\n\t\t\t\t(((Rt * dC) / (Kc * Sc)) * dH) / (Kh * Sh)\n\t\t);\n\t};\n};\n\n/*\n\tCMC (l:c) difference formula\n\n\tReferences:\n\t\thttps://en.wikipedia.org/wiki/Color_difference#CMC_l:c_(1984)\n\t\thttp://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n */\nconst differenceCmc = (l = 1, c = 1) => {\n\tlet lab = converter('lab65');\n\n\t/*\n\t\tComparte two colors:\n\t\tstd - standard (first) color\n\t\tsmp - sample (second) color\n\t */\n\treturn (std, smp) => {\n\t\t// convert standard color to Lab\n\t\tlet LabStd = lab(std);\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\n\t\t// Obtain hue/chroma\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\t\tlet hStd = Math.atan2(bStd, aStd);\n\t\thStd = hStd + 2 * Math.PI * (hStd < 0);\n\n\t\t// convert sample color to Lab, obtain LCh\n\t\tlet LabSmp = lab(smp);\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\n\t\t// Obtain chroma\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\t// lightness delta squared\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\n\t\t// chroma delta squared\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\n\t\t// hue delta squared\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\tlet F = Math.sqrt(Math.pow(cStd, 4) / (Math.pow(cStd, 4) + 1900));\n\t\tlet T =\n\t\t\thStd >= (164 / 180) * Math.PI && hStd <= (345 / 180) * Math.PI\n\t\t\t\t? 0.56 + Math.abs(0.2 * Math.cos(hStd + (168 / 180) * Math.PI))\n\t\t\t\t: 0.36 + Math.abs(0.4 * Math.cos(hStd + (35 / 180) * Math.PI));\n\n\t\tlet Sl = lStd < 16 ? 0.511 : (0.040975 * lStd) / (1 + 0.01765 * lStd);\n\t\tlet Sc = (0.0638 * cStd) / (1 + 0.0131 * cStd) + 0.638;\n\t\tlet Sh = Sc * (F * T + 1 - F);\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(l * Sl, 2) +\n\t\t\t\tdC2 / Math.pow(c * Sc, 2) +\n\t\t\t\tdH2 / Math.pow(Sh, 2)\n\t\t);\n\t};\n};\n\n/*\n\n\tHyAB color difference formula, introduced in:\n\n\t\tAbasi S, Amani Tehran M, Fairchild MD. \n\t\t\"Distance metrics for very large color differences.\"\n\t\tColor Res Appl. 2019; 1–16. \n\t\thttps://doi.org/10.1002/col.22451\n\n\tPDF available at:\n\t\n\t\thttp://markfairchild.org/PDFs/PAP40.pdf\n */\nconst differenceHyab = () => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\t\tlet dL = LabStd.l - LabSmp.l;\n\t\tlet dA = LabStd.a - LabSmp.a;\n\t\tlet dB = LabStd.b - LabSmp.b;\n\t\treturn Math.abs(dL) + Math.sqrt(dA * dA + dB * dB);\n\t};\n};\n\n/*\n\t\"Measuring perceived color difference using YIQ NTSC\n\ttransmission color space in mobile applications\"\n\t\t\n\t\tby Yuriy Kotsarenko, Fernando Ramos in:\n\t\tProgramación Matemática y Software (2010) \n\n\tAvailable at:\n\t\t\n\t\thttp://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf\n */\nconst differenceKotsarenkoRamos = () =>\n\tdifferenceEuclidean('yiq', [0.5053, 0.299, 0.1957]);\n\n/*\n\tΔE_ITP, as defined in Rec. ITU-R BT.2124:\n\n\thttps://www.itu.int/rec/R-REC-BT.2124/en\n*/\nconst differenceItp = () =>\n\tdifferenceEuclidean('itp', [518400, 129600, 518400]);\n\nexport {\n\tdifferenceHueChroma,\n\tdifferenceHueSaturation,\n\tdifferenceHueNaive,\n\tdifferenceEuclidean,\n\tdifferenceCie76,\n\tdifferenceCie94,\n\tdifferenceCiede2000,\n\tdifferenceCmc,\n\tdifferenceHyab,\n\tdifferenceKotsarenkoRamos,\n\tdifferenceItp\n};\n","import converter from './converter.js';\nimport { getMode } from './modes.js';\n\nconst averageAngle = val => {\n\t// See: https://en.wikipedia.org/wiki/Mean_of_circular_quantities\n\tlet sum = val.reduce(\n\t\t(sum, val) => {\n\t\t\tif (val !== undefined) {\n\t\t\t\tlet rad = (val * Math.PI) / 180;\n\t\t\t\tsum.sin += Math.sin(rad);\n\t\t\t\tsum.cos += Math.cos(rad);\n\t\t\t}\n\t\t\treturn sum;\n\t\t},\n\t\t{ sin: 0, cos: 0 }\n\t);\n\tlet angle = (Math.atan2(sum.sin, sum.cos) * 180) / Math.PI;\n\treturn angle < 0 ? 360 + angle : angle;\n};\n\nconst averageNumber = val => {\n\tlet a = val.filter(v => v !== undefined);\n\treturn a.length ? a.reduce((sum, v) => sum + v, 0) / a.length : undefined;\n};\n\nconst isfn = o => typeof o === 'function';\n\nfunction average(colors, mode = 'rgb', overrides) {\n\tlet def = getMode(mode);\n\tlet cc = colors.map(converter(mode));\n\treturn def.channels.reduce(\n\t\t(res, ch) => {\n\t\t\tlet arr = cc.map(c => c[ch]).filter(val => val !== undefined);\n\t\t\tif (arr.length) {\n\t\t\t\tlet fn;\n\t\t\t\tif (isfn(overrides)) {\n\t\t\t\t\tfn = overrides;\n\t\t\t\t} else if (overrides && isfn(overrides[ch])) {\n\t\t\t\t\tfn = overrides[ch];\n\t\t\t\t} else if (def.average && isfn(def.average[ch])) {\n\t\t\t\t\tfn = def.average[ch];\n\t\t\t\t} else {\n\t\t\t\t\tfn = averageNumber;\n\t\t\t\t}\n\t\t\t\tres[ch] = fn(arr, ch);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{ mode }\n\t);\n}\n\nexport { average, averageAngle, averageNumber };\n","import convertHslToRgb from './convertHslToRgb.js';\nimport convertRgbToHsl from './convertRgbToHsl.js';\nimport parseHslLegacy from './parseHslLegacy.js';\nimport parseHsl from './parseHsl.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsl',\n\n\ttoMode: {\n\t\trgb: convertHslToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHsl\n\t},\n\n\tchannels: ['h', 's', 'l', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHsl, parseHslLegacy],\n\tserialize: c =>\n\t\t`hsl(${c.h !== undefined ? c.h : 'none'} ${\n\t\t\tc.s !== undefined ? c.s * 100 + '%' : 'none'\n\t\t} ${c.l !== undefined ? c.l * 100 + '%' : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHsvToRgb({ h, s, v, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (v === undefined) v = 0;\n\tlet f = Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: v, g: v * (1 - s * f), b: v * (1 - s) };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: v * (1 - s * f), g: v, b: v * (1 - s) };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: v * (1 - s), g: v, b: v * (1 - s * f) };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: v * (1 - s), g: v * (1 - s * f), b: v };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: v * (1 - s * f), g: v * (1 - s), b: v };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: v, g: v * (1 - s), b: v * (1 - s * f) };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: v * (1 - s), g: v * (1 - s), b: v * (1 - s) };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsv({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsv',\n\t\ts: M === 0 ? 0 : 1 - m / M,\n\t\tv: M\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","import convertHsvToRgb from './convertHsvToRgb.js';\nimport convertRgbToHsv from './convertRgbToHsv.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsv',\n\n\ttoMode: {\n\t\trgb: convertHsvToRgb\n\t},\n\n\tparse: ['--hsv'],\n\tserialize: '--hsv',\n\n\tfromMode: {\n\t\trgb: convertRgbToHsv\n\t},\n\n\tchannels: ['h', 's', 'v', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","/*\n\tHWB to RGB converter\n\t--------------------\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#hwb-to-rgb\n\t\t* https://en.wikipedia.org/wiki/HWB_color_model\n\t\t* http://alvyray.com/Papers/CG/HWB_JGTv208.pdf\n */\n\nimport convertHsvToRgb from '../hsv/convertHsvToRgb.js';\n\nexport default function convertHwbToRgb({ h, w, b, alpha }) {\n\tif (w === undefined) w = 0;\n\tif (b === undefined) b = 0;\n\t// normalize w + b to 1\n\tif (w + b > 1) {\n\t\tlet s = w + b;\n\t\tw /= s;\n\t\tb /= s;\n\t}\n\treturn convertHsvToRgb({\n\t\th: h,\n\t\ts: b === 1 ? 1 : 1 - w / (1 - b),\n\t\tv: 1 - b,\n\t\talpha: alpha\n\t});\n}\n","/*\n\tRGB to HWB converter\n\t--------------------\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#hwb-to-rgb\n\t\t* https://en.wikipedia.org/wiki/HWB_color_model\n\t\t* http://alvyray.com/Papers/CG/HWB_JGTv208.pdf\n */\n\nimport convertRgbToHsv from '../hsv/convertRgbToHsv.js';\n\nexport default function convertRgbToHwb(rgba) {\n\tlet hsv = convertRgbToHsv(rgba);\n\tif (hsv === undefined) return undefined;\n\tlet s = hsv.s !== undefined ? hsv.s : 0;\n\tlet v = hsv.v !== undefined ? hsv.v : 0;\n\tlet res = {\n\t\tmode: 'hwb',\n\t\tw: (1 - s) * v,\n\t\tb: 1 - v\n\t};\n\tif (hsv.h !== undefined) res.h = hsv.h;\n\tif (hsv.alpha !== undefined) res.alpha = hsv.alpha;\n\treturn res;\n}\n","import { Tok } from '../parse.js';\n\nfunction ParseHwb(color, parsed) {\n\tif (!parsed || parsed[0] !== 'hwb') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hwb' };\n\tconst [, h, w, b, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (w.type !== Tok.None) {\n\t\tif (w.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.w = w.value / 100;\n\t}\n\n\tif (b.type !== Tok.None) {\n\t\tif (b.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.b = b.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default ParseHwb;\n","import convertHwbToRgb from './convertHwbToRgb.js';\nimport convertRgbToHwb from './convertRgbToHwb.js';\nimport parseHwb from './parseHwb.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueNaive } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hwb',\n\n\ttoMode: {\n\t\trgb: convertHwbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHwb\n\t},\n\n\tchannels: ['h', 'w', 'b', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHwb],\n\tserialize: c =>\n\t\t`hwb(${c.h !== undefined ? c.h : 'none'} ${\n\t\t\tc.w !== undefined ? c.w * 100 + '%' : 'none'\n\t\t} ${c.b !== undefined ? c.b * 100 + '%' : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tw: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueNaive\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","export const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n","/*\n\tThe XYZ tristimulus values (white point)\n\tof standard illuminants for the CIE 1931 2° \n\tstandard observer.\n\n\tSee: https://en.wikipedia.org/wiki/Standard_illuminant\n */\n\nexport const D50 = {\n\tX: 0.3457 / 0.3585,\n\tY: 1,\n\tZ: (1 - 0.3457 - 0.3585) / 0.3585\n};\n\nexport const D65 = {\n\tX: 0.3127 / 0.329,\n\tY: 1,\n\tZ: (1 - 0.3127 - 0.329) / 0.329\n};\n\nexport const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n","import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nlet fn = v => (Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k);\n\nconst convertLabToXyz50 = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx: fn(fx) * D50.X,\n\t\ty: fn(fy) * D50.Y,\n\t\tz: fn(fz) * D50.Z\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLabToXyz50;\n","/*\n\tCIE XYZ D50 values to sRGB.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz50ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb({\n\t\tr:\n\t\t\tx * 3.1341359569958707 -\n\t\t\ty * 1.6173863321612538 -\n\t\t\t0.4906619460083532 * z,\n\t\tg:\n\t\t\tx * -0.978795502912089 +\n\t\t\ty * 1.916254567259524 +\n\t\t\t0.03344273116131949 * z,\n\t\tb:\n\t\t\tx * 0.07195537988411677 -\n\t\t\ty * 0.2289768264158322 +\n\t\t\t1.405386058324125 * z\n\t});\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToRgb;\n","import convertLabToXyz50 from './convertLabToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\n\nconst convertLabToRgb = lab => convertXyz50ToRgb(convertLabToXyz50(lab));\n\nexport default convertLabToRgb;\n","/*\n\tConvert sRGB values to CIE XYZ D50\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertRgbToXyz50 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t0.436065742824811 * r +\n\t\t\t0.3851514688337912 * g +\n\t\t\t0.14307845442264197 * b,\n\t\ty:\n\t\t\t0.22249319175623702 * r +\n\t\t\t0.7168870538238823 * g +\n\t\t\t0.06061979053616537 * b,\n\t\tz:\n\t\t\t0.013923904500943465 * r +\n\t\t\t0.09708128566574634 * g +\n\t\t\t0.7140993584005155 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToXyz50;\n","import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nconst f = value => (value > e ? Math.cbrt(value) : (k * value + 16) / 116);\n\nconst convertXyz50ToLab = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet f0 = f(x / D50.X);\n\tlet f1 = f(y / D50.Y);\n\tlet f2 = f(z / D50.Z);\n\n\tlet res = {\n\t\tmode: 'lab',\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz50ToLab;\n","import convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\nimport convertXyz50ToLab from './convertXyz50ToLab.js';\n\nconst convertRgbToLab = rgb => {\n\tlet res = convertXyz50ToLab(convertRgbToXyz50(rgb));\n\n\t// Fixes achromatic RGB colors having a _slight_ chroma due to floating-point errors\n\t// and approximated computations in sRGB <-> CIELab.\n\t// See: https://github.com/d3/d3-color/pull/46\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToLab;\n","import { Tok } from '../parse.js';\n\nfunction parseLab(color, parsed) {\n\tif (!parsed || parsed[0] !== 'lab') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'lab' };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (a.type !== Tok.None) {\n\t\tres.a = a.type === Tok.Number ? a.value : (a.value * 125) / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value : (b.value * 125) / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseLab;\n","import convertLabToRgb from './convertLabToRgb.js';\nimport convertLabToXyz50 from './convertLabToXyz50.js';\nimport convertRgbToLab from './convertRgbToLab.js';\nimport convertXyz50ToLab from './convertXyz50ToLab.js';\nimport parseLab from './parseLab.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'lab',\n\n\ttoMode: {\n\t\txyz50: convertLabToXyz50,\n\t\trgb: convertLabToRgb\n\t},\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToLab,\n\t\trgb: convertRgbToLab\n\t},\n\n\tchannels: ['l', 'a', 'b', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t},\n\n\tparse: [parseLab],\n\tserialize: c =>\n\t\t`lab(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.a !== undefined ? c.a : 'none'\n\t\t} ${c.b !== undefined ? c.b : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","export const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n","import { k, e } from '../xyz65/constants.js';\nimport { D65 } from '../constants.js';\n\nlet fn = v => (Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k);\n\nconst convertLab65ToXyz65 = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx: fn(fx) * D65.X,\n\t\ty: fn(fy) * D65.Y,\n\t\tz: fn(fz) * D65.Z\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLab65ToXyz65;\n","import convertLab65ToXyz65 from './convertLab65ToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst convertLab65ToRgb = lab => convertXyz65ToRgb(convertLab65ToXyz65(lab));\n\nexport default convertLab65ToRgb;\n","import { k, e } from '../xyz65/constants.js';\nimport { D65 } from '../constants.js';\n\nconst f = value => (value > e ? Math.cbrt(value) : (k * value + 16) / 116);\n\nconst convertXyz65ToLab65 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet f0 = f(x / D65.X);\n\tlet f1 = f(y / D65.Y);\n\tlet f2 = f(z / D65.Z);\n\n\tlet res = {\n\t\tmode: 'lab65',\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToLab65;\n","import convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToLab65 from './convertXyz65ToLab65.js';\n\nconst convertRgbToLab65 = rgb => {\n\tlet res = convertXyz65ToLab65(convertRgbToXyz65(rgb));\n\n\t// Fixes achromatic RGB colors having a _slight_ chroma due to floating-point errors\n\t// and approximated computations in sRGB <-> CIELab.\n\t// See: https://github.com/d3/d3-color/pull/46\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToLab65;\n","import convertLab65ToRgb from './convertLab65ToRgb.js';\nimport convertLab65ToXyz65 from './convertLab65ToXyz65.js';\nimport convertRgbToLab65 from './convertRgbToLab65.js';\nimport convertXyz65ToLab65 from './convertXyz65ToLab65.js';\nimport lab from '../lab/definition.js';\n\nconst definition = {\n\t...lab,\n\tmode: 'lab65',\n\n\tparse: ['--lab-d65'],\n\tserialize: '--lab-d65',\n\n\ttoMode: {\n\t\txyz65: convertLab65ToXyz65,\n\t\trgb: convertLab65ToRgb\n\t},\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToLab65,\n\t\trgb: convertRgbToLab65\n\t},\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\n/* \n\tReferences: \n\t\t* https://drafts.csswg.org/css-color/#lab-to-lch\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n*/\nconst convertLabToLch = ({ l, a, b, alpha }, mode = 'lch') => {\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet c = Math.sqrt(a * a + b * b);\n\tlet res = { mode, l, c };\n\tif (c) res.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLabToLch;\n","/* \n\tReferences: \n\t\t* https://drafts.csswg.org/css-color/#lch-to-lab\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n*/\nconst convertLchToLab = ({ l, c, h, alpha }, mode = 'lab') => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode,\n\t\tl,\n\t\ta: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tb: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLchToLab;\n","import { Tok } from '../parse.js';\n\nfunction parseLch(color, parsed) {\n\tif (!parsed || parsed[0] !== 'lch') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'lch' };\n\tconst [, l, c, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (c.type !== Tok.None) {\n\t\tres.c = Math.max(\n\t\t\t0,\n\t\t\tc.type === Tok.Number ? c.value : (c.value * 150) / 100\n\t\t);\n\t}\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseLch;\n","import convertLabToLch from './convertLabToLch.js';\nimport convertLchToLab from './convertLchToLab.js';\nimport convertLabToRgb from '../lab/convertLabToRgb.js';\nimport convertRgbToLab from '../lab/convertRgbToLab.js';\nimport parseLch from './parseLch.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'lch',\n\n\ttoMode: {\n\t\tlab: convertLchToLab,\n\t\trgb: c => convertLabToRgb(convertLchToLab(c))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToLab(c)),\n\t\tlab: convertLabToLch\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t},\n\n\tparse: [parseLch],\n\tserialize: c =>\n\t\t`lch(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.c !== undefined ? c.c : 'none'\n\t\t} ${c.h !== undefined ? c.h : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\nimport lch from '../lch/definition.js';\n\nconst definition = {\n\t...lch,\n\tmode: 'lch65',\n\n\tparse: ['--lch-d65'],\n\tserialize: '--lch-d65',\n\n\ttoMode: {\n\t\tlab65: c => convertLchToLab(c, 'lab65'),\n\t\trgb: c => convertLab65ToRgb(convertLchToLab(c, 'lab65'))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToLab65(c), 'lch65'),\n\t\tlab65: c => convertLabToLch(c, 'lch65')\n\t},\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t}\n};\n\nexport default definition;\n","import rgb from '../rgb/definition.js';\nimport convertRgbToLrgb from './convertRgbToLrgb.js';\nimport convertLrgbToRgb from './convertLrgbToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'lrgb',\n\n\ttoMode: {\n\t\trgb: convertLrgbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToLrgb\n\t},\n\n\tparse: ['srgb-linear'],\n\tserialize: 'srgb-linear'\n};\n\nexport default definition;\n","const convertOklabToLrgb = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\n\tlet L = Math.pow(l + 0.3963377773761749 * a + 0.2158037573099136 * b, 3);\n\tlet M = Math.pow(l - 0.1055613458156586 * a - 0.0638541728258133 * b, 3);\n\tlet S = Math.pow(l - 0.0894841775298119 * a - 1.2914855480194092 * b, 3);\n\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr:\n\t\t\t4.0767416360759574 * L -\n\t\t\t3.3077115392580616 * M +\n\t\t\t0.2309699031821044 * S,\n\t\tg:\n\t\t\t-1.2684379732850317 * L +\n\t\t\t2.6097573492876887 * M -\n\t\t\t0.3413193760026573 * S,\n\t\tb:\n\t\t\t-0.0041960761386756 * L -\n\t\t\t0.7034186179359362 * M +\n\t\t\t1.7076146940746117 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertOklabToLrgb;\n","const convertLrgbToOklab = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\n\tlet L = Math.cbrt(\n\t\t0.412221469470763 * r + 0.5363325372617348 * g + 0.0514459932675022 * b\n\t);\n\tlet M = Math.cbrt(\n\t\t0.2119034958178252 * r + 0.6806995506452344 * g + 0.1073969535369406 * b\n\t);\n\tlet S = Math.cbrt(\n\t\t0.0883024591900564 * r + 0.2817188391361215 * g + 0.6299787016738222 * b\n\t);\n\n\tlet res = {\n\t\tmode: 'oklab',\n\t\tl:\n\t\t\t0.210454268309314 * L +\n\t\t\t0.7936177747023054 * M -\n\t\t\t0.0040720430116193 * S,\n\t\ta:\n\t\t\t1.9779985324311684 * L -\n\t\t\t2.4285922420485799 * M +\n\t\t\t0.450593709617411 * S,\n\t\tb:\n\t\t\t0.0259040424655478 * L +\n\t\t\t0.7827717124575296 * M -\n\t\t\t0.8086757549230774 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLrgbToOklab;\n","import convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\n\nconst convertRgbToOklab = rgb => {\n\tlet res = convertLrgbToOklab(convertRgbToLrgb(rgb));\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToOklab;\n","import convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\nimport convertOklabToLrgb from './convertOklabToLrgb.js';\n\nconst convertOklabToRgb = c => convertLrgbToRgb(convertOklabToLrgb(c));\n\nexport default convertOklabToRgb;\n","import { Tok } from '../parse.js';\n\nfunction parseOklab(color, parsed) {\n\tif (!parsed || parsed[0] !== 'oklab') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'oklab' };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tres.l = Math.min(\n\t\t\tMath.max(0, l.type === Tok.Number ? l.value : l.value / 100),\n\t\t\t1\n\t\t);\n\t}\n\tif (a.type !== Tok.None) {\n\t\tres.a = a.type === Tok.Number ? a.value : (a.value * 0.4) / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value : (b.value * 0.4) / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseOklab;\n","import convertOklabToLrgb from './convertOklabToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\nimport convertRgbToOklab from './convertRgbToOklab.js';\nimport convertOklabToRgb from './convertOklabToRgb.js';\nimport parseOklab from './parseOklab.js';\n\nimport lab from '../lab/definition.js';\n\n/*\n\tOklab, a perceptual color space for image processing by Björn Ottosson\n\tReference: https://bottosson.github.io/posts/oklab/\n */\n\nconst definition = {\n\t...lab,\n\tmode: 'oklab',\n\n\ttoMode: {\n\t\tlrgb: convertOklabToLrgb,\n\t\trgb: convertOklabToRgb\n\t},\n\n\tfromMode: {\n\t\tlrgb: convertLrgbToOklab,\n\t\trgb: convertRgbToOklab\n\t},\n\n\tranges: {\n\t\tl: [0, 1],\n\t\ta: [-0.4, 0.4],\n\t\tb: [-0.4, 0.4]\n\t},\n\n\tparse: [parseOklab],\n\tserialize: c =>\n\t\t`oklab(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.a !== undefined ? c.a : 'none'\n\t\t} ${c.b !== undefined ? c.b : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`\n};\n\nexport default definition;\n","import { Tok } from '../parse.js';\n\nfunction parseOklch(color, parsed) {\n\tif (!parsed || parsed[0] !== 'oklch') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'oklch' };\n\tconst [, l, c, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = Math.min(\n\t\t\tMath.max(0, l.type === Tok.Number ? l.value : l.value / 100),\n\t\t\t1\n\t\t);\n\t}\n\tif (c.type !== Tok.None) {\n\t\tres.c = Math.max(\n\t\t\t0,\n\t\t\tc.type === Tok.Number ? c.value : (c.value * 0.4) / 100\n\t\t);\n\t}\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseOklch;\n","import lch from '../lch/definition.js';\nimport convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport parseOklch from './parseOklch.js';\n\nconst definition = {\n\t...lch,\n\tmode: 'oklch',\n\n\ttoMode: {\n\t\toklab: c => convertLchToLab(c, 'oklab'),\n\t\trgb: c => convertOklabToRgb(convertLchToLab(c, 'oklab'))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToOklab(c), 'oklch'),\n\t\toklab: c => convertLabToLch(c, 'oklch')\n\t},\n\n\tparse: [parseOklch],\n\tserialize: c =>\n\t\t`oklch(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.c !== undefined ? c.c : 'none'\n\t\t} ${c.h !== undefined ? c.h : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tranges: {\n\t\tl: [0, 1],\n\t\tc: [0, 0.4],\n\t\th: [0, 360]\n\t}\n};\n\nexport default definition;\n","/*\n\tConvert Display P3 values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertP3ToXyz65 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.486570948648216 * r +\n\t\t\t0.265667693169093 * g +\n\t\t\t0.1982172852343625 * b,\n\t\ty:\n\t\t\t0.2289745640697487 * r +\n\t\t\t0.6917385218365062 * g +\n\t\t\t0.079286914093745 * b,\n\t\tz: 0.0 * r + 0.0451133818589026 * g + 1.043944368900976 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertP3ToXyz65;\n","/*\n\tCIE XYZ D65 values to Display P3.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz65ToP3 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb(\n\t\t{\n\t\t\tr:\n\t\t\t\tx * 2.4934969119414263 -\n\t\t\t\ty * 0.9313836179191242 -\n\t\t\t\t0.402710784450717 * z,\n\t\t\tg:\n\t\t\t\tx * -0.8294889695615749 +\n\t\t\t\ty * 1.7626640603183465 +\n\t\t\t\t0.0236246858419436 * z,\n\t\t\tb:\n\t\t\t\tx * 0.0358458302437845 -\n\t\t\t\ty * 0.0761723892680418 +\n\t\t\t\t0.9568845240076871 * z\n\t\t},\n\t\t'p3'\n\t);\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToP3;\n","import rgb from '../rgb/definition.js';\nimport convertP3ToXyz65 from './convertP3ToXyz65.js';\nimport convertXyz65ToP3 from './convertXyz65ToP3.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'p3',\n\tparse: ['display-p3'],\n\tserialize: 'display-p3',\n\n\tfromMode: {\n\t\trgb: color => convertXyz65ToP3(convertRgbToXyz65(color)),\n\t\txyz65: convertXyz65ToP3\n\t},\n\n\ttoMode: {\n\t\trgb: color => convertXyz65ToRgb(convertP3ToXyz65(color)),\n\t\txyz65: convertP3ToXyz65\n\t}\n};\n\nexport default definition;\n","/*\n\tConvert CIE XYZ D50 values to ProPhoto RGB\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst gamma = v => {\n\tlet abs = Math.abs(v);\n\tif (abs >= 1 / 512) {\n\t\treturn Math.sign(v) * Math.pow(abs, 1 / 1.8);\n\t}\n\treturn 16 * v;\n};\n\nconst convertXyz50ToProphoto = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'prophoto',\n\t\tr: gamma(\n\t\t\tx * 1.3457868816471585 -\n\t\t\t\ty * 0.2555720873797946 -\n\t\t\t\t0.0511018649755453 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.5446307051249019 +\n\t\t\t\ty * 1.5082477428451466 +\n\t\t\t\t0.0205274474364214 * z\n\t\t),\n\t\tb: gamma(x * 0.0 + y * 0.0 + 1.2119675456389452 * z)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToProphoto;\n","/*\n\tConvert ProPhoto RGB values to CIE XYZ D50\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst linearize = (v = 0) => {\n\tlet abs = Math.abs(v);\n\tif (abs >= 16 / 512) {\n\t\treturn Math.sign(v) * Math.pow(abs, 1.8);\n\t}\n\treturn v / 16;\n};\n\nconst convertProphotoToXyz50 = prophoto => {\n\tlet r = linearize(prophoto.r);\n\tlet g = linearize(prophoto.g);\n\tlet b = linearize(prophoto.b);\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t0.7977666449006423 * r +\n\t\t\t0.1351812974005331 * g +\n\t\t\t0.0313477341283922 * b,\n\t\ty:\n\t\t\t0.2880748288194013 * r +\n\t\t\t0.7118352342418731 * g +\n\t\t\t0.0000899369387256 * b,\n\t\tz: 0 * r + 0 * g + 0.8251046025104602 * b\n\t};\n\tif (prophoto.alpha !== undefined) {\n\t\tres.alpha = prophoto.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertProphotoToXyz50;\n","import rgb from '../rgb/definition.js';\n\nimport convertXyz50ToProphoto from './convertXyz50ToProphoto.js';\nimport convertProphotoToXyz50 from './convertProphotoToXyz50.js';\n\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\n/*\n\tProPhoto RGB Color space\n\n\tReferences:\n\t\t* https://en.wikipedia.org/wiki/ProPhoto_RGB_color_space\n */\n\nconst definition = {\n\t...rgb,\n\tmode: 'prophoto',\n\tparse: ['prophoto-rgb'],\n\tserialize: 'prophoto-rgb',\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToProphoto,\n\t\trgb: color => convertXyz50ToProphoto(convertRgbToXyz50(color))\n\t},\n\n\ttoMode: {\n\t\txyz50: convertProphotoToXyz50,\n\t\trgb: color => convertXyz50ToRgb(convertProphotoToXyz50(color))\n\t}\n};\n\nexport default definition;\n","/*\n\tConvert CIE XYZ D65 values to Rec. 2020\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.itu.int/rec/R-REC-BT.2020/en\n*/\n\nconst α = 1.09929682680944;\nconst β = 0.018053968510807;\nconst gamma = v => {\n\tconst abs = Math.abs(v);\n\tif (abs > β) {\n\t\treturn (Math.sign(v) || 1) * (α * Math.pow(abs, 0.45) - (α - 1));\n\t}\n\treturn 4.5 * v;\n};\n\nconst convertXyz65ToRec2020 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'rec2020',\n\t\tr: gamma(\n\t\t\tx * 1.7166511879712683 -\n\t\t\t\ty * 0.3556707837763925 -\n\t\t\t\t0.2533662813736599 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.6666843518324893 +\n\t\t\t\ty * 1.6164812366349395 +\n\t\t\t\t0.0157685458139111 * z\n\t\t),\n\t\tb: gamma(\n\t\t\tx * 0.0176398574453108 -\n\t\t\t\ty * 0.0427706132578085 +\n\t\t\t\t0.9421031212354739 * z\n\t\t)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToRec2020;\n","/*\n\tConvert Rec. 2020 values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.itu.int/rec/R-REC-BT.2020/en\n*/\n\nconst α = 1.09929682680944;\nconst β = 0.018053968510807;\n\nconst linearize = (v = 0) => {\n\tlet abs = Math.abs(v);\n\tif (abs < β * 4.5) {\n\t\treturn v / 4.5;\n\t}\n\treturn (Math.sign(v) || 1) * Math.pow((abs + α - 1) / α, 1 / 0.45);\n};\n\nconst convertRec2020ToXyz65 = rec2020 => {\n\tlet r = linearize(rec2020.r);\n\tlet g = linearize(rec2020.g);\n\tlet b = linearize(rec2020.b);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.6369580483012911 * r +\n\t\t\t0.1446169035862083 * g +\n\t\t\t0.1688809751641721 * b,\n\t\ty:\n\t\t\t0.262700212011267 * r +\n\t\t\t0.6779980715188708 * g +\n\t\t\t0.059301716469862 * b,\n\t\tz: 0 * r + 0.0280726930490874 * g + 1.0609850577107909 * b\n\t};\n\tif (rec2020.alpha !== undefined) {\n\t\tres.alpha = rec2020.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRec2020ToXyz65;\n","import rgb from '../rgb/definition.js';\n\nimport convertXyz65ToRec2020 from './convertXyz65ToRec2020.js';\nimport convertRec2020ToXyz65 from './convertRec2020ToXyz65.js';\n\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'rec2020',\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToRec2020,\n\t\trgb: color => convertXyz65ToRec2020(convertRgbToXyz65(color))\n\t},\n\n\ttoMode: {\n\t\txyz65: convertRec2020ToXyz65,\n\t\trgb: color => convertXyz65ToRgb(convertRec2020ToXyz65(color))\n\t},\n\n\tparse: ['rec2020'],\n\tserialize: 'rec2020'\n};\n\nexport default definition;\n","/*\n\tThe XYZ D50 color space\n\t-----------------------\n */\n\nimport convertXyz50ToRgb from './convertXyz50ToRgb.js';\nimport convertXyz50ToLab from '../lab/convertXyz50ToLab.js';\nimport convertRgbToXyz50 from './convertRgbToXyz50.js';\nimport convertLabToXyz50 from '../lab/convertLabToXyz50.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'xyz50',\n\tparse: ['xyz-d50'],\n\tserialize: 'xyz-d50',\n\n\ttoMode: {\n\t\trgb: convertXyz50ToRgb,\n\t\tlab: convertXyz50ToLab\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyz50,\n\t\tlab: convertLabToXyz50\n\t},\n\n\tchannels: ['x', 'y', 'z', 'alpha'],\n\n\tranges: {\n\t\tx: [0, 0.964],\n\t\ty: [0, 0.999],\n\t\tz: [0, 0.825]\n\t},\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","/*\n\tChromatic adaptation of CIE XYZ from D65 to D50 white point\n\tusing the Bradford method.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\t\n*/\n\nconst convertXyz65ToXyz50 = xyz65 => {\n\tlet { x, y, z, alpha } = xyz65;\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t1.0479298208405488 * x +\n\t\t\t0.0229467933410191 * y -\n\t\t\t0.0501922295431356 * z,\n\t\ty:\n\t\t\t0.0296278156881593 * x +\n\t\t\t0.990434484573249 * y -\n\t\t\t0.0170738250293851 * z,\n\t\tz:\n\t\t\t-0.0092430581525912 * x +\n\t\t\t0.0150551448965779 * y +\n\t\t\t0.7518742899580008 * z\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToXyz50;\n","/*\n\tChromatic adaptation of CIE XYZ from D50 to D65 white point\n\tusing the Bradford method.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\t\n*/\n\nconst convertXyz50ToXyz65 = xyz50 => {\n\tlet { x, y, z, alpha } = xyz50;\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.9554734527042182 * x -\n\t\t\t0.0230985368742614 * y +\n\t\t\t0.0632593086610217 * z,\n\t\ty:\n\t\t\t-0.0283697069632081 * x +\n\t\t\t1.0099954580058226 * y +\n\t\t\t0.021041398966943 * z,\n\t\tz:\n\t\t\t0.0123140016883199 * x -\n\t\t\t0.0205076964334779 * y +\n\t\t\t1.3303659366080753 * z\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToXyz65;\n","/*\n\tThe XYZ D65 color space\n\t-----------------------\n */\n\nimport convertXyz65ToRgb from './convertXyz65ToRgb.js';\nimport convertRgbToXyz65 from './convertRgbToXyz65.js';\n\nimport convertXyz65ToXyz50 from './convertXyz65ToXyz50.js';\nimport convertXyz50ToXyz65 from './convertXyz50ToXyz65.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'xyz65',\n\n\ttoMode: {\n\t\trgb: convertXyz65ToRgb,\n\t\txyz50: convertXyz65ToXyz50\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyz65,\n\t\txyz50: convertXyz50ToXyz65\n\t},\n\n\tranges: {\n\t\tx: [0, 0.95],\n\t\ty: [0, 1],\n\t\tz: [0, 1.088]\n\t},\n\n\tchannels: ['x', 'y', 'z', 'alpha'],\n\n\tparse: ['xyz', 'xyz-d65'],\n\tserialize: 'xyz-d65',\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","// Color space definitions\nimport modeA98 from '../a98/definition.js';\nimport modeHsl from '../hsl/definition.js';\nimport modeHsv from '../hsv/definition.js';\nimport modeHwb from '../hwb/definition.js';\nimport modeLab from '../lab/definition.js';\nimport modeLab65 from '../lab65/definition.js';\nimport modeLch from '../lch/definition.js';\nimport modeLch65 from '../lch65/definition.js';\nimport modeLrgb from '../lrgb/definition.js';\nimport modeOklab from '../oklab/definition.js';\nimport modeOklch from '../oklch/definition.js';\nimport modeP3 from '../p3/definition.js';\nimport modeProphoto from '../prophoto/definition.js';\nimport modeRec2020 from '../rec2020/definition.js';\nimport modeRgb from '../rgb/definition.js';\nimport modeXyz50 from '../xyz50/definition.js';\nimport modeXyz65 from '../xyz65/definition.js';\nimport { useMode } from '../modes.js';\n\nexport const a98 = useMode(modeA98);\nexport const hsl = useMode(modeHsl);\nexport const hsv = useMode(modeHsv);\nexport const hwb = useMode(modeHwb);\nexport const lab = useMode(modeLab);\nexport const lab65 = useMode(modeLab65);\nexport const lch = useMode(modeLch);\nexport const lch65 = useMode(modeLch65);\nexport const lrgb = useMode(modeLrgb);\nexport const oklab = useMode(modeOklab);\nexport const oklch = useMode(modeOklch);\nexport const p3 = useMode(modeP3);\nexport const prophoto = useMode(modeProphoto);\nexport const rec2020 = useMode(modeRec2020);\nexport const rgb = useMode(modeRgb);\nexport const xyz50 = useMode(modeXyz50);\nexport const xyz65 = useMode(modeXyz65);\n","export const M = [-0.14861, 1.78277, -0.29227, -0.90649, 1.97294, 0];\n\nexport const degToRad = Math.PI / 180;\nexport const radToDeg = 180 / Math.PI;\n","/*\n\tConvert a RGB color to the Cubehelix HSL color space.\n\n\tThis computation is not present in Green's paper:\n\thttps://arxiv.org/pdf/1108.5083.pdf\n\n\t...but can be derived from the inverse, HSL to RGB conversion.\n\n\tIt matches the math in Mike Bostock's D3 implementation:\n\n\thttps://github.com/d3/d3-color/blob/master/src/cubehelix.js\n */\n\nimport { radToDeg, M } from './constants.js';\n\nlet DE = M[3] * M[4];\nlet BE = M[1] * M[4];\nlet BCAD = M[1] * M[2] - M[0] * M[3];\n\nconst convertRgbToCubehelix = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet l = (BCAD * b + r * DE - g * BE) / (BCAD + DE - BE);\n\tlet x = b - l;\n\tlet y = (M[4] * (g - l) - M[2] * x) / M[3];\n\n\tlet res = {\n\t\tmode: 'cubehelix',\n\t\tl: l,\n\t\ts:\n\t\t\tl === 0 || l === 1\n\t\t\t\t? undefined\n\t\t\t\t: Math.sqrt(x * x + y * y) / (M[4] * l * (1 - l))\n\t};\n\n\tif (res.s) res.h = Math.atan2(y, x) * radToDeg - 120;\n\tif (alpha !== undefined) res.alpha = alpha;\n\n\treturn res;\n};\n\nexport default convertRgbToCubehelix;\n","import { degToRad, M } from './constants.js';\n\nconst convertCubehelixToRgb = ({ h, s, l, alpha }) => {\n\tlet res = { mode: 'rgb' };\n\n\th = (h === undefined ? 0 : h + 120) * degToRad;\n\tif (l === undefined) l = 0;\n\n\tlet amp = s === undefined ? 0 : s * l * (1 - l);\n\n\tlet cosh = Math.cos(h);\n\tlet sinh = Math.sin(h);\n\n\tres.r = l + amp * (M[0] * cosh + M[1] * sinh);\n\tres.g = l + amp * (M[2] * cosh + M[3] * sinh);\n\tres.b = l + amp * (M[4] * cosh + M[5] * sinh);\n\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertCubehelixToRgb;\n","/* \n\tDave Green's Cubehelix\n\t----------------------\n\n\tGreen, D. A., 2011, \"A colour scheme for the display of astronomical intensity images\", \n\tBulletin of the Astronomical Society of India, 39, 289. (2011BASI...39..289G at ADS.) \n\n\thttps://www.mrao.cam.ac.uk/%7Edag/CUBEHELIX/\n\thttps://arxiv.org/pdf/1108.5083.pdf\n\n\tAlthough Cubehelix was defined to be a method to obtain a colour scheme,\n\tit actually contains a definition of a colour space, as identified by \n\tMike Bostock and implemented in D3.js.\n\n\tGreen's paper introduces the following terminology:\n\n\t* \ta `lightness` dimension in the interval [0, 1] \n\t\ton which we interpolate to obtain the colour scheme\n\t*\ta `start` colour that is analogous to a Hue in HSL space\n\t*\ta number of `rotations` around the Hue cylinder.\n\t*\ta `hue` parameter which should more appropriately be called `saturation`\n\t\n\tAs such, the original definition of the Cubehelix scheme is actually an\n\tinterpolation between two colors in the Cubehelix space:\n\n\tH: start \t\t\t\tH: start + 360 * rotations\n\tS: hue \t\t\t->\t\tS: hue\n\tL: 0\t\t\t\t\tL: 1\n\n\tWe can therefore extend the interpolation to any two colors in this space,\n\twith a variable Saturation and a Lightness interval other than the fixed 0 -> 1.\n*/\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport convertRgbToCubehelix from './convertRgbToCubehelix.js';\nimport convertCubehelixToRgb from './convertCubehelixToRgb.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'cubehelix',\n\tchannels: ['h', 's', 'l', 'alpha'],\n\tparse: ['--cubehelix'],\n\tserialize: '--cubehelix',\n\n\tranges: {\n\t\th: [0, 360],\n\t\ts: [0, 4.614],\n\t\tl: [0, 1]\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToCubehelix\n\t},\n\n\ttoMode: {\n\t\trgb: convertCubehelixToRgb\n\t},\n\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","export const kE = 1;\nexport const kCH = 1;\nexport const θ = (26 / 180) * Math.PI;\nexport const cosθ = Math.cos(θ);\nexport const sinθ = Math.sin(θ);\nexport const factor = 100 / Math.log(139 / 100); // ~ 303.67\n","import { kCH, kE, sinθ, cosθ, θ, factor } from './constants.js';\n\n/*\n\tConvert DIN99o LCh to CIELab D65\n\t--------------------------------\n */\n\nconst convertDlchToLab65 = ({ l, c, h, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (c === undefined) c = 0;\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode: 'lab65',\n\t\tl: (Math.exp((l * kE) / factor) - 1) / 0.0039\n\t};\n\n\tlet G = (Math.exp(0.0435 * c * kCH * kE) - 1) / 0.075;\n\tlet e = G * Math.cos((h / 180) * Math.PI - θ);\n\tlet f = G * Math.sin((h / 180) * Math.PI - θ);\n\tres.a = e * cosθ - (f / 0.83) * sinθ;\n\tres.b = e * sinθ + (f / 0.83) * cosθ;\n\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertDlchToLab65;\n","import { kCH, kE, sinθ, cosθ, θ, factor } from './constants.js';\nimport normalizeHue from '../util/normalizeHue.js';\n\n/*\n\tConvert CIELab D65 to DIN99o LCh\n\t================================\n */\n\nconst convertLab65ToDlch = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet e = a * cosθ + b * sinθ;\n\tlet f = 0.83 * (b * cosθ - a * sinθ);\n\tlet G = Math.sqrt(e * e + f * f);\n\tlet res = {\n\t\tmode: 'dlch',\n\t\tl: (factor / kE) * Math.log(1 + 0.0039 * l),\n\t\tc: Math.log(1 + 0.075 * G) / (0.0435 * kCH * kE)\n\t};\n\n\tif (res.c) {\n\t\tres.h = normalizeHue(((Math.atan2(f, e) + θ) / Math.PI) * 180);\n\t}\n\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLab65ToDlch;\n","import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\nimport convertDlchToLab65 from '../dlch/convertDlchToLab65.js';\nimport convertLab65ToDlch from '../dlch/convertLab65ToDlch.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst convertDlabToLab65 = c => convertDlchToLab65(convertLabToLch(c, 'dlch'));\nconst convertLab65ToDlab = c => convertLchToLab(convertLab65ToDlch(c), 'dlab');\n\nconst definition = {\n\tmode: 'dlab',\n\n\tparse: ['--din99o-lab'],\n\tserialize: '--din99o-lab',\n\n\ttoMode: {\n\t\tlab65: convertDlabToLab65,\n\t\trgb: c => convertLab65ToRgb(convertDlabToLab65(c))\n\t},\n\n\tfromMode: {\n\t\tlab65: convertLab65ToDlab,\n\t\trgb: c => convertLab65ToDlab(convertRgbToLab65(c))\n\t},\n\n\tchannels: ['l', 'a', 'b', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-40.09, 45.501],\n\t\tb: [-40.469, 44.344]\n\t},\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\n\nexport default definition;\n","import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertDlchToLab65 from './convertDlchToLab65.js';\nimport convertLab65ToDlch from './convertLab65ToDlch.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'dlch',\n\n\tparse: ['--din99o-lch'],\n\tserialize: '--din99o-lch',\n\n\ttoMode: {\n\t\tlab65: convertDlchToLab65,\n\t\tdlab: c => convertLchToLab(c, 'dlab'),\n\t\trgb: c => convertLab65ToRgb(convertDlchToLab65(c))\n\t},\n\n\tfromMode: {\n\t\tlab65: convertLab65ToDlch,\n\t\tdlab: c => convertLabToLch(c, 'dlch'),\n\t\trgb: c => convertLab65ToDlch(convertRgbToLab65(c))\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 51.484],\n\t\th: [0, 360]\n\t},\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\tc: interpolatorLinear,\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHsiToRgb({ h, s, i, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (i === undefined) i = 0;\n\tlet f = Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tg: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tb: i * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tg: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tb: i * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = {\n\t\t\t\tr: i * (1 - s),\n\t\t\t\tg: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tb: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = {\n\t\t\t\tr: i * (1 - s),\n\t\t\t\tg: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tb: i * (1 + s * (3 / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tg: i * (1 - s),\n\t\t\t\tb: i * (1 + s * (3 / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tg: i * (1 - s),\n\t\t\t\tb: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: i * (1 - s), g: i * (1 - s), b: i * (1 - s) };\n\t}\n\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsi({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsi',\n\t\ts: r + g + b === 0 ? 0 : 1 - (3 * m) / (r + g + b),\n\t\ti: (r + g + b) / 3\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","import convertHsiToRgb from './convertHsiToRgb.js';\nimport convertRgbToHsi from './convertRgbToHsi.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsi',\n\n\ttoMode: {\n\t\trgb: convertHsiToRgb\n\t},\n\n\tparse: ['--hsi'],\n\tserialize: '--hsi',\n\n\tfromMode: {\n\t\trgb: convertRgbToHsi\n\t},\n\n\tchannels: ['h', 's', 'i', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\ti: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","/*\n\tRelative XYZ has Y=1 for media white,\n\tBT.2048 says media white Y=203 (at PQ 58).\n\tSee: https://www.itu.int/dms_pub/itu-r/opb/rep/R-REP-BT.2408-3-2019-PDF-E.pdf\n*/\nexport const YW = 203;\n","/*\n\thttps://en.wikipedia.org/wiki/Transfer_functions_in_imaging\n*/\n\nexport const M1 = 0.1593017578125;\nexport const M2 = 78.84375;\nexport const C1 = 0.8359375;\nexport const C2 = 18.8515625;\nexport const C3 = 18.6875;\n\n/*\n\tPerceptual Quantizer, as defined in Rec. BT 2100-2 (2018)\n\n\t* https://www.itu.int/rec/R-REC-BT.2100-2-201807-I/en\n\t* https://en.wikipedia.org/wiki/Perceptual_quantizer\n*/\n\n/* PQ EOTF, defined for `v` in [0,1]. */\nexport function transferPqDecode(v) {\n\tif (v < 0) return 0;\n\tconst c = Math.pow(v, 1 / M2);\n\treturn 1e4 * Math.pow(Math.max(0, c - C1) / (C2 - C3 * c), 1 / M1);\n}\n\n/* PQ EOTF^-1, defined for `v` in [0, 1e4]. */\nexport function transferPqEncode(v) {\n\tif (v < 0) return 0;\n\tconst c = Math.pow(v / 1e4, M1);\n\treturn Math.pow((C1 + C2 * c) / (1 + C3 * c), M2);\n}\n","import { YW } from '../hdr/constants.js';\nimport { transferPqDecode } from '../hdr/transfer.js';\n\nconst toRel = c => Math.max(c / YW, 0);\n\nconst convertItpToXyz65 = ({ i, t, p, alpha }) => {\n\tif (i === undefined) i = 0;\n\tif (t === undefined) t = 0;\n\tif (p === undefined) p = 0;\n\n\tconst l = transferPqDecode(\n\t\ti + 0.008609037037932761 * t + 0.11102962500302593 * p\n\t);\n\tconst m = transferPqDecode(\n\t\ti - 0.00860903703793275 * t - 0.11102962500302599 * p\n\t);\n\tconst s = transferPqDecode(\n\t\ti + 0.5600313357106791 * t - 0.32062717498731885 * p\n\t);\n\n\tconst res = {\n\t\tmode: 'xyz65',\n\t\tx: toRel(\n\t\t\t2.0701522183894219 * l -\n\t\t\t\t1.3263473389671556 * m +\n\t\t\t\t0.2066510476294051 * s\n\t\t),\n\t\ty: toRel(\n\t\t\t0.3647385209748074 * l +\n\t\t\t\t0.680566024947227 * m -\n\t\t\t\t0.0453045459220346 * s\n\t\t),\n\t\tz: toRel(\n\t\t\t-0.049747207535812 * l -\n\t\t\t\t0.0492609666966138 * m +\n\t\t\t\t1.1880659249923042 * s\n\t\t)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertItpToXyz65;\n","import { YW } from '../hdr/constants.js';\nimport { transferPqEncode } from '../hdr/transfer.js';\n\nconst toAbs = (c = 0) => Math.max(c * YW, 0);\n\nconst convertXyz65ToItp = ({ x, y, z, alpha }) => {\n\tconst absX = toAbs(x);\n\tconst absY = toAbs(y);\n\tconst absZ = toAbs(z);\n\tconst l = transferPqEncode(\n\t\t0.3592832590121217 * absX +\n\t\t\t0.6976051147779502 * absY -\n\t\t\t0.0358915932320289 * absZ\n\t);\n\tconst m = transferPqEncode(\n\t\t-0.1920808463704995 * absX +\n\t\t\t1.1004767970374323 * absY +\n\t\t\t0.0753748658519118 * absZ\n\t);\n\tconst s = transferPqEncode(\n\t\t0.0070797844607477 * absX +\n\t\t\t0.0748396662186366 * absY +\n\t\t\t0.8433265453898765 * absZ\n\t);\n\n\tconst i = 0.5 * l + 0.5 * m;\n\tconst t = 1.61376953125 * l - 3.323486328125 * m + 1.709716796875 * s;\n\tconst p = 4.378173828125 * l - 4.24560546875 * m - 0.132568359375 * s;\n\n\tconst res = { mode: 'itp', i, t, p };\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToItp;\n","import { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport convertItpToXyz65 from './convertItpToXyz65.js';\nimport convertXyz65ToItp from './convertXyz65ToItp.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\n/*\n  ICtCp (or ITP) color space, as defined in ITU-R Recommendation BT.2100.\n\n  ICtCp is drafted to be supported in CSS within\n  [CSS Color HDR Module Level 1](https://drafts.csswg.org/css-color-hdr/#ICtCp) spec.\n*/\n\nconst definition = {\n\tmode: 'itp',\n\tchannels: ['i', 't', 'p', 'alpha'],\n\tparse: ['--ictcp'],\n\tserialize: '--ictcp',\n\n\ttoMode: {\n\t\txyz65: convertItpToXyz65,\n\t\trgb: color => convertXyz65ToRgb(convertItpToXyz65(color))\n\t},\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToItp,\n\t\trgb: color => convertXyz65ToItp(convertRgbToXyz65(color))\n\t},\n\n\tranges: {\n\t\ti: [0, 0.581],\n\t\tt: [-0.369, 0.272],\n\t\tp: [-0.164, 0.331]\n\t},\n\n\tinterpolate: {\n\t\ti: interpolatorLinear,\n\t\tt: interpolatorLinear,\n\t\tp: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","import { M1 as n, C1, C2, C3 } from '../hdr/transfer.js';\nconst p = 134.03437499999998; // = 1.7 * 2523 / Math.pow(2, 5);\nconst d0 = 1.6295499532821566e-11;\n\n/* \n\tThe encoding function is derived from Perceptual Quantizer.\n*/\nconst jabPqEncode = v => {\n\tif (v < 0) return 0;\n\tlet vn = Math.pow(v / 10000, n);\n\treturn Math.pow((C1 + C2 * vn) / (1 + C3 * vn), p);\n};\n\n// Convert to Absolute XYZ\nconst abs = (v = 0) => Math.max(v * 203, 0);\n\nconst convertXyz65ToJab = ({ x, y, z, alpha }) => {\n\tx = abs(x);\n\ty = abs(y);\n\tz = abs(z);\n\n\tlet xp = 1.15 * x - 0.15 * z;\n\tlet yp = 0.66 * y + 0.34 * x;\n\n\tlet l = jabPqEncode(0.41478972 * xp + 0.579999 * yp + 0.014648 * z);\n\tlet m = jabPqEncode(-0.20151 * xp + 1.120649 * yp + 0.0531008 * z);\n\tlet s = jabPqEncode(-0.0166008 * xp + 0.2648 * yp + 0.6684799 * z);\n\n\tlet i = (l + m) / 2;\n\n\tlet res = {\n\t\tmode: 'jab',\n\t\tj: (0.44 * i) / (1 - 0.56 * i) - d0,\n\t\ta: 3.524 * l - 4.066708 * m + 0.542708 * s,\n\t\tb: 0.199076 * l + 1.096799 * m - 1.295875 * s\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToJab;\n","import { M1 as n, C1, C2, C3 } from '../hdr/transfer.js';\nconst p = 134.03437499999998; // = 1.7 * 2523 / Math.pow(2, 5);\nconst d0 = 1.6295499532821566e-11;\n\n/* \n\tThe encoding function is derived from Perceptual Quantizer.\n*/\nconst jabPqDecode = v => {\n\tif (v < 0) return 0;\n\tlet vp = Math.pow(v, 1 / p);\n\treturn 10000 * Math.pow((C1 - vp) / (C3 * vp - C2), 1 / n);\n};\n\nconst rel = v => v / 203;\n\nconst convertJabToXyz65 = ({ j, a, b, alpha }) => {\n\tif (j === undefined) j = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet i = (j + d0) / (0.44 + 0.56 * (j + d0));\n\n\tlet l = jabPqDecode(i + 0.13860504 * a + 0.058047316 * b);\n\tlet m = jabPqDecode(i - 0.13860504 * a - 0.058047316 * b);\n\tlet s = jabPqDecode(i - 0.096019242 * a - 0.8118919 * b);\n\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx: rel(\n\t\t\t1.661373024652174 * l -\n\t\t\t\t0.914523081304348 * m +\n\t\t\t\t0.23136208173913045 * s\n\t\t),\n\t\ty: rel(\n\t\t\t-0.3250758611844533 * l +\n\t\t\t\t1.571847026732543 * m -\n\t\t\t\t0.21825383453227928 * s\n\t\t),\n\t\tz: rel(-0.090982811 * l - 0.31272829 * m + 1.5227666 * s)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertJabToXyz65;\n","/*\n\tConvert sRGB to JzAzBz.\n\n\tFor achromatic sRGB colors, adjust the equivalent JzAzBz color\n\tto be achromatic as well, insteading of having a very slight chroma.\n */\n\nimport convertXyz65ToJab from './convertXyz65ToJab.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\n\nconst convertRgbToJab = rgb => {\n\tlet res = convertXyz65ToJab(convertRgbToXyz65(rgb));\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToJab;\n","import convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\nimport convertJabToXyz65 from './convertJabToXyz65.js';\n\nconst convertJabToRgb = color => convertXyz65ToRgb(convertJabToXyz65(color));\n\nexport default convertJabToRgb;\n","/*\n\tThe JzAzBz color space.\n\n\tBased on:\n\n\tMuhammad Safdar, Guihua Cui, Youn Jin Kim, and Ming Ronnier Luo, \n\t\"Perceptually uniform color space for image signals \n\tincluding high dynamic range and wide gamut,\" \n\tOpt. Express 25, 15131-15151 (2017) \n\n\thttps://doi.org/10.1364/OE.25.015131\n */\n\nimport convertXyz65ToJab from './convertXyz65ToJab.js';\nimport convertJabToXyz65 from './convertJabToXyz65.js';\nimport convertRgbToJab from './convertRgbToJab.js';\nimport convertJabToRgb from './convertJabToRgb.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'jab',\n\tchannels: ['j', 'a', 'b', 'alpha'],\n\n\tparse: ['--jzazbz'],\n\tserialize: '--jzazbz',\n\n\tfromMode: {\n\t\trgb: convertRgbToJab,\n\t\txyz65: convertXyz65ToJab\n\t},\n\n\ttoMode: {\n\t\trgb: convertJabToRgb,\n\t\txyz65: convertJabToXyz65\n\t},\n\n\tranges: {\n\t\tj: [0, 0.222],\n\t\ta: [-0.109, 0.129],\n\t\tb: [-0.185, 0.134]\n\t},\n\n\tinterpolate: {\n\t\tj: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\nconst convertJabToJch = ({ j, a, b, alpha }) => {\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet c = Math.sqrt(a * a + b * b);\n\tlet res = {\n\t\tmode: 'jch',\n\t\tj,\n\t\tc\n\t};\n\tif (c) {\n\t\tres.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\t}\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertJabToJch;\n","const convertJchToJab = ({ j, c, h, alpha }) => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode: 'jab',\n\t\tj,\n\t\ta: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tb: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertJchToJab;\n","import convertJabToJch from './convertJabToJch.js';\nimport convertJchToJab from './convertJchToJab.js';\nimport convertJabToRgb from '../jab/convertJabToRgb.js';\nimport convertRgbToJab from '../jab/convertRgbToJab.js';\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'jch',\n\n\tparse: ['--jzczhz'],\n\tserialize: '--jzczhz',\n\n\ttoMode: {\n\t\tjab: convertJchToJab,\n\t\trgb: c => convertJabToRgb(convertJchToJab(c))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertJabToJch(convertRgbToJab(c)),\n\t\tjab: convertJabToJch\n\t},\n\n\tchannels: ['j', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tj: [0, 0.221],\n\t\tc: [0, 0.19],\n\t\th: [0, 360]\n\t},\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tj: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\nconst convertLuvToLchuv = ({ l, u, v, alpha }) => {\n\tif (u === undefined) u = 0;\n\tif (v === undefined) v = 0;\n\tlet c = Math.sqrt(u * u + v * v);\n\tlet res = {\n\t\tmode: 'lchuv',\n\t\tl: l,\n\t\tc: c\n\t};\n\tif (c) {\n\t\tres.h = normalizeHue((Math.atan2(v, u) * 180) / Math.PI);\n\t}\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertLuvToLchuv;\n","const convertLchuvToLuv = ({ l, c, h, alpha }) => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode: 'luv',\n\t\tl: l,\n\t\tu: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tv: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertLchuvToLuv;\n","import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nexport const u_fn = (x, y, z) => (4 * x) / (x + 15 * y + 3 * z);\nexport const v_fn = (x, y, z) => (9 * y) / (x + 15 * y + 3 * z);\n\nexport const un = u_fn(D50.X, D50.Y, D50.Z);\nexport const vn = v_fn(D50.X, D50.Y, D50.Z);\n\nconst l_fn = value => (value <= e ? k * value : 116 * Math.cbrt(value) - 16);\n\nconst convertXyz50ToLuv = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet l = l_fn(y / D50.Y);\n\tlet u = u_fn(x, y, z);\n\tlet v = v_fn(x, y, z);\n\n\t// guard against NaNs produced by `xyz(0 0 0)` black\n\tif (!isFinite(u) || !isFinite(v)) {\n\t\tl = u = v = 0;\n\t} else {\n\t\tu = 13 * l * (u - un);\n\t\tv = 13 * l * (v - vn);\n\t}\n\n\tlet res = {\n\t\tmode: 'luv',\n\t\tl,\n\t\tu,\n\t\tv\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz50ToLuv;\n","import { k } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nexport const u_fn = (x, y, z) => (4 * x) / (x + 15 * y + 3 * z);\nexport const v_fn = (x, y, z) => (9 * y) / (x + 15 * y + 3 * z);\n\nexport const un = u_fn(D50.X, D50.Y, D50.Z);\nexport const vn = v_fn(D50.X, D50.Y, D50.Z);\n\nconst convertLuvToXyz50 = ({ l, u, v, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (l === 0) {\n\t\treturn { mode: 'xyz50', x: 0, y: 0, z: 0 };\n\t}\n\n\tif (u === undefined) u = 0;\n\tif (v === undefined) v = 0;\n\n\tlet up = u / (13 * l) + un;\n\tlet vp = v / (13 * l) + vn;\n\tlet y = D50.Y * (l <= 8 ? l / k : Math.pow((l + 16) / 116, 3));\n\tlet x = (y * (9 * up)) / (4 * vp);\n\tlet z = (y * (12 - 3 * up - 20 * vp)) / (4 * vp);\n\n\tlet res = { mode: 'xyz50', x, y, z };\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLuvToXyz50;\n","/*\n\tCIELChuv color space\n\t--------------------\n\n\tReference: \n\n\t\thttps://en.wikipedia.org/wiki/CIELUV\n */\n\nimport convertLuvToLchuv from './convertLuvToLchuv.js';\nimport convertLchuvToLuv from './convertLchuvToLuv.js';\nimport convertXyz50ToLuv from '../luv/convertXyz50ToLuv.js';\nimport convertLuvToXyz50 from '../luv/convertLuvToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst convertRgbToLchuv = rgb =>\n\tconvertLuvToLchuv(convertXyz50ToLuv(convertRgbToXyz50(rgb)));\nconst convertLchuvToRgb = lchuv =>\n\tconvertXyz50ToRgb(convertLuvToXyz50(convertLchuvToLuv(lchuv)));\n\nconst definition = {\n\tmode: 'lchuv',\n\n\ttoMode: {\n\t\tluv: convertLchuvToLuv,\n\t\trgb: convertLchuvToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToLchuv,\n\t\tluv: convertLuvToLchuv\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tparse: ['--lchuv'],\n\tserialize: '--lchuv',\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 176.956],\n\t\th: [0, 360]\n\t},\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","/*\n\tCIELUV color space\n\t------------------\n\n\tReference: \n\n\t\thttps://en.wikipedia.org/wiki/CIELUV\n */\n\nimport convertXyz50ToLuv from './convertXyz50ToLuv.js';\nimport convertLuvToXyz50 from './convertLuvToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'luv',\n\n\ttoMode: {\n\t\txyz50: convertLuvToXyz50,\n\t\trgb: luv => convertXyz50ToRgb(convertLuvToXyz50(luv))\n\t},\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToLuv,\n\t\trgb: rgb => convertXyz50ToLuv(convertRgbToXyz50(rgb))\n\t},\n\n\tchannels: ['l', 'u', 'v', 'alpha'],\n\n\tparse: ['--luv'],\n\tserialize: '--luv',\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tu: [-84.936, 175.042],\n\t\tv: [-125.882, 87.243]\n\t},\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\tu: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","/*\n\tAdapted from code by Björn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Björn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\n\nexport function toe(x) {\n\tconst k_1 = 0.206;\n\tconst k_2 = 0.03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (\n\t\t0.5 *\n\t\t(k_3 * x -\n\t\t\tk_1 +\n\t\t\tMath.sqrt((k_3 * x - k_1) * (k_3 * x - k_1) + 4 * k_2 * k_3 * x))\n\t);\n}\n\nexport function toe_inv(x) {\n\tconst k_1 = 0.206;\n\tconst k_2 = 0.03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (x * x + k_1 * x) / (k_3 * (x + k_2));\n}\n\n// Finds the maximum saturation possible for a given hue that fits in sRGB\n// Saturation here is defined as S = C/L\n// a and b must be normalized so a^2 + b^2 == 1\nfunction compute_max_saturation(a, b) {\n\t// Max saturation will be when one of r, g or b goes below zero.\n\n\t// Select different coefficients depending on which component goes below zero first\n\tlet k0, k1, k2, k3, k4, wl, wm, ws;\n\n\tif (-1.88170328 * a - 0.80936493 * b > 1) {\n\t\t// Red component\n\t\tk0 = +1.19086277;\n\t\tk1 = +1.76576728;\n\t\tk2 = +0.59662641;\n\t\tk3 = +0.75515197;\n\t\tk4 = +0.56771245;\n\t\twl = +4.0767416621;\n\t\twm = -3.3077115913;\n\t\tws = +0.2309699292;\n\t} else if (1.81444104 * a - 1.19445276 * b > 1) {\n\t\t// Green component\n\t\tk0 = +0.73956515;\n\t\tk1 = -0.45954404;\n\t\tk2 = +0.08285427;\n\t\tk3 = +0.1254107;\n\t\tk4 = +0.14503204;\n\t\twl = -1.2684380046;\n\t\twm = +2.6097574011;\n\t\tws = -0.3413193965;\n\t} else {\n\t\t// Blue component\n\t\tk0 = +1.35733652;\n\t\tk1 = -0.00915799;\n\t\tk2 = -1.1513021;\n\t\tk3 = -0.50559606;\n\t\tk4 = +0.00692167;\n\t\twl = -0.0041960863;\n\t\twm = -0.7034186147;\n\t\tws = +1.707614701;\n\t}\n\n\t// Approximate max saturation using a polynomial:\n\tlet S = k0 + k1 * a + k2 * b + k3 * a * a + k4 * a * b;\n\n\t// Do one step Halley's method to get closer\n\t// this gives an error less than 10e6, except for some blue hues where the dS/dh is close to infinite\n\t// this should be sufficient for most applications, otherwise do two/three steps\n\n\tlet k_l = +0.3963377774 * a + 0.2158037573 * b;\n\tlet k_m = -0.1055613458 * a - 0.0638541728 * b;\n\tlet k_s = -0.0894841775 * a - 1.291485548 * b;\n\n\t{\n\t\tlet l_ = 1 + S * k_l;\n\t\tlet m_ = 1 + S * k_m;\n\t\tlet s_ = 1 + S * k_s;\n\n\t\tlet l = l_ * l_ * l_;\n\t\tlet m = m_ * m_ * m_;\n\t\tlet s = s_ * s_ * s_;\n\n\t\tlet l_dS = 3 * k_l * l_ * l_;\n\t\tlet m_dS = 3 * k_m * m_ * m_;\n\t\tlet s_dS = 3 * k_s * s_ * s_;\n\n\t\tlet l_dS2 = 6 * k_l * k_l * l_;\n\t\tlet m_dS2 = 6 * k_m * k_m * m_;\n\t\tlet s_dS2 = 6 * k_s * k_s * s_;\n\n\t\tlet f = wl * l + wm * m + ws * s;\n\t\tlet f1 = wl * l_dS + wm * m_dS + ws * s_dS;\n\t\tlet f2 = wl * l_dS2 + wm * m_dS2 + ws * s_dS2;\n\n\t\tS = S - (f * f1) / (f1 * f1 - 0.5 * f * f2);\n\t}\n\n\treturn S;\n}\n\nexport function find_cusp(a, b) {\n\t// First, find the maximum saturation (saturation S = C/L)\n\tlet S_cusp = compute_max_saturation(a, b);\n\n\t// Convert to linear sRGB to find the first point where at least one of r,g or b >= 1:\n\tlet rgb = convertOklabToLrgb({ l: 1, a: S_cusp * a, b: S_cusp * b });\n\tlet L_cusp = Math.cbrt(1 / Math.max(rgb.r, rgb.g, rgb.b));\n\tlet C_cusp = L_cusp * S_cusp;\n\n\treturn [L_cusp, C_cusp];\n}\n\n// Finds intersection of the line defined by\n// L = L0 * (1 - t) + t * L1;\n// C = t * C1;\n// a and b must be normalized so a^2 + b^2 == 1\nfunction find_gamut_intersection(a, b, L1, C1, L0, cusp = null) {\n\tif (!cusp) {\n\t\t// Find the cusp of the gamut triangle\n\t\tcusp = find_cusp(a, b);\n\t}\n\n\t// Find the intersection for upper and lower half seprately\n\tlet t;\n\tif ((L1 - L0) * cusp[1] - (cusp[0] - L0) * C1 <= 0) {\n\t\t// Lower half\n\n\t\tt = (cusp[1] * L0) / (C1 * cusp[0] + cusp[1] * (L0 - L1));\n\t} else {\n\t\t// Upper half\n\n\t\t// First intersect with triangle\n\t\tt = (cusp[1] * (L0 - 1)) / (C1 * (cusp[0] - 1) + cusp[1] * (L0 - L1));\n\n\t\t// Then one step Halley's method\n\t\t{\n\t\t\tlet dL = L1 - L0;\n\t\t\tlet dC = C1;\n\n\t\t\tlet k_l = +0.3963377774 * a + 0.2158037573 * b;\n\t\t\tlet k_m = -0.1055613458 * a - 0.0638541728 * b;\n\t\t\tlet k_s = -0.0894841775 * a - 1.291485548 * b;\n\n\t\t\tlet l_dt = dL + dC * k_l;\n\t\t\tlet m_dt = dL + dC * k_m;\n\t\t\tlet s_dt = dL + dC * k_s;\n\n\t\t\t// If higher accuracy is required, 2 or 3 iterations of the following block can be used:\n\t\t\t{\n\t\t\t\tlet L = L0 * (1 - t) + t * L1;\n\t\t\t\tlet C = t * C1;\n\n\t\t\t\tlet l_ = L + C * k_l;\n\t\t\t\tlet m_ = L + C * k_m;\n\t\t\t\tlet s_ = L + C * k_s;\n\n\t\t\t\tlet l = l_ * l_ * l_;\n\t\t\t\tlet m = m_ * m_ * m_;\n\t\t\t\tlet s = s_ * s_ * s_;\n\n\t\t\t\tlet ldt = 3 * l_dt * l_ * l_;\n\t\t\t\tlet mdt = 3 * m_dt * m_ * m_;\n\t\t\t\tlet sdt = 3 * s_dt * s_ * s_;\n\n\t\t\t\tlet ldt2 = 6 * l_dt * l_dt * l_;\n\t\t\t\tlet mdt2 = 6 * m_dt * m_dt * m_;\n\t\t\t\tlet sdt2 = 6 * s_dt * s_dt * s_;\n\n\t\t\t\tlet r =\n\t\t\t\t\t4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s - 1;\n\t\t\t\tlet r1 =\n\t\t\t\t\t4.0767416621 * ldt -\n\t\t\t\t\t3.3077115913 * mdt +\n\t\t\t\t\t0.2309699292 * sdt;\n\t\t\t\tlet r2 =\n\t\t\t\t\t4.0767416621 * ldt2 -\n\t\t\t\t\t3.3077115913 * mdt2 +\n\t\t\t\t\t0.2309699292 * sdt2;\n\n\t\t\t\tlet u_r = r1 / (r1 * r1 - 0.5 * r * r2);\n\t\t\t\tlet t_r = -r * u_r;\n\n\t\t\t\tlet g =\n\t\t\t\t\t-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s - 1;\n\t\t\t\tlet g1 =\n\t\t\t\t\t-1.2684380046 * ldt +\n\t\t\t\t\t2.6097574011 * mdt -\n\t\t\t\t\t0.3413193965 * sdt;\n\t\t\t\tlet g2 =\n\t\t\t\t\t-1.2684380046 * ldt2 +\n\t\t\t\t\t2.6097574011 * mdt2 -\n\t\t\t\t\t0.3413193965 * sdt2;\n\n\t\t\t\tlet u_g = g1 / (g1 * g1 - 0.5 * g * g2);\n\t\t\t\tlet t_g = -g * u_g;\n\n\t\t\t\tlet b =\n\t\t\t\t\t-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s - 1;\n\t\t\t\tlet b1 =\n\t\t\t\t\t-0.0041960863 * ldt -\n\t\t\t\t\t0.7034186147 * mdt +\n\t\t\t\t\t1.707614701 * sdt;\n\t\t\t\tlet b2 =\n\t\t\t\t\t-0.0041960863 * ldt2 -\n\t\t\t\t\t0.7034186147 * mdt2 +\n\t\t\t\t\t1.707614701 * sdt2;\n\n\t\t\t\tlet u_b = b1 / (b1 * b1 - 0.5 * b * b2);\n\t\t\t\tlet t_b = -b * u_b;\n\n\t\t\t\tt_r = u_r >= 0 ? t_r : 10e5;\n\t\t\t\tt_g = u_g >= 0 ? t_g : 10e5;\n\t\t\t\tt_b = u_b >= 0 ? t_b : 10e5;\n\n\t\t\t\tt += Math.min(t_r, Math.min(t_g, t_b));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn t;\n}\n\nexport function get_ST_max(a_, b_, cusp = null) {\n\tif (!cusp) {\n\t\tcusp = find_cusp(a_, b_);\n\t}\n\tlet L = cusp[0];\n\tlet C = cusp[1];\n\treturn [C / L, C / (1 - L)];\n}\n\nexport function get_ST_mid(a_, b_) {\n\tlet S =\n\t\t0.11516993 +\n\t\t1 /\n\t\t\t(+7.4477897 +\n\t\t\t\t4.1590124 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(-2.19557347 +\n\t\t\t\t\t\t1.75198401 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-2.13704948 -\n\t\t\t\t\t\t\t\t10.02301043 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(-4.24894561 +\n\t\t\t\t\t\t\t\t\t\t5.38770819 * b_ +\n\t\t\t\t\t\t\t\t\t\t4.69891013 * a_))));\n\n\tlet T =\n\t\t0.11239642 +\n\t\t1 /\n\t\t\t(+1.6132032 -\n\t\t\t\t0.68124379 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(+0.40370612 +\n\t\t\t\t\t\t0.90148123 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-0.27087943 +\n\t\t\t\t\t\t\t\t0.6122399 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(+0.00299215 -\n\t\t\t\t\t\t\t\t\t\t0.45399568 * b_ -\n\t\t\t\t\t\t\t\t\t\t0.14661872 * a_))));\n\n\treturn [S, T];\n}\n\nexport function get_Cs(L, a_, b_) {\n\tlet cusp = find_cusp(a_, b_);\n\n\tlet C_max = find_gamut_intersection(a_, b_, L, 1, L, cusp);\n\tlet ST_max = get_ST_max(a_, b_, cusp);\n\n\tlet S_mid =\n\t\t0.11516993 +\n\t\t1 /\n\t\t\t(+7.4477897 +\n\t\t\t\t4.1590124 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(-2.19557347 +\n\t\t\t\t\t\t1.75198401 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-2.13704948 -\n\t\t\t\t\t\t\t\t10.02301043 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(-4.24894561 +\n\t\t\t\t\t\t\t\t\t\t5.38770819 * b_ +\n\t\t\t\t\t\t\t\t\t\t4.69891013 * a_))));\n\n\tlet T_mid =\n\t\t0.11239642 +\n\t\t1 /\n\t\t\t(+1.6132032 -\n\t\t\t\t0.68124379 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(+0.40370612 +\n\t\t\t\t\t\t0.90148123 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-0.27087943 +\n\t\t\t\t\t\t\t\t0.6122399 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(+0.00299215 -\n\t\t\t\t\t\t\t\t\t\t0.45399568 * b_ -\n\t\t\t\t\t\t\t\t\t\t0.14661872 * a_))));\n\n\tlet k = C_max / Math.min(L * ST_max[0], (1 - L) * ST_max[1]);\n\n\tlet C_a = L * S_mid;\n\tlet C_b = (1 - L) * T_mid;\n\tlet C_mid =\n\t\t0.9 *\n\t\tk *\n\t\tMath.sqrt(\n\t\t\tMath.sqrt(\n\t\t\t\t1 / (1 / (C_a * C_a * C_a * C_a) + 1 / (C_b * C_b * C_b * C_b))\n\t\t\t)\n\t\t);\n\n\tC_a = L * 0.4;\n\tC_b = (1 - L) * 0.8;\n\tlet C_0 = Math.sqrt(1 / (1 / (C_a * C_a) + 1 / (C_b * C_b)));\n\treturn [C_0, C_mid, C_max];\n}\n","/*\n\tAdapted from code by Björn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Björn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport normalizeHue from '../util/normalizeHue.js';\nimport { get_Cs, toe } from './helpers.js';\n\nexport default function convertOklabToOkhsl(lab) {\n\tconst l = lab.l !== undefined ? lab.l : 0;\n\tconst a = lab.a !== undefined ? lab.a : 0;\n\tconst b = lab.b !== undefined ? lab.b : 0;\n\n\tconst ret = { mode: 'okhsl', l: toe(l) };\n\n\tif (lab.alpha !== undefined) {\n\t\tret.alpha = lab.alpha;\n\t}\n\tlet c = Math.sqrt(a * a + b * b);\n\tif (!c) {\n\t\tret.s = 0;\n\t\treturn ret;\n\t}\n\tlet [C_0, C_mid, C_max] = get_Cs(l, a / c, b / c);\n\tlet s;\n\tif (c < C_mid) {\n\t\tlet k_0 = 0;\n\t\tlet k_1 = 0.8 * C_0;\n\t\tlet k_2 = 1 - k_1 / C_mid;\n\t\tlet t = (c - k_0) / (k_1 + k_2 * (c - k_0));\n\t\ts = t * 0.8;\n\t} else {\n\t\tlet k_0 = C_mid;\n\t\tlet k_1 = (0.2 * C_mid * C_mid * 1.25 * 1.25) / C_0;\n\t\tlet k_2 = 1 - k_1 / (C_max - C_mid);\n\t\tlet t = (c - k_0) / (k_1 + k_2 * (c - k_0));\n\t\ts = 0.8 + 0.2 * t;\n\t}\n\tif (s) {\n\t\tret.s = s;\n\t\tret.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\t}\n\treturn ret;\n}\n","/*\n\tAdapted from code by Björn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Björn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport { toe_inv, get_Cs } from './helpers.js';\n\nexport default function convertOkhslToOklab(hsl) {\n\tlet h = hsl.h !== undefined ? hsl.h : 0;\n\tlet s = hsl.s !== undefined ? hsl.s : 0;\n\tlet l = hsl.l !== undefined ? hsl.l : 0;\n\n\tconst ret = { mode: 'oklab', l: toe_inv(l) };\n\n\tif (hsl.alpha !== undefined) {\n\t\tret.alpha = hsl.alpha;\n\t}\n\n\tif (!s || l === 1) {\n\t\tret.a = ret.b = 0;\n\t\treturn ret;\n\t}\n\n\tlet a_ = Math.cos((h / 180) * Math.PI);\n\tlet b_ = Math.sin((h / 180) * Math.PI);\n\tlet [C_0, C_mid, C_max] = get_Cs(ret.l, a_, b_);\n\tlet t, k_0, k_1, k_2;\n\tif (s < 0.8) {\n\t\tt = 1.25 * s;\n\t\tk_0 = 0;\n\t\tk_1 = 0.8 * C_0;\n\t\tk_2 = 1 - k_1 / C_mid;\n\t} else {\n\t\tt = 5 * (s - 0.8);\n\t\tk_0 = C_mid;\n\t\tk_1 = (0.2 * C_mid * C_mid * 1.25 * 1.25) / C_0;\n\t\tk_2 = 1 - k_1 / (C_max - C_mid);\n\t}\n\tlet C = k_0 + (t * k_1) / (1 - k_2 * t);\n\tret.a = C * a_;\n\tret.b = C * b_;\n\n\treturn ret;\n}\n","import convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertOklabToOkhsl from './convertOklabToOkhsl.js';\nimport convertOkhslToOklab from './convertOkhslToOklab.js';\n\nimport modeHsl from '../hsl/definition.js';\n\nconst modeOkhsl = {\n\t...modeHsl,\n\tmode: 'okhsl',\n\tchannels: ['h', 's', 'l', 'alpha'],\n\tparse: ['--okhsl'],\n\tserialize: '--okhsl',\n\tfromMode: {\n\t\toklab: convertOklabToOkhsl,\n\t\trgb: c => convertOklabToOkhsl(convertRgbToOklab(c))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhslToOklab,\n\t\trgb: c => convertOklabToRgb(convertOkhslToOklab(c))\n\t}\n};\n\nexport default modeOkhsl;\n","/*\n\tAdapted from code by Björn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Björn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport normalizeHue from '../util/normalizeHue.js';\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\nimport { get_ST_max, toe_inv, toe } from '../okhsl/helpers.js';\n\nexport default function convertOklabToOkhsv(lab) {\n\tlet l = lab.l !== undefined ? lab.l : 0;\n\tlet a = lab.a !== undefined ? lab.a : 0;\n\tlet b = lab.b !== undefined ? lab.b : 0;\n\n\tlet c = Math.sqrt(a * a + b * b);\n\n\t// TODO: c = 0\n\tlet a_ = c ? a / c : 1;\n\tlet b_ = c ? b / c : 1;\n\n\tlet [S_max, T] = get_ST_max(a_, b_);\n\tlet S_0 = 0.5;\n\tlet k = 1 - S_0 / S_max;\n\n\tlet t = T / (c + l * T);\n\tlet L_v = t * l;\n\tlet C_v = t * c;\n\n\tlet L_vt = toe_inv(L_v);\n\tlet C_vt = (C_v * L_vt) / L_v;\n\n\tlet rgb_scale = convertOklabToLrgb({ l: L_vt, a: a_ * C_vt, b: b_ * C_vt });\n\tlet scale_L = Math.cbrt(\n\t\t1 / Math.max(rgb_scale.r, rgb_scale.g, rgb_scale.b, 0)\n\t);\n\n\tl = l / scale_L;\n\tc = ((c / scale_L) * toe(l)) / l;\n\tl = toe(l);\n\n\tconst ret = {\n\t\tmode: 'okhsv',\n\t\ts: c ? ((S_0 + T) * C_v) / (T * S_0 + T * k * C_v) : 0,\n\t\tv: l ? l / L_v : 0\n\t};\n\tif (ret.s) {\n\t\tret.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\t}\n\tif (lab.alpha !== undefined) {\n\t\tret.alpha = lab.alpha;\n\t}\n\treturn ret;\n}\n","/*\n\tCopyright (c) 2021 Björn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\nimport { get_ST_max, toe_inv } from '../okhsl/helpers.js';\n\nexport default function convertOkhsvToOklab(hsv) {\n\tconst ret = { mode: 'oklab' };\n\tif (hsv.alpha !== undefined) {\n\t\tret.alpha = hsv.alpha;\n\t}\n\n\tconst h = hsv.h !== undefined ? hsv.h : 0;\n\tconst s = hsv.s !== undefined ? hsv.s : 0;\n\tconst v = hsv.v !== undefined ? hsv.v : 0;\n\n\tconst a_ = Math.cos((h / 180) * Math.PI);\n\tconst b_ = Math.sin((h / 180) * Math.PI);\n\n\tconst [S_max, T] = get_ST_max(a_, b_);\n\tconst S_0 = 0.5;\n\tconst k = 1 - S_0 / S_max;\n\tconst L_v = 1 - (s * S_0) / (S_0 + T - T * k * s);\n\tconst C_v = (s * T * S_0) / (S_0 + T - T * k * s);\n\n\tconst L_vt = toe_inv(L_v);\n\tconst C_vt = (C_v * L_vt) / L_v;\n\tconst rgb_scale = convertOklabToLrgb({\n\t\tl: L_vt,\n\t\ta: a_ * C_vt,\n\t\tb: b_ * C_vt\n\t});\n\tconst scale_L = Math.cbrt(\n\t\t1 / Math.max(rgb_scale.r, rgb_scale.g, rgb_scale.b, 0)\n\t);\n\n\tconst L_new = toe_inv(v * L_v);\n\tconst C = (C_v * L_new) / L_v;\n\n\tret.l = L_new * scale_L;\n\tret.a = C * a_ * scale_L;\n\tret.b = C * b_ * scale_L;\n\n\treturn ret;\n}\n","import convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertOklabToOkhsv from './convertOklabToOkhsv.js';\nimport convertOkhsvToOklab from './convertOkhsvToOklab.js';\n\nimport modeHsv from '../hsv/definition.js';\n\nconst modeOkhsv = {\n\t...modeHsv,\n\tmode: 'okhsv',\n\tchannels: ['h', 's', 'v', 'alpha'],\n\tparse: ['--okhsv'],\n\tserialize: '--okhsv',\n\tfromMode: {\n\t\toklab: convertOklabToOkhsv,\n\t\trgb: c => convertOklabToOkhsv(convertRgbToOklab(c))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhsvToOklab,\n\t\trgb: c => convertOklabToRgb(convertOkhsvToOklab(c))\n\t}\n};\n\nexport default modeOkhsv;\n","export const bias = 0.00379307325527544933;\nexport const bias_cbrt = Math.cbrt(bias);\n","import convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\nimport { bias, bias_cbrt } from './constants.js';\n\nconst transfer = v => Math.cbrt(v) - bias_cbrt;\n\nconst convertRgbToXyb = color => {\n\tconst { r, g, b, alpha } = convertRgbToLrgb(color);\n\tconst l = transfer(0.3 * r + 0.622 * g + 0.078 * b + bias);\n\tconst m = transfer(0.23 * r + 0.692 * g + 0.078 * b + bias);\n\tconst s = transfer(\n\t\t0.24342268924547819 * r +\n\t\t\t0.20476744424496821 * g +\n\t\t\t0.5518098665095536 * b +\n\t\t\tbias\n\t);\n\tconst res = {\n\t\tmode: 'xyb',\n\t\tx: (l - m) / 2,\n\t\ty: (l + m) / 2,\n\t\t/* Apply default chroma from luma (subtract Y from B) */\n\t\tb: s - (l + m) / 2\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToXyb;\n","import convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\nimport { bias, bias_cbrt } from './constants.js';\n\nconst transfer = v => Math.pow(v + bias_cbrt, 3);\n\nconst convertXybToRgb = ({ x, y, b, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (b === undefined) b = 0;\n\tconst l = transfer(x + y) - bias;\n\tconst m = transfer(y - x) - bias;\n\t/* Account for chroma from luma: add Y back to B */\n\tconst s = transfer(b + y) - bias;\n\n\tconst res = convertLrgbToRgb({\n\t\tr:\n\t\t\t11.031566904639861 * l -\n\t\t\t9.866943908131562 * m -\n\t\t\t0.16462299650829934 * s,\n\t\tg:\n\t\t\t-3.2541473810744237 * l +\n\t\t\t4.418770377582723 * m -\n\t\t\t0.16462299650829934 * s,\n\t\tb:\n\t\t\t-3.6588512867136815 * l +\n\t\t\t2.7129230459360922 * m +\n\t\t\t1.9459282407775895 * s\n\t});\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertXybToRgb;\n","import { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport convertRgbToXyb from './convertRgbToXyb.js';\nimport convertXybToRgb from './convertXybToRgb.js';\n\n/*\n\tThe XYB color space, used in JPEG XL.\n\tReference: https://ds.jpeg.org/whitepapers/jpeg-xl-whitepaper.pdf\n*/\n\nconst definition = {\n\tmode: 'xyb',\n\tchannels: ['x', 'y', 'b', 'alpha'],\n\tparse: ['--xyb'],\n\tserialize: '--xyb',\n\n\ttoMode: {\n\t\trgb: convertXybToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyb\n\t},\n\n\tranges: {\n\t\tx: [-0.0154, 0.0281],\n\t\ty: [0, 0.8453],\n\t\tb: [-0.2778, 0.388]\n\t},\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","const convertRgbToYiq = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tconst res = {\n\t\tmode: 'yiq',\n\t\ty: 0.29889531 * r + 0.58662247 * g + 0.11448223 * b,\n\t\ti: 0.59597799 * r - 0.2741761 * g - 0.32180189 * b,\n\t\tq: 0.21147017 * r - 0.52261711 * g + 0.31114694 * b\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToYiq;\n","const convertYiqToRgb = ({ y, i, q, alpha }) => {\n\tif (y === undefined) y = 0;\n\tif (i === undefined) i = 0;\n\tif (q === undefined) q = 0;\n\tconst res = {\n\t\tmode: 'rgb',\n\t\tr: y + 0.95608445 * i + 0.6208885 * q,\n\t\tg: y - 0.27137664 * i - 0.6486059 * q,\n\t\tb: y - 1.10561724 * i + 1.70250126 * q\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertYiqToRgb;\n","import convertRgbToYiq from './convertRgbToYiq.js';\nimport convertYiqToRgb from './convertYiqToRgb.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\n/*\n\tYIQ Color Space\n\n\tReferences\n\t----------\n\n\tWikipedia:\n\t\thttps://en.wikipedia.org/wiki/YIQ\n\n\t\"Measuring perceived color difference using YIQ NTSC\n\ttransmission color space in mobile applications\"\n\t\t\n\t\tby Yuriy Kotsarenko, Fernando Ramos in:\n\t\tProgramación Matemática y Software (2010) \n\n\tAvailable at:\n\t\t\n\t\thttp://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf\n */\n\nconst definition = {\n\tmode: 'yiq',\n\n\ttoMode: {\n\t\trgb: convertYiqToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToYiq\n\t},\n\n\tchannels: ['y', 'i', 'q', 'alpha'],\n\n\tparse: ['--yiq'],\n\tserialize: '--yiq',\n\n\tranges: {\n\t\ti: [-0.595, 0.595],\n\t\tq: [-0.522, 0.522]\n\t},\n\n\tinterpolate: {\n\t\ty: interpolatorLinear,\n\t\ti: interpolatorLinear,\n\t\tq: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","// From: https://github.com/d3/d3-format/issues/32\n\nconst r = (value, precision) =>\n\tMath.round(value * (precision = Math.pow(10, precision))) / precision;\n\nconst round =\n\t(precision = 4) =>\n\tvalue =>\n\t\ttypeof value === 'number' ? r(value, precision) : value;\n\nexport default round;\n","// Color space definitions\nimport modeA98 from './a98/definition.js';\nimport modeCubehelix from './cubehelix/definition.js';\nimport modeDlab from './dlab/definition.js';\nimport modeDlch from './dlch/definition.js';\nimport modeHsi from './hsi/definition.js';\nimport modeHsl from './hsl/definition.js';\nimport modeHsv from './hsv/definition.js';\nimport modeHwb from './hwb/definition.js';\nimport modeItp from './itp/definition.js';\nimport modeJab from './jab/definition.js';\nimport modeJch from './jch/definition.js';\nimport modeLab from './lab/definition.js';\nimport modeLab65 from './lab65/definition.js';\nimport modeLch from './lch/definition.js';\nimport modeLch65 from './lch65/definition.js';\nimport modeLchuv from './lchuv/definition.js';\nimport modeLrgb from './lrgb/definition.js';\nimport modeLuv from './luv/definition.js';\nimport modeOkhsl from './okhsl/modeOkhsl.js';\nimport modeOkhsv from './okhsv/modeOkhsv.js';\nimport modeOklab from './oklab/definition.js';\nimport modeOklch from './oklch/definition.js';\nimport modeP3 from './p3/definition.js';\nimport modeProphoto from './prophoto/definition.js';\nimport modeRec2020 from './rec2020/definition.js';\nimport modeRgb from './rgb/definition.js';\nimport modeXyb from './xyb/definition.js';\nimport modeXyz50 from './xyz50/definition.js';\nimport modeXyz65 from './xyz65/definition.js';\nimport modeYiq from './yiq/definition.js';\nimport { useMode } from './modes.js';\n\nexport { default as converter } from './converter.js';\n\nexport {\n\tserializeHex,\n\tserializeHex8,\n\tserializeRgb,\n\tserializeHsl,\n\tformatHex,\n\tformatHex8,\n\tformatRgb,\n\tformatHsl,\n\tformatCss\n} from './formatter.js';\n\nexport { default as colorsNamed } from './colors/named.js';\nexport { default as blend } from './blend.js';\nexport { default as random } from './random.js';\n\nexport {\n\tfixupHueShorter,\n\tfixupHueLonger,\n\tfixupHueIncreasing,\n\tfixupHueDecreasing\n} from './fixup/hue.js';\n\nexport { fixupAlpha } from './fixup/alpha.js';\n\nexport {\n\tmapper,\n\tmapAlphaMultiply,\n\tmapAlphaDivide,\n\tmapTransferLinear,\n\tmapTransferGamma\n} from './map.js';\n\nexport { average, averageAngle, averageNumber } from './average.js';\n\nexport { default as round } from './round.js';\nexport {\n\tinterpolate,\n\tinterpolateWith,\n\tinterpolateWithPremultipliedAlpha\n} from './interpolate/interpolate.js';\n\nexport { interpolatorLinear } from './interpolate/linear.js';\n\nexport { interpolatorPiecewise } from './interpolate/piecewise.js';\n\nexport {\n\tinterpolatorSplineBasis,\n\tinterpolatorSplineBasisClosed\n} from './interpolate/splineBasis.js';\n\nexport {\n\tinterpolatorSplineNatural,\n\tinterpolatorSplineNaturalClosed\n} from './interpolate/splineNatural.js';\n\nexport {\n\tinterpolatorSplineMonotone,\n\tinterpolatorSplineMonotone2,\n\tinterpolatorSplineMonotoneClosed\n} from './interpolate/splineMonotone.js';\n\nexport { lerp, unlerp, blerp, trilerp } from './interpolate/lerp.js';\nexport { default as samples } from './samples.js';\nexport {\n\tdisplayable,\n\tinGamut,\n\tclampRgb,\n\tclampChroma,\n\tclampGamut,\n\ttoGamut\n} from './clamp.js';\nexport { default as nearest } from './nearest.js';\nexport { useMode, getMode, useParser, removeParser } from './modes.js';\nexport { default as parse } from './parse.js';\n\nexport {\n\tdifferenceEuclidean,\n\tdifferenceCie76,\n\tdifferenceCie94,\n\tdifferenceCiede2000,\n\tdifferenceCmc,\n\tdifferenceHyab,\n\tdifferenceHueSaturation,\n\tdifferenceHueChroma,\n\tdifferenceHueNaive,\n\tdifferenceKotsarenkoRamos,\n\tdifferenceItp\n} from './difference.js';\n\nexport {\n\tfilterBrightness,\n\tfilterContrast,\n\tfilterSepia,\n\tfilterInvert,\n\tfilterSaturate,\n\tfilterGrayscale,\n\tfilterHueRotate\n} from './filter.js';\n\nexport {\n\tfilterDeficiencyProt,\n\tfilterDeficiencyDeuter,\n\tfilterDeficiencyTrit\n} from './deficiency.js';\n\n// Easings\nexport { default as easingMidpoint } from './easing/midpoint.js';\nexport {\n\teasingSmoothstep,\n\teasingSmoothstepInverse\n} from './easing/smoothstep.js';\nexport { default as easingSmootherstep } from './easing/smootherstep.js';\nexport { default as easingInOutSine } from './easing/inOutSine.js';\nexport { default as easingGamma } from './easing/gamma.js';\n\nexport {\n\tluminance as wcagLuminance,\n\tcontrast as wcagContrast\n} from './wcag.js';\n\nexport { default as parseHsl } from './hsl/parseHsl.js';\nexport { default as parseHwb } from './hwb/parseHwb.js';\nexport { default as parseLab } from './lab/parseLab.js';\nexport { default as parseLch } from './lch/parseLch.js';\nexport { default as parseNamed } from './rgb/parseNamed.js';\nexport { default as parseTransparent } from './rgb/parseTransparent.js';\nexport { default as parseHex } from './rgb/parseHex.js';\nexport { default as parseRgb } from './rgb/parseRgb.js';\nexport { default as parseHslLegacy } from './hsl/parseHslLegacy.js';\nexport { default as parseRgbLegacy } from './rgb/parseRgbLegacy.js';\nexport { default as parseOklab } from './oklab/parseOklab.js';\nexport { default as parseOklch } from './oklch/parseOklch.js';\n\nexport { default as convertA98ToXyz65 } from './a98/convertA98ToXyz65.js';\nexport { default as convertCubehelixToRgb } from './cubehelix/convertCubehelixToRgb.js';\nexport { default as convertDlchToLab65 } from './dlch/convertDlchToLab65.js';\nexport { default as convertHsiToRgb } from './hsi/convertHsiToRgb.js';\nexport { default as convertHslToRgb } from './hsl/convertHslToRgb.js';\nexport { default as convertHsvToRgb } from './hsv/convertHsvToRgb.js';\nexport { default as convertHwbToRgb } from './hwb/convertHwbToRgb.js';\nexport { default as convertItpToXyz65 } from './itp/convertItpToXyz65.js';\nexport { default as convertJabToJch } from './jch/convertJabToJch.js';\nexport { default as convertJabToRgb } from './jab/convertJabToRgb.js';\nexport { default as convertJabToXyz65 } from './jab/convertJabToXyz65.js';\nexport { default as convertJchToJab } from './jch/convertJchToJab.js';\nexport { default as convertLab65ToDlch } from './dlch/convertLab65ToDlch.js';\nexport { default as convertLab65ToRgb } from './lab65/convertLab65ToRgb.js';\nexport { default as convertLab65ToXyz65 } from './lab65/convertLab65ToXyz65.js';\nexport { default as convertLabToLch } from './lch/convertLabToLch.js';\nexport { default as convertLabToRgb } from './lab/convertLabToRgb.js';\nexport { default as convertLabToXyz50 } from './lab/convertLabToXyz50.js';\nexport { default as convertLchToLab } from './lch/convertLchToLab.js';\nexport { default as convertLchuvToLuv } from './lchuv/convertLchuvToLuv.js';\nexport { default as convertLrgbToOklab } from './oklab/convertLrgbToOklab.js';\nexport { default as convertLrgbToRgb } from './lrgb/convertLrgbToRgb.js';\nexport { default as convertLuvToLchuv } from './lchuv/convertLuvToLchuv.js';\nexport { default as convertLuvToXyz50 } from './luv/convertLuvToXyz50.js';\nexport { default as convertOkhslToOklab } from './okhsl/convertOkhslToOklab.js';\nexport { default as convertOkhsvToOklab } from './okhsv/convertOkhsvToOklab.js';\nexport { default as convertOklabToLrgb } from './oklab/convertOklabToLrgb.js';\nexport { default as convertOklabToOkhsl } from './okhsl/convertOklabToOkhsl.js';\nexport { default as convertOklabToOkhsv } from './okhsv/convertOklabToOkhsv.js';\nexport { default as convertOklabToRgb } from './oklab/convertOklabToRgb.js';\nexport { default as convertP3ToXyz65 } from './p3/convertP3ToXyz65.js';\nexport { default as convertProphotoToXyz50 } from './prophoto/convertProphotoToXyz50.js';\nexport { default as convertRec2020ToXyz65 } from './rec2020/convertRec2020ToXyz65.js';\nexport { default as convertRgbToCubehelix } from './cubehelix/convertRgbToCubehelix.js';\nexport { default as convertRgbToHsi } from './hsi/convertRgbToHsi.js';\nexport { default as convertRgbToHsl } from './hsl/convertRgbToHsl.js';\nexport { default as convertRgbToHsv } from './hsv/convertRgbToHsv.js';\nexport { default as convertRgbToHwb } from './hwb/convertRgbToHwb.js';\nexport { default as convertRgbToJab } from './jab/convertRgbToJab.js';\nexport { default as convertRgbToLab } from './lab/convertRgbToLab.js';\nexport { default as convertRgbToLab65 } from './lab65/convertRgbToLab65.js';\nexport { default as convertRgbToLrgb } from './lrgb/convertRgbToLrgb.js';\nexport { default as convertRgbToOklab } from './oklab/convertRgbToOklab.js';\nexport { default as convertRgbToXyb } from './xyb/convertRgbToXyb.js';\nexport { default as convertRgbToXyz50 } from './xyz50/convertRgbToXyz50.js';\nexport { default as convertRgbToXyz65 } from './xyz65/convertRgbToXyz65.js';\nexport { default as convertRgbToYiq } from './yiq/convertRgbToYiq.js';\nexport { default as convertXybToRgb } from './xyb/convertXybToRgb.js';\nexport { default as convertXyz50ToLab } from './lab/convertXyz50ToLab.js';\nexport { default as convertXyz50ToLuv } from './luv/convertXyz50ToLuv.js';\nexport { default as convertXyz50ToProphoto } from './prophoto/convertXyz50ToProphoto.js';\nexport { default as convertXyz50ToRgb } from './xyz50/convertXyz50ToRgb.js';\nexport { default as convertXyz50ToXyz65 } from './xyz65/convertXyz50ToXyz65.js';\nexport { default as convertXyz65ToA98 } from './a98/convertXyz65ToA98.js';\nexport { default as convertXyz65ToItp } from './itp/convertXyz65ToItp.js';\nexport { default as convertXyz65ToJab } from './jab/convertXyz65ToJab.js';\nexport { default as convertXyz65ToLab65 } from './lab65/convertXyz65ToLab65.js';\nexport { default as convertXyz65ToP3 } from './p3/convertXyz65ToP3.js';\nexport { default as convertXyz65ToRec2020 } from './rec2020/convertXyz65ToRec2020.js';\nexport { default as convertXyz65ToRgb } from './xyz65/convertXyz65ToRgb.js';\nexport { default as convertXyz65ToXyz50 } from './xyz65/convertXyz65ToXyz50.js';\nexport { default as convertYiqToRgb } from './yiq/convertYiqToRgb.js';\n\nexport {\n\tmodeA98,\n\tmodeCubehelix,\n\tmodeDlab,\n\tmodeDlch,\n\tmodeHsi,\n\tmodeHsl,\n\tmodeHsv,\n\tmodeHwb,\n\tmodeItp,\n\tmodeJab,\n\tmodeJch,\n\tmodeLab,\n\tmodeLab65,\n\tmodeLch,\n\tmodeLch65,\n\tmodeLchuv,\n\tmodeLrgb,\n\tmodeLuv,\n\tmodeOkhsl,\n\tmodeOkhsv,\n\tmodeOklab,\n\tmodeOklch,\n\tmodeP3,\n\tmodeProphoto,\n\tmodeRec2020,\n\tmodeRgb,\n\tmodeXyb,\n\tmodeXyz50,\n\tmodeXyz65,\n\tmodeYiq\n};\n\nexport const a98 = useMode(modeA98);\nexport const cubehelix = useMode(modeCubehelix);\nexport const dlab = useMode(modeDlab);\nexport const dlch = useMode(modeDlch);\nexport const hsi = useMode(modeHsi);\nexport const hsl = useMode(modeHsl);\nexport const hsv = useMode(modeHsv);\nexport const hwb = useMode(modeHwb);\nexport const itp = useMode(modeItp);\nexport const jab = useMode(modeJab);\nexport const jch = useMode(modeJch);\nexport const lab = useMode(modeLab);\nexport const lab65 = useMode(modeLab65);\nexport const lch = useMode(modeLch);\nexport const lch65 = useMode(modeLch65);\nexport const lchuv = useMode(modeLchuv);\nexport const lrgb = useMode(modeLrgb);\nexport const luv = useMode(modeLuv);\nexport const okhsl = useMode(modeOkhsl);\nexport const okhsv = useMode(modeOkhsv);\nexport const oklab = useMode(modeOklab);\nexport const oklch = useMode(modeOklch);\nexport const p3 = useMode(modeP3);\nexport const prophoto = useMode(modeProphoto);\nexport const rec2020 = useMode(modeRec2020);\nexport const rgb = useMode(modeRgb);\nexport const xyb = useMode(modeXyb);\nexport const xyz50 = useMode(modeXyz50);\nexport const xyz65 = useMode(modeXyz65);\nexport const yiq = useMode(modeYiq);\n","import { CSS_TO_CULORI, kebabCase, parseColor, tokenToCulori } from \"./string-Dpqb78jQ.js\";\nimport { displayable, formatCss, formatHex, formatHex8, modeA98, modeHsl, modeHwb, modeLab, modeLab65, modeLch, modeLrgb, modeOkhsv, modeOklab, modeOklch, modeP3, modeProphoto, modeRec2020, modeRgb, modeXyz50, modeXyz65, round, toGamut, useMode } from \"culori/fn\";\nimport { displayable as displayable$1 } from \"culori\";\n\n//#region src/css/lib.ts\nfunction defaultAliasTransform(token) {\n\tif (!token) throw new Error(\"Undefined token\");\n\treturn `var(${makeCSSVar(token.id)})`;\n}\n/** Generate shorthand CSS for select token types */\nfunction generateShorthand({ $type, localID }) {\n\tswitch ($type) {\n\t\tcase \"transition\": return [\n\t\t\t\"duration\",\n\t\t\t\"delay\",\n\t\t\t\"timing-function\"\n\t\t].map((p) => makeCSSVar(`${localID}-${p}`, { wrapVar: true })).join(\" \");\n\t}\n}\nconst CSS_VAR_RE = /(?:(\\p{Uppercase_Letter}?[\\p{Lowercase_Letter}\\p{Number}]+|[\\p{Uppercase_Letter}\\p{Number}]+|[\\u{80}-\\u{10FFFF}\\p{Number}]+)|.)/u;\n/**\n* Generate a valid CSS variable from any string\n* Code by @dfrankland\n*/\nfunction makeCSSVar(name, { prefix, wrapVar = false } = {}) {\n\tif (typeof name !== \"string\") throw new Error(`makeCSSVar() Expected string, received ${name}`);\n\tlet property = name.split(CSS_VAR_RE).filter(Boolean).join(\"-\");\n\tif (prefix && !property.startsWith(`${prefix}-`)) property = `${prefix}-${property}`;\n\tconst finalProperty = `--${property}`.toLocaleLowerCase();\n\treturn wrapVar ? `var(${finalProperty})` : finalProperty;\n}\n\n//#endregion\n//#region src/css/boolean.ts\n/** Convert boolean value to CSS string */\nfunction transformBoolean(token, { tokensSet, transformAlias = defaultAliasTransform }) {\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn token.$value === true ? \"1\" : \"0\";\n}\n\n//#endregion\n//#region src/css/color.ts\n/** Convert color value to CSS string */\nfunction transformColor(token, options) {\n\tconst { transformAlias = defaultAliasTransform, tokensSet } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst { colorSpace, components, alpha = 1 } = typeof token.$value === \"string\" ? parseColor(token.$value) : token.$value;\n\tconst color = tokenToCulori({\n\t\tcolorSpace,\n\t\tcomponents,\n\t\talpha\n\t});\n\tif (!color) throw new Error(`Can’t convert color ${JSON.stringify(token.$value)} to Culori color`);\n\tlet formatColor = formatCss;\n\tif (options.color?.legacyHex) formatColor = color.alpha !== 1 ? formatHex8 : formatHex;\n\treturn displayable(color) ? formatColor(color) : downsample({\n\t\tcolorSpace,\n\t\tcomponents,\n\t\talpha\n\t}, color, options.color?.depth);\n}\nconst converters = {\n\ta98: useMode(modeA98),\n\thsl: useMode(modeHsl),\n\thwb: useMode(modeHwb),\n\tlab: useMode(modeLab),\n\tlab65: useMode(modeLab65),\n\tlch: useMode(modeLch),\n\tlrgb: useMode(modeLrgb),\n\toklab: useMode(modeOklab),\n\toklch: useMode(modeOklch),\n\tokhsv: useMode(modeOkhsv),\n\tp3: useMode(modeP3),\n\tprophoto: useMode(modeProphoto),\n\trec2020: useMode(modeRec2020),\n\trgb: useMode(modeRgb),\n\txyz50: useMode(modeXyz50),\n\txyz65: useMode(modeXyz65)\n};\nconst DEPTH_ROUNDING = {\n\t24: round(4),\n\t30: round(4),\n\t36: round(5),\n\t48: round(6)\n};\n/**\n* Downsample color to sRGB/Display P3/Rec2020 colorspaces.\n* Note: because Culori tends to convert to RGB color spaces to ensure the operation,\n* we have to do an additional step of converting back. So we’re not really converting;\n* we’re just preserving the original colorspace.\n*/\nfunction downsample($value, culoriColor, depth = 30) {\n\tif (!($value.colorSpace in CSS_TO_CULORI)) throw new Error(`Invalid colorSpace \"${$value.colorSpace}\". Expected one of: ${Object.keys(CSS_TO_CULORI).join(\", \")}`);\n\tconst conversionSpace = CSS_TO_CULORI[$value.colorSpace] || \"oklab\";\n\tlet gamutSpace = conversionSpace;\n\tif (gamutSpace === \"lab\" || gamutSpace === \"lab65\") gamutSpace = \"lch\";\n\telse if (gamutSpace === \"oklab\") gamutSpace = \"oklch\";\n\tlet srgb = converters[conversionSpace](toGamut(\"rgb\", gamutSpace)(culoriColor));\n\tlet p3 = converters[conversionSpace](toGamut(\"p3\", gamutSpace)(culoriColor));\n\tlet rec2020 = converters[conversionSpace](toGamut(\"rec2020\", gamutSpace)(culoriColor));\n\tif (typeof depth === \"number\") {\n\t\tif (!DEPTH_ROUNDING[depth]) throw new Error(`Invalid bit depth: ${depth}. Supported values: ${Object.keys(DEPTH_ROUNDING).join(\", \")}`);\n\t\tsrgb = roundColor(srgb, depth);\n\t\tp3 = roundColor(p3, depth);\n\t\trec2020 = roundColor(rec2020, depth);\n\t}\n\treturn {\n\t\t\".\": formatCss(culoriColor),\n\t\tsrgb: formatCss(srgb),\n\t\tp3: formatCss(p3),\n\t\trec2020: formatCss(rec2020)\n\t};\n}\n/** Round color to certain depth. */\nfunction roundColor(color, depth = 30) {\n\tif (depth === \"unlimited\") return color;\n\tconst newColor = { ...color };\n\tfor (const [k, v] of Object.entries(color)) {\n\t\tif (typeof v !== \"number\" || k === \"mode\") continue;\n\t\tnewColor[k] = DEPTH_ROUNDING[depth](v);\n\t}\n\treturn newColor;\n}\n\n//#endregion\n//#region src/css/dimension.ts\n/** Convert dimension value to CSS */\nfunction transformDimension(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn token.$value.value === 0 ? \"0\" : `${token.$value.value}${token.$value.unit}`;\n}\n\n//#endregion\n//#region src/css/stroke-style.ts\n/** Convert strokeStyle value to CSS */\nfunction transformStrokeStyle(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn typeof token.$value === \"string\" ? token.$value : \"dashed\";\n}\n\n//#endregion\n//#region src/css/border.ts\n/** Convert border value to multiple CSS values */\nfunction transformBorder(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst width = token.partialAliasOf?.width ? transformAlias(tokensSet[token.partialAliasOf.width]) : transformDimension({ $value: token.$value.width }, options);\n\tconst color = token.partialAliasOf?.color ? transformAlias(tokensSet[token.partialAliasOf.color]) : transformColor({ $value: token.$value.color }, options);\n\tconst style = token.partialAliasOf?.style ? transformAlias(tokensSet[token.partialAliasOf.style]) : transformStrokeStyle({ $value: token.$value.style }, options);\n\tconst formatBorder = (colorKey) => [\n\t\twidth,\n\t\tstyle,\n\t\ttypeof color === \"string\" ? color : color[colorKey]\n\t].join(\" \");\n\treturn typeof color === \"string\" || displayable$1(color.p3) ? formatBorder(\".\") : {\n\t\t\".\": formatBorder(\".\"),\n\t\tsrgb: formatBorder(\"srgb\"),\n\t\tp3: formatBorder(\"p3\"),\n\t\trec2020: formatBorder(\"rec2020\")\n\t};\n}\n\n//#endregion\n//#region src/css/cubic-bezier.ts\n/** Convert cubicBezier value to CSS */\nfunction transformCubicBezier(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn `cubic-bezier(${token.$value.map((v, i) => token.partialAliasOf?.[i] ? transformAlias(tokensSet[token.partialAliasOf[i]]) : v).join(\", \")})`;\n}\n\n//#endregion\n//#region src/css/duration.ts\n/** Convert duration value to CSS */\nfunction transformDuration(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn `${token.$value.value}${token.$value.unit}`;\n}\n\n//#endregion\n//#region src/css/font-family.ts\nconst FONT_NAME_KEYWORD = /^[a-z-]+$/;\nfunction transformFontFamily(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn token.$value.map((fontName) => FONT_NAME_KEYWORD.test(fontName) ? fontName : `\"${fontName}\"`).join(\", \");\n}\n\n//#endregion\n//#region src/css/font-weight.ts\n/** Convert fontWeight value to CSS */\nfunction transformFontWeight(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn String(token.$value);\n}\n\n//#endregion\n//#region src/css/gradient.ts\n/** Convert gradient value to CSS */\nfunction transformGradient(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tlet isHDR = false;\n\tconst colors = [];\n\tconst positions = [];\n\tfor (let i = 0; i < token.$value.length; i++) {\n\t\tconst { color, position } = token.$value[i];\n\t\tconst colorValue = token.partialAliasOf?.[i]?.color ? transformAlias(tokensSet[token.partialAliasOf[i].color]) : transformColor({ $value: color }, options);\n\t\tif (typeof colorValue !== \"string\") isHDR = true;\n\t\tcolors.push(colorValue);\n\t\tpositions.push(token.partialAliasOf?.[i]?.position ? transformAlias(tokensSet[token.partialAliasOf[i].position]) : `${100 * position}%`);\n\t}\n\tfunction formatStop(i, colorKey = \".\") {\n\t\treturn `${typeof colors[i] === \"string\" ? colors[i] : colors[i][colorKey]} ${positions[i]}`;\n\t}\n\treturn !isHDR ? token.$value.map((_, i) => formatStop(i, positions[i])).join(\", \") : {\n\t\t\".\": token.$value.map((_, i) => formatStop(i, \".\")).join(\", \"),\n\t\tsrgb: token.$value.map((_, i) => formatStop(i, \"srgb\")).join(\", \"),\n\t\tp3: token.$value.map((_, i) => formatStop(i, \"p3\")).join(\", \"),\n\t\trec2020: token.$value.map((_, i) => formatStop(i, \"rec2020\")).join(\", \")\n\t};\n}\n\n//#endregion\n//#region src/css/link.ts\n/** Convert link value to CSS */\nfunction transformLink(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn `url(\"${token.$value}\")`;\n}\n\n//#endregion\n//#region src/css/number.ts\n/** Convert number value to CSS */\nfunction transformNumber(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn String(token.$value);\n}\n\n//#endregion\n//#region src/css/shadow.ts\n/** Convert shadow subvalue to CSS */\nfunction transformShadowLayer(value, options) {\n\tconst { tokensSet, colorValue, partialAliasOf, transformAlias = defaultAliasTransform } = options;\n\tconst offsetX = partialAliasOf?.offsetX ? transformAlias(tokensSet[partialAliasOf.offsetX]) : transformDimension({ $value: value.offsetX }, options);\n\tconst offsetY = partialAliasOf?.offsetY ? transformAlias(tokensSet[partialAliasOf.offsetY]) : transformDimension({ $value: value.offsetY }, options);\n\tconst blur = partialAliasOf?.blur ? transformAlias(tokensSet[partialAliasOf.blur]) : transformDimension({ $value: value.blur }, options);\n\tconst spread = partialAliasOf?.spread ? transformAlias(tokensSet[partialAliasOf.spread]) : transformDimension({ $value: value.spread }, options);\n\treturn [\n\t\tvalue?.inset === true ? \"inset\" : void 0,\n\t\toffsetX,\n\t\toffsetY,\n\t\tblur,\n\t\tspread,\n\t\tcolorValue\n\t].filter(Boolean).join(\" \");\n}\n/** Convert shadow value to CSS */\nfunction transformShadow(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst colors = token.$value.map((v, i) => token.partialAliasOf?.[i]?.color ? transformAlias(tokensSet[token.partialAliasOf[i].color]) : transformColor({ $value: v.color }, options));\n\tconst isHDR = colors.some((c) => typeof c === \"object\");\n\tconst formatShadow = (colorKey) => token.$value.map((v, i) => transformShadowLayer(v, {\n\t\ttokensSet,\n\t\tcolorValue: typeof colors[i] === \"string\" ? colors[i] : colors[i][colorKey],\n\t\tpartialAliasOf: token.partialAliasOf?.[i],\n\t\ttransformAlias\n\t})).join(\", \");\n\treturn !isHDR ? formatShadow(\".\") : {\n\t\t\".\": formatShadow(\".\"),\n\t\tsrgb: formatShadow(\"srgb\"),\n\t\tp3: formatShadow(\"p3\"),\n\t\trec2020: formatShadow(\"rec2020\")\n\t};\n}\n\n//#endregion\n//#region src/css/string.ts\n/** Convert string value to CSS */\nfunction transformString(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\treturn String(token.$value);\n}\n\n//#endregion\n//#region src/css/transition.ts\n/** Convert transition value to shorthand */\nfunction transformTransition(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tif (token.aliasChain?.[0]) return transformAlias(tokensSet[token.aliasChain[0]]);\n\tconst duration = token.partialAliasOf?.duration ? transformAlias(tokensSet[token.partialAliasOf.duration]) : transformDuration({ $value: token.$value.duration }, options);\n\tconst delay = token.partialAliasOf?.delay ? transformAlias(tokensSet[token.partialAliasOf.delay]) : transformDuration({ $value: token.$value.delay }, options);\n\tconst timingFunction = token.partialAliasOf?.timingFunction ? transformAlias(tokensSet[token.partialAliasOf.timingFunction]) : transformCubicBezier({ $value: token.$value.timingFunction }, options);\n\treturn `${duration} ${delay} ${timingFunction}`;\n}\n\n//#endregion\n//#region src/css/typography.ts\n/** Convert typography value to multiple CSS values */\nfunction transformTypography(token, options) {\n\tconst { tokensSet, transformAlias = defaultAliasTransform } = options;\n\tconst output = {};\n\tfor (const [property, subvalue] of Object.entries(token.$value)) {\n\t\tlet transformedValue;\n\t\tconst aliasedID = token.aliasChain?.[0] ?? token.partialAliasOf?.[property];\n\t\tif (aliasedID) {\n\t\t\tconst resolvedToken = tokensSet[aliasedID];\n\t\t\ttransformedValue = transformAlias(resolvedToken.$type === \"typography\" ? { id: `${aliasedID}-${property}` } : resolvedToken);\n\t\t} else switch (property) {\n\t\t\tcase \"fontFamily\":\n\t\t\t\ttransformedValue = transformFontFamily({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tcase \"fontSize\":\n\t\t\tcase \"letterSpacing\":\n\t\t\t\ttransformedValue = transformDimension({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tcase \"fontWeight\":\n\t\t\t\ttransformedValue = transformFontWeight({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tcase \"lineHeight\":\n\t\t\t\tif (typeof subvalue === \"number\") transformedValue = transformNumber({ $value: subvalue }, options);\n\t\t\t\telse transformedValue = transformDimension({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttransformedValue = transformString({ $value: subvalue }, options);\n\t\t\t\tbreak;\n\t\t}\n\t\toutput[kebabCase(property)] = transformedValue;\n\t}\n\treturn output;\n}\n\n//#endregion\n//#region src/css/index.ts\n/** Main CSS Transform */\nfunction transformCSSValue(token, { mode,...options }) {\n\tconst selectedMode = token.mode[mode];\n\tif (!selectedMode) return;\n\tconst tokenWithModeValue = {\n\t\tid: token.id,\n\t\t$type: token.$type,\n\t\t...selectedMode\n\t};\n\tswitch (tokenWithModeValue.$type) {\n\t\tcase \"boolean\": return transformBoolean(tokenWithModeValue, options);\n\t\tcase \"border\": return transformBorder(tokenWithModeValue, options);\n\t\tcase \"color\": return transformColor(tokenWithModeValue, options);\n\t\tcase \"cubicBezier\": return transformCubicBezier(tokenWithModeValue, options);\n\t\tcase \"dimension\": return transformDimension(tokenWithModeValue, options);\n\t\tcase \"duration\": return transformDuration(tokenWithModeValue, options);\n\t\tcase \"fontFamily\": return transformFontFamily(tokenWithModeValue, options);\n\t\tcase \"fontWeight\": return transformFontWeight(tokenWithModeValue, options);\n\t\tcase \"gradient\": return transformGradient(tokenWithModeValue, options);\n\t\tcase \"link\": return transformLink(tokenWithModeValue, options);\n\t\tcase \"number\": return transformNumber(tokenWithModeValue, options);\n\t\tcase \"shadow\": return transformShadow(tokenWithModeValue, options);\n\t\tcase \"string\": return transformString(tokenWithModeValue, options);\n\t\tcase \"strokeStyle\": return transformStrokeStyle(tokenWithModeValue, options);\n\t\tcase \"transition\": return transformTransition(tokenWithModeValue, options);\n\t\tcase \"typography\": return transformTypography(tokenWithModeValue, options);\n\t}\n}\n\n//#endregion\nexport { DEPTH_ROUNDING, defaultAliasTransform, generateShorthand, makeCSSVar, roundColor, transformBoolean, transformBorder, transformCSSValue, transformColor, transformCubicBezier, transformDimension, transformDuration, transformFontFamily, transformFontWeight, transformGradient, transformLink, transformNumber, transformShadow, transformShadowLayer, transformString, transformStrokeStyle, transformTransition, transformTypography };\n//# sourceMappingURL=css.js.map","/**\n * Escapes a character if it has a special meaning in regular expressions\n * and returns the character as is if it doesn't\n */\nfunction escapeRegExpChar(char) {\n    if (char === '-' ||\n        char === '^' ||\n        char === '$' ||\n        char === '+' ||\n        char === '.' ||\n        char === '(' ||\n        char === ')' ||\n        char === '|' ||\n        char === '[' ||\n        char === ']' ||\n        char === '{' ||\n        char === '}' ||\n        char === '*' ||\n        char === '?' ||\n        char === '\\\\') {\n        return \"\\\\\".concat(char);\n    }\n    else {\n        return char;\n    }\n}\n/**\n * Escapes all characters in a given string that have a special meaning in regular expressions\n */\nfunction escapeRegExpString(str) {\n    var result = '';\n    for (var i = 0; i < str.length; i++) {\n        result += escapeRegExpChar(str[i]);\n    }\n    return result;\n}\n/**\n * Transforms one or more glob patterns into a RegExp pattern\n */\nfunction transform(pattern, separator) {\n    if (separator === void 0) { separator = true; }\n    if (Array.isArray(pattern)) {\n        var regExpPatterns = pattern.map(function (p) { return \"^\".concat(transform(p, separator), \"$\"); });\n        return \"(?:\".concat(regExpPatterns.join('|'), \")\");\n    }\n    var separatorSplitter = '';\n    var separatorMatcher = '';\n    var wildcard = '.';\n    if (separator === true) {\n        separatorSplitter = '/';\n        separatorMatcher = '[/\\\\\\\\]';\n        wildcard = '[^/\\\\\\\\]';\n    }\n    else if (separator) {\n        separatorSplitter = separator;\n        separatorMatcher = escapeRegExpString(separatorSplitter);\n        if (separatorMatcher.length > 1) {\n            separatorMatcher = \"(?:\".concat(separatorMatcher, \")\");\n            wildcard = \"((?!\".concat(separatorMatcher, \").)\");\n        }\n        else {\n            wildcard = \"[^\".concat(separatorMatcher, \"]\");\n        }\n    }\n    var requiredSeparator = separator ? \"\".concat(separatorMatcher, \"+?\") : '';\n    var optionalSeparator = separator ? \"\".concat(separatorMatcher, \"*?\") : '';\n    var segments = separator ? pattern.split(separatorSplitter) : [pattern];\n    var result = '';\n    for (var s = 0; s < segments.length; s++) {\n        var segment = segments[s];\n        var nextSegment = segments[s + 1];\n        var currentSeparator = '';\n        if (!segment && s > 0) {\n            continue;\n        }\n        if (separator) {\n            if (s === segments.length - 1) {\n                currentSeparator = optionalSeparator;\n            }\n            else if (nextSegment !== '**') {\n                currentSeparator = requiredSeparator;\n            }\n            else {\n                currentSeparator = '';\n            }\n        }\n        if (separator && segment === '**') {\n            if (currentSeparator) {\n                result +=\n                    s === 0\n                        ? ''\n                        : s === segments.length - 1\n                            ? \"(?:\".concat(requiredSeparator, \"|$)\")\n                            : requiredSeparator;\n                result += \"(?:\".concat(wildcard, \"*?\").concat(currentSeparator, \")*?\");\n            }\n            continue;\n        }\n        for (var c = 0; c < segment.length; c++) {\n            var char = segment[c];\n            if (char === '\\\\') {\n                if (c < segment.length - 1) {\n                    result += escapeRegExpChar(segment[c + 1]);\n                    c++;\n                }\n            }\n            else if (char === '?') {\n                result += wildcard;\n            }\n            else if (char === '*') {\n                result += \"\".concat(wildcard, \"*?\");\n            }\n            else {\n                result += escapeRegExpChar(char);\n            }\n        }\n        result += currentSeparator;\n    }\n    return result;\n}\n\nfunction isMatch(regexp, sample) {\n    if (typeof sample !== 'string') {\n        throw new TypeError(\"Sample must be a string, but \".concat(typeof sample, \" given\"));\n    }\n    return regexp.test(sample);\n}\n/**\n * Compiles one or more glob patterns into a RegExp and returns an isMatch function.\n * The isMatch function takes a sample string as its only argument and returns `true`\n * if the string matches the pattern(s).\n *\n * ```js\n * wildcardMatch('src/*.js')('src/index.js') //=> true\n * ```\n *\n * ```js\n * const isMatch = wildcardMatch('*.example.com', '.')\n * isMatch('foo.example.com') //=> true\n * isMatch('foo.bar.com') //=> false\n * ```\n */\nfunction wildcardMatch(pattern, options) {\n    if (typeof pattern !== 'string' && !Array.isArray(pattern)) {\n        throw new TypeError(\"The first argument must be a single pattern string or an array of patterns, but \".concat(typeof pattern, \" given\"));\n    }\n    if (typeof options === 'string' || typeof options === 'boolean') {\n        options = { separator: options };\n    }\n    if (arguments.length === 2 &&\n        !(typeof options === 'undefined' ||\n            (typeof options === 'object' && options !== null && !Array.isArray(options)))) {\n        throw new TypeError(\"The second argument must be an options object or a string/boolean separator, but \".concat(typeof options, \" given\"));\n    }\n    options = options || {};\n    if (options.separator === '\\\\') {\n        throw new Error('\\\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead');\n    }\n    var regexpPattern = transform(pattern, options.separator);\n    var regexp = new RegExp(\"^\".concat(regexpPattern, \"$\"), options.flags);\n    var fn = isMatch.bind(null, regexp);\n    fn.options = options;\n    fn.pattern = pattern;\n    fn.regexp = regexp;\n    return fn;\n}\n\nexport { wildcardMatch as default };\n//# sourceMappingURL=index.es.mjs.map\n","import type { CSSPluginOptions } from '@terrazzo/plugin-css';\n\nexport interface SassPluginOptions {\n  /** Where to output CSS */\n  filename?: CSSPluginOptions['filename'];\n  /** Glob patterns to exclude tokens from output */\n  exclude?: CSSPluginOptions['exclude'];\n}\n\nexport const FILE_HEADER = `////\n/// Autogenerated by ⛋ Terrazzo. DO NOT EDIT!\n////\n\n@use \"sass:list\";\n@use \"sass:map\";\n@use \"sass:meta\";`;\n\nexport const MIXIN_TOKEN = `@function token($tokenName) {\n  @if map.has-key($__token-values, $tokenName) == false {\n    @error 'No token named \"#{$tokenName}\"';\n  }\n  $_token: map.get($__token-values, $tokenName);\n  @if meta.type-of($_token) == map and map.has-key($_token, \"__tz-error\") {\n    @error map.get($_token, \"__tz-error\");\n  }\n\n  @return $_token;\n}`;\n\nexport const MIXIN_TYPOGRAPHY = `@mixin typography($tokenName, $modeName: \".\") {\n  @if map.has-key($__token-typography-mixins, $tokenName) == false {\n    @error 'No typography mixin named \"#{$tokenName}\"';\n  }\n  $_mixin: map.get($__token-typography-mixins, $tokenName);\n  $_properties: map.get($_mixin, \".\");\n  @if map.has-key($_mixin) {\n    $_properties: map.get($_mixin);\n  }\n  @each $_property, $_value in $_properties {\n    #{$_property}: #{$_value};\n  }\n}`;\n","import type { BuildHookOptions } from '@terrazzo/parser';\nimport { FORMAT_ID } from '@terrazzo/plugin-css';\nimport { makeCSSVar } from '@terrazzo/token-tools/css';\nimport wcmatch from 'wildcard-match';\nimport { FILE_HEADER, MIXIN_TOKEN, MIXIN_TYPOGRAPHY, type SassPluginOptions } from './lib.js';\n\nexport interface BuildParams {\n  getTransforms: BuildHookOptions['getTransforms'];\n  options?: SassPluginOptions;\n}\n\nexport default function build({ getTransforms, options }: BuildParams): string {\n  const tokens = getTransforms({ format: FORMAT_ID, id: '*', mode: '.' });\n\n  const output: string[] = [FILE_HEADER, ''];\n\n  const shouldExclude = wcmatch(options?.exclude ?? []);\n\n  // main values\n  output.push('$__token-values: (');\n  for (const token of tokens) {\n    if (shouldExclude(token.token.id)) {\n      continue;\n    }\n    // typography tokens handled later\n    if (token.token.$type === 'typography') {\n      output.push(`  \"${token.token.id}\": (\n    \"__tz-error\": 'This is a typography mixin. Use \\`@include typography(\"${token.token.id}\")\\` instead.',\n  ),`);\n    } else {\n      const name = token.localID ?? token.token.id;\n      output.push(`  \"${token.token.id}\": (${makeCSSVar(name, { wrapVar: true })}),`);\n    }\n  }\n  output.push(');', '');\n\n  // typography mixins\n  output.push('$__token-typography-mixins: (');\n\n  const typographyTokens = getTransforms({ format: 'css', id: '*', mode: '.', $type: 'typography' });\n  for (const token of typographyTokens) {\n    output.push(`  \"${token.token.id}\": (`);\n    for (const property of Object.keys(token.value)) {\n      const name = `${token.localID ?? token.token.id}-${property}`;\n      output.push(`    \"${property}\": (${makeCSSVar(name, { wrapVar: true })}),`);\n    }\n    output.push('  ),');\n  }\n  output.push(');', '');\n\n  output.push(MIXIN_TOKEN, '', MIXIN_TYPOGRAPHY, '');\n\n  return output.join('\\n');\n}\n","import type { Plugin } from '@terrazzo/parser';\nimport build from './build.js';\nimport type { SassPluginOptions } from './lib.js';\n\nexport * from './lib.js';\n\nexport default function pluginSass(options?: SassPluginOptions): Plugin {\n  const filename = options?.filename ?? 'index.scss';\n\n  return {\n    name: '@terrazzo/plugin-sass',\n    enforce: 'post',\n    config(config) {\n      // plugin-css is required for transforms. throw error\n      if (!config.plugins.some((p) => p.name === '@terrazzo/plugin-css')) {\n        throw new Error(\n          `@terrazzo/plugin-sass relies on @terrazzo/plugin-css.\nPlease install @terrazzo/plugin-css and follow setup to add to your config.`,\n        );\n      }\n    },\n    async build({ getTransforms, outputFile }) {\n      const output = build({ getTransforms, options });\n      outputFile(filename, output);\n    },\n  };\n}\n"],"x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,134],"mappings":"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"}